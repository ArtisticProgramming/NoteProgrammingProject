!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t,o){"use strict";o.r(t),o.d(t,"noteJsModel",function(){return n});var n={test:{name:"mostafa"},getNotes:function(e){return axios.get("/GetNotes?page="+e.page+"&perPage="+e.perPage+e.title+e.bookMark+e.noteType+e.projectName+e.technology+e.specificSubject)},deleteNote:function(e){return axios.get("/DeleteNote?id="+e)}}},function(e,t,o){"use strict";o.r(t),o.d(t,"dropdowns",function(){return n});let n={enableNoteType:function(e){$("#nType").select2({initSelection:function(e,t){},ajax:{url:"/GetNoteTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","").on("change",function(t){var o=$(this).select2("data");console.log(o),void 0!==o&&(e.nodeModel.noteType.text=o.text,e.nodeModel.noteType.id=o.id)})},enableProject:function(e){$("#project").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetProjectTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){e.projectType="";var o=$(this).select2("data")[0];console.log(o),void 0!==o&&(e.nodeModel.projectType.text=o.text,e.nodeModel.projectType.id=o.id),console.log(e.projectType)})},enableGeneralSubject:function(e){$("#technology").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetTechnologies",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){var o=$(this).select2("data")[0];void 0!==o&&(e.nodeModel.technologyType.text=o.text,e.nodeModel.technologyType.id=o.id)})},enableSpecificSubject:function(e){$("#specificSubject").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetSpecificSubject",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){var o=$(this).select2("data")[0];void 0!==o&&(e.nodeModel.specificSubject.text=o.text,e.nodeModel.specificSubject.id=o.id)})}}},function(e,t,o){"use strict";o.r(t),o.d(t,"codeMirrorComponent",function(){return n});const n=Vue.component("code-mirror",{template:"<textarea>{{body}}</textarea>",props:["body","lang","index"],methods:{methodThatForcesUpdate(){}},mounted:function(){var e=this,t=$(this.$el);CodeMirror.fromTextArea(t[0],{mode:this.lang,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0}).on("change",t=>{e.$emit("input-text-area",{index:e.index,value:t.getValue()})})},beforeDestroy:function(){let e=0;for(e=0;e<$(".CodeMirror").length;e++){var t=$(".CodeMirror")[e];void 0!==t&&(t.CodeMirror.setOption("mode","text/x-csrc"),t.CodeMirror.getWrapperElement().parentNode.removeChild(t.CodeMirror.getWrapperElement()),t.CodeMirror=null)}},destroyed:function(){}})},function(e,t,o){"use strict";o.r(t),o.d(t,"select2",function(){return n});const n=Vue.component("select2",{props:["options","value","url"],data:()=>({selectValue:"1234"}),template:"<input /> ",mounted:function(){var e=this;n=$(this.$el).select2({initSelection:function(e,t){},ajax:{url:e.url,dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(console.log(),0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","").on("change",function(t){var o=$(this).select2("data");console.log(o),void 0!==o&&e.$emit("input-data",o)})},watch:{value:function(e){console.log(e),""==e&&$(this.$el).select2("val","")},options:function(e){console.log(e)}},destroyed:function(){$(this.$el).off().select2("destroy")}})},function(e,t,o){"use strict";o.r(t),o.d(t,"utility",function(){return n});let n={getUrlParameter:function(e){var t,o,n=window.location.search.substring(1).split("&");for(o=0;o<n.length;o++)if((t=n[o].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}}},function(e,t,o){o(6),o(7),o(8),o(9),o(10),o(0),o(2),o(3),o(4),e.exports=o(1)},function(e,t,o){"use strict";o.r(t);o(0);var n=o(2),i=o(3),l=o(1);window.EnableAddNode=function(){var e=new Vue({el:"#anapp",data:{selected:"kkk",message:"Create a Note",nodeModel:{bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}]},componentKey:1},components:{codeMirrorComponent:n.codeMirrorComponent,select2:i.select2},updated:function(){},methods:{submit(){axios.post("/PostAddNote",{model:this.nodeModel}).then(e=>{this.nodeModel={bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}],componentKey:1},this.componentKey+=1,$("#technology").select2("val",""),$("#project").select2("val",""),this.selected="",$("#specificSubject").select2("val","")}).catch(e=>{alert(e)})},getSelectValue(e){this.nodeModel.noteType.text=e.text,this.nodeModel.noteType.id=e.id},updateType(e){},updateTechnology(e){},updateProjectType(e){console.log(e),this.nodeModel.projectType=e},updateCodeMirrorText(e){console.log(e),this.nodeModel.model[e.index].mainbody=e.value},add(){this.nodeModel.model.push({mainbody:"",desc:"",lang:""})}},beforeCreate(){console.log("Nothing gets called before me!")},created(){console.log("created ")},mounted(){console.log("sssssssssssssssssssssssssssssssssss"),l.dropdowns.enableProject(e),l.dropdowns.enableGeneralSubject(e),l.dropdowns.enableSpecificSubject(e)}});$(document).ready(function(){window.getProjectValue=function(){var e=$("#project").select2("data");return console.log(e),e[0].text}})}},function(e,t,o){"use strict";o.r(t);var n=o(0),i=o(2),l=o(4),c=(o(1),o(3));window.EnableVusJs=function(){console.log(n.noteJsModel.test.name);var e="inactive",t=1,o=new Vue({el:"#app",data:{noteType:{},message:"Hello Vue!",searchModel:{searchTextBox:"",bookMark:!1,noteType:"",projectName:"",technology:"",specificSubject:""},boxmodel:[],deleteModalNote:{id:0,index:0,text:""},componentKey:0},components:{codeMirrorComponent:i.codeMirrorComponent,select2:c.select2},updated:function(){},methods:{getNoteTypeSelectValue(e){this.searchModel.noteType=e.text},search:function(){t=1,this.loadNote(t,!0)},loadNote(t,o){console.log("LLLLLLLLLLLLLLLLOOODDD");var i={page:t,perPage:8,title:"",bookMark:"",noteType:"",projectName:"",technology:"",specificSubject:""};console.log(this.searchModel.searchTextBox),void 0!==this.searchModel.searchTextBox&&""!=this.searchModel.searchTextBox&&(i.title="&title="+this.searchModel.searchTextBox),void 0!==this.searchModel.bookMark&&0!=this.searchModel.bookMark&&(i.bookMark="&bookMark="+this.searchModel.bookMark),void 0!==this.searchModel.noteType&&0!=this.searchModel.noteType&&(i.noteType="&noteType="+this.searchModel.noteType),void 0!==this.searchModel.projectName&&0!=this.searchModel.projectName&&(i.projectName="&projectName="+this.searchModel.projectName),void 0!==this.searchModel.technology&&0!=this.searchModel.technology&&(i.technology="&technology="+this.searchModel.technology),void 0!==this.searchModel.specificSubject&&0!=this.searchModel.specificSubject&&(i.specificSubject="&specificSubject="+this.searchModel.specificSubject),n.noteJsModel.getNotes(i).then(t=>{o?(this.boxmodel=[],this.boxmodel=t.data.model):t.data.model.forEach(e=>{this.boxmodel.push(e)}),e="inactive",this.$nextTick(function(){this.componentKey+=1})})},OpenCloseNote(e){$("#oc-"+e),console.log($(this).parent().parent().children(".cardHeigth"));var t=$("#oc-"+e),o=$(t).parent().parent();return"100px"==$(t).css("height")?($(t).css("height","auto"),$(t).css("overflow-y","hidden"),$(o).removeClass("col-lg-6"),$(o).addClass("col-lg-12")):($(t).css("height","100px"),$(t).css("overflow-y","scroll"),$(o).removeClass("col-lg-12"),$(o).addClass("col-lg-6")),!1},openDeleteModal(e,t){console.log(e),this.deleteModalNote.id=e,this.deleteModalNote.index=t,this.$nextTick(function(){$("#deleteModal").modal("toggle")})},deleteNote(e,t){n.noteJsModel.deleteNote(e).then(e=>{this.$delete(this.boxmodel,t),this.$nextTick(function(){$("#deleteModal").modal("hide"),this.componentKey+=1})})}},created:function(){},mounted(){console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),console.log("page=>"),console.log(l.utility.getUrlParameter("project")),this.loadNote(t)}});$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-5&&"inactive"==e&&(e="active",setTimeout(function(){t+=1,o.loadNote(t)},500))}),$(document).ready(function(){$("#searchTxt").focus()}),$("body").on("click",".OpenCloseNote",function(){})}},function(e,t){!function(){window.noteUtilityJs=window.noteUtilityJs||{};var e=[];for(i=0;i<document.getElementsByClassName("mirrorCode").length;i++){var t=$($(".mirrorCode")[i]).attr("lang");console.log("lang = "+t);var o=CodeMirror.fromTextArea(document.getElementsByClassName("mirrorCode")[i],{mode:t,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});e.push(o)}$(document).ready(function(){$("#example thead tr").clone(!0).appendTo("#example thead"),$("#example thead tr:eq(1) th").each(function(t){var o=$(this).text();$(this).html('<input type="text" placeholder="Search '+o+'" />'),$("input",this).on("keyup change",function(){e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})});var e=$("#example").DataTable({orderCellsTop:!0,fixedHeader:!0})})}()},function(e,t){!function(e){"use strict";var t=1;function o(){e("body").toggleClass("sidebar-toggled"),e(".sidebar").toggleClass("toggled"),e(".sidebar").hasClass("toggled")&&e(".sidebar .collapse").collapse("hide")}e("body").on("click","#addprogrammingnotebody",function(){let o="code"+t;var n='<div class="form-group note-body">\n                          <textarea id="'+o+'" rows="8" name=\'code['+t+'][body]\' style="margin: 10px; "\n                          value="" class="code form-control"></textarea>\n                      </div',i='<div class="row">\n            <div class="form-group col-md-9"><input id="exampleInputEmail1" \n                type="text" aria-describedby="emailHelp"\n                    placeholder="Title" name="code['+t+'][desc]" class="form-control"></div>\n            <div box-id="'+o+'"  class="form-group col-md-3 selectlang">\n            <select class="form-control form-control" name="code['+t+'][codelang]">\n                    <option value="htmlmixed">Html</option>\n                    <option value="text/css"> CSS</option>\n                    <option value="text/javascript"> JavaScript</option>\n                    <option value="text/x-sql"> SQl</option>\n                    <option value="text/x-csharp"> C#</option>\n                    <option value="text/x-python"> Python</option>\n                    <option value="text/x-java"> Java</option>\n                    <option value="text/x-php"> PHP</option>\n                    <option value="text/x-c++src"> C++</option>\n                    <option value="text/x-csrc"> C</option>\n                    <option value="text/x-go"> Go</option>\n                    <option value="text/x-rsrc"> R</option>\n                    <option value="application/x-powershell"> PowerShell</option>\n                </select></div>\n            </div>';e(".note-body").last().after(i+n);CodeMirror.fromTextArea(document.getElementById(o),{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});t+=1}),e("body").on("change",".selectlang",function(){e(this).attr("box-id"),e(this).val()}),e("#searchBoxBtn").click(function(){var t=e("#searchBox").val();location.href="/Notes?title="+t}),o(),e("#sidebarToggle, #sidebarToggleTop").on("click",function(e){o()}),e(window).resize(function(){e(window).width()<768&&e(".sidebar .collapse").collapse("hide")}),e("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(t){if(e(window).width()>768){var o=t.originalEvent,n=o.wheelDelta||-o.detail;this.scrollTop+=30*(n<0?1:-1),t.preventDefault()}}),e(document).on("scroll",function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e(document).on("click","a.scroll-to-top",function(t){var o=e(this);e("html, body").stop().animate({scrollTop:e(o.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()})}(jQuery)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9tb2RlbC9ub3RlSnNNb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbW1vbi9kcm9wZG93bnNKcy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvc2VsZWN0Mi5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbW1vbi91dGlsaXR5SnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9BZGROb3RlSnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9Ob3Rlc0pzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvTm90ZVV0aWxpdHlKcy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3NiLWFkbWluLTIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwibm90ZUpzTW9kZWwiLCJ0ZXN0IiwiZ2V0Tm90ZXMiLCJwYXJhbSIsImF4aW9zIiwicGFnZSIsInBlclBhZ2UiLCJ0aXRsZSIsImJvb2tNYXJrIiwibm90ZVR5cGUiLCJwcm9qZWN0TmFtZSIsInRlY2hub2xvZ3kiLCJzcGVjaWZpY1N1YmplY3QiLCJkZWxldGVOb3RlIiwiaWQiLCJkcm9wZG93bnMiLCJlbmFibGVOb3RlVHlwZSIsImFwcCIsIiQiLCJzZWxlY3QyIiwiaW5pdFNlbGVjdGlvbiIsImVsZW1lbnQiLCJjYWxsYmFjayIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsInF1aWV0TWlsbGlzIiwiZGF0YSIsInRlcm0iLCJxdWVyeSIsInJlc3VsdHMiLCJtb2RlbCIsImNyZWF0ZVNlYXJjaENob2ljZSIsImZpbHRlciIsInRoaXMiLCJ0ZXh0IiwibG9jYWxlQ29tcGFyZSIsImxlbmd0aCIsIm9uIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJ1bmRlZmluZWQiLCJub2RlTW9kZWwiLCJlbmFibGVQcm9qZWN0IiwidGFncyIsIm1heGltdW1JbnB1dExlbmd0aCIsIm1heGltdW1TZWxlY3Rpb25TaXplIiwibXVsdGlwbGUiLCJwcm9qZWN0VHlwZSIsImVuYWJsZUdlbmVyYWxTdWJqZWN0IiwidGVjaG5vbG9neVR5cGUiLCJlbmFibGVTcGVjaWZpY1N1YmplY3QiLCJjb2RlTWlycm9yQ29tcG9uZW50IiwiVnVlIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJwcm9wcyIsIm1ldGhvZHMiLCJbb2JqZWN0IE9iamVjdF0iLCJtb3VudGVkIiwidm0iLCIkZWwiLCJDb2RlTWlycm9yIiwiZnJvbVRleHRBcmVhIiwibGFuZyIsImxpbmVOdW1iZXJzIiwic3R5bGVBY3RpdmVMaW5lIiwibWF0Y2hCcmFja2V0cyIsInZpZXdwb3J0TWFyZ2luIiwiSW5maW5pdHkiLCJlZGl0b3IiLCIkZW1pdCIsImluZGV4IiwiZ2V0VmFsdWUiLCJiZWZvcmVEZXN0cm95IiwiY20iLCJzZXRPcHRpb24iLCJnZXRXcmFwcGVyRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImRlc3Ryb3llZCIsInNlbGVjdFZhbHVlIiwid2F0Y2giLCJvcHRpb25zIiwib2ZmIiwidXRpbGl0eSIsImdldFVybFBhcmFtZXRlciIsInNQYXJhbSIsInNQYXJhbWV0ZXJOYW1lIiwic1VSTFZhcmlhYmxlcyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJFbmFibGVBZGROb2RlIiwiZWwiLCJzZWxlY3RlZCIsIm1lc3NhZ2UiLCJtYWluYm9keSIsImRlc2MiLCJjb21wb25lbnRLZXkiLCJjb21wb25lbnRzIiwiX2NvbXBvbmVudHNfY29kZU1pcnJvckNvbXBvbmVudF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX2NvbXBvbmVudHNfc2VsZWN0Ml9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwidXBkYXRlZCIsInBvc3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJjYXRjaCIsImVycm9yIiwiYWxlcnQiLCJ2YXJpYWJsZSIsIml0ZW0iLCJwdXNoIiwiX2NvbW1vbl9kcm9wZG93bnNKc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwiZG9jdW1lbnQiLCJyZWFkeSIsImdldFByb2plY3RWYWx1ZSIsIl9tb2RlbF9ub3RlSnNNb2RlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2NvbW1vbl91dGlsaXR5SnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9jb21wb25lbnRzX3NlbGVjdDJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIkVuYWJsZVZ1c0pzIiwiYWN0aW9uIiwic2VhcmNoTW9kZWwiLCJzZWFyY2hUZXh0Qm94IiwiYm94bW9kZWwiLCJkZWxldGVNb2RhbE5vdGUiLCJsb2FkTm90ZSIsInJlc2V0IiwiZm9yRWFjaCIsIiRuZXh0VGljayIsInBhcmVudCIsImNoaWxkcmVuIiwic2VsY3RvciIsInNlbGUiLCJjc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwibW9kYWwiLCIkZGVsZXRlIiwiY3JlYXRlZCIsInNjcm9sbCIsInNjcm9sbFRvcCIsImhlaWdodCIsInNldFRpbWVvdXQiLCJmb2N1cyIsIm5vdGVVdGlsaXR5SnMiLCJlZGl0QXJyIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImF0dHIiLCJjbG9uZSIsImFwcGVuZFRvIiwiZWFjaCIsImh0bWwiLCJ0YWJsZSIsImNvbHVtbiIsImRyYXciLCJEYXRhVGFibGUiLCJvcmRlckNlbGxzVG9wIiwiZml4ZWRIZWFkZXIiLCJpZGMiLCJ0b2dnbGVTaWRlYmFyIiwidG9nZ2xlQ2xhc3MiLCJoYXNDbGFzcyIsImNvbGxhcHNlIiwidGV4dEFyZWFCb2R5Iiwicm93IiwibGFzdCIsImFmdGVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWwiLCJjbGljayIsInJlc3VsdCIsImhyZWYiLCJyZXNpemUiLCJ3aWR0aCIsImUwIiwib3JpZ2luYWxFdmVudCIsImRlbHRhIiwid2hlZWxEZWx0YSIsImRldGFpbCIsInByZXZlbnREZWZhdWx0IiwiZmFkZUluIiwiZmFkZU91dCIsIiRhbmNob3IiLCJzdG9wIiwiYW5pbWF0ZSIsIm9mZnNldCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMs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QUEsZ0JBQUFELElBWUFYLElBRUFsSixFQUFBLHFDQUFBb0IsR0FBQSxpQkFBQUMsR0FDQTZILE1BU0FsSixFQUFBeUUsUUFBQXNGLE9BQUEsV0FDQS9KLEVBQUF5RSxRQUFBdUYsUUFBQSxLQUNBaEssRUFBQSxzQkFBQXFKLFNBQUEsVUFLQXJKLEVBQUEsMkJBQUFvQixHQUFBLDJDQUFBQyxHQUNBLEdBQUFyQixFQUFBeUUsUUFBQXVGLFFBQUEsS0FDQSxJQUFBQyxFQUFBNUksRUFBQTZJLGNBQ0FDLEVBQUFGLEVBQUFHLGFBQUFILEVBQUFJLE9BQ0FySixLQUFBK0csV0FBQSxJQUFBb0MsRUFBQSxRQUNBOUksRUFBQWlKLG9CQUtBdEssRUFBQW9HLFVBQUFoRixHQUFBLG9CQUNBcEIsRUFBQWdCLE1BQUErRyxZQUNBLElBQ0EvSCxFQUFBLGtCQUFBdUssU0FFQXZLLEVBQUEsa0JBQUF3SyxZQUtBeEssRUFBQW9HLFVBQUFoRixHQUFBLG1DQUFBQyxHQUNBLElBQUFvSixFQUFBekssRUFBQWdCLE1BQ0FoQixFQUFBLGNBQUEwSyxPQUFBQyxRQUFBLENBQ0E1QyxVQUFBL0gsRUFBQXlLLEVBQUFuQyxLQUFBLFNBQUFzQyxTQUFBLEtBQ0sscUJBQ0x2SixFQUFBaUosbUJBakhBLENBb0hDTyIsImZpbGUiOiJkaXN0L21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJ2YXIgbm90ZUpzTW9kZWwgPSB7XHJcbiAgICB0ZXN0OiB7XHJcbiAgICAgICAgbmFtZTogXCJtb3N0YWZhXCJcclxuICAgIH0sXHJcbiAgICBnZXROb3RlczogZnVuY3Rpb24gKHBhcmFtKSB7XHJcbiAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL0dldE5vdGVzP3BhZ2U9JyArcGFyYW0ucGFnZSArIFwiJnBlclBhZ2U9XCJcclxuICAgICAgICAgKyBwYXJhbS5wZXJQYWdlIFxyXG4gICAgICAgICArIHBhcmFtLnRpdGxlIFxyXG4gICAgICAgICArIHBhcmFtLmJvb2tNYXJrIFxyXG4gICAgICAgICArIHBhcmFtLm5vdGVUeXBlXHJcbiAgICAgICAgICsgcGFyYW0ucHJvamVjdE5hbWVcclxuICAgICAgICAgKyBwYXJhbS50ZWNobm9sb2d5XHJcbiAgICAgICAgICsgcGFyYW0uc3BlY2lmaWNTdWJqZWN0XHJcbiAgICAgICAgIClcclxuICAgIH0sXHJcbiAgICBkZWxldGVOb3RlOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvRGVsZXRlTm90ZT9pZD0nICsgaWQpXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBub3RlSnNNb2RlbCB9OyIsImxldCBkcm9wZG93bnMgPSB7XHJcbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLU5vdGVUeXBlLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBlbmFibGVOb3RlVHlwZSA6IGZ1bmN0aW9uIChhcHApIHtcclxuICAgICAgICAkKFwiI25UeXBlXCIpLnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAvLyB0YWdzOiBbXSxcclxuICAgICAgICAgICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgICAgICAgICAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAgICAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgICAgIC8vIGFwcC5wcm9qZWN0VHlwZSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYXBwLnByb2plY3RUeXBlKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgICAgICAgLy9tYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgICAgICAgICAvLyBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgICAgICAgICAgYWpheDogeyAvLyBpbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHJlcXVlc3Qgd2UgdXNlIFNlbGVjdDIncyBjb252ZW5pZW50IGhlbHBlclxyXG4gICAgICAgICAgICAgIHVybDogXCIvR2V0Tm90ZVR5cGVzXCIsXHJcbiAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICBxdWlldE1pbGxpczogMTAwLFxyXG4gICAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uICh0ZXJtLCBwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICBxdWVyeTogdGVybSwgLy8gc2VhcmNoIHRlcm1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICByZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFnZSkgeyAvLyBwYXJzZSB0aGUgcmVzdWx0cyBpbnRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgU2VsZWN0Mi5cclxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGFcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IGRhdGEubW9kZWwgfTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIC8vIGNhY2hlOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNyZWF0ZVNlYXJjaENob2ljZTogZnVuY3Rpb24gKHRlcm0sIGRhdGEpIHtcclxuICAgICAgICAgICAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5sb2NhbGVDb21wYXJlKHRlcm0pID09PSAwO1xyXG4gICAgICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvL211bHRpcGxlOiB0cnVlLFxyXG4gICAgICAgICAgfSkuc2VsZWN0MigndmFsJywgJycpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZWxlY3QyKCdkYXRhJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgIC8vIGFsZXJ0KFwiZW5hYmxlTm90ZVR5cGVcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICBhcHAubm9kZU1vZGVsLm5vdGVUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgICAgICAgYXBwLm5vZGVNb2RlbC5ub3RlVHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUHJvamVjdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGVuYWJsZVByb2plY3Q6ZnVuY3Rpb24oYXBwKXtcclxuICAgICAgJChcIiNwcm9qZWN0XCIpLnNlbGVjdDIoe1xyXG4gICAgICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAgICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgIC8vIGFwcC5wcm9qZWN0VHlwZSA9IGRhdGE7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhcHAucHJvamVjdFR5cGUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgICBtYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgICAgIG1heGltdW1TZWxlY3Rpb25TaXplOiAxLFxyXG4gICAgICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgICAgIHVybDogXCIvR2V0UHJvamVjdFR5cGVzXCIsXHJcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uICh0ZXJtLCBwYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGFcclxuICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8vIGNhY2hlOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgICAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICAgICAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgfSkuc2VsZWN0MigndmFsJywgW10pLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgYXBwLnByb2plY3RUeXBlID0gXCJcIjtcclxuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpWzBdO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgYXBwLm5vZGVNb2RlbC5wcm9qZWN0VHlwZS50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgICAgYXBwLm5vZGVNb2RlbC5wcm9qZWN0VHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGFwcC5wcm9qZWN0VHlwZSlcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tR2VuZXJhbFN1YmplY3QtLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgZW5hYmxlR2VuZXJhbFN1YmplY3Q6ZnVuY3Rpb24oYXBwKXtcclxuICAgICAgJChcIiN0ZWNobm9sb2d5XCIpLnNlbGVjdDIoe1xyXG4gICAgICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAgICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgIC8vIGFwcC5wcm9qZWN0VHlwZSA9IGRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgICBtYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgICAgIG1heGltdW1TZWxlY3Rpb25TaXplOiAxLFxyXG4gICAgICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgICAgIHVybDogXCIvR2V0VGVjaG5vbG9naWVzXCIsXHJcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uICh0ZXJtLCBwYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGFcclxuICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8vIGNhY2hlOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgICAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICAgICAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgfSkuc2VsZWN0MigndmFsJywgW10pLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBcclxuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpWzBdO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGFwcC5ub2RlTW9kZWwudGVjaG5vbG9neVR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICAgIGFwcC5ub2RlTW9kZWwudGVjaG5vbG9neVR5cGUuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICB9KTtcclxuICAgIFxyXG4gICAgfSxcclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1TcGVjaWZpY1N1YmplY3QtLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGVuYWJsZVNwZWNpZmljU3ViamVjdDpmdW5jdGlvbihhcHApe1xyXG4gICAgICAkKFwiI3NwZWNpZmljU3ViamVjdFwiKS5zZWxlY3QyKHtcclxuICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAvLyBhbGxvd0NsZWFyOiB0cnVlLFxyXG4gICAgICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAgICAgLy8gY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgICAgICBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgICAgICBhamF4OiB7IC8vIGluc3RlYWQgb2Ygd3JpdGluZyB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB0aGUgcmVxdWVzdCB3ZSB1c2UgU2VsZWN0MidzIGNvbnZlbmllbnQgaGVscGVyXHJcbiAgICAgICAgICB1cmw6IFwiL0dldFNwZWNpZmljU3ViamVjdFwiLFxyXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgIHF1aWV0TWlsbGlzOiAxMDAsXHJcbiAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHF1ZXJ5OiB0ZXJtLCAvLyBzZWFyY2ggdGVybVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYWdlKSB7IC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyLlxyXG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IGRhdGEubW9kZWwgfTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBmdW5jdGlvbiAodGVybSwgZGF0YSkge1xyXG4gICAgICAgICAgaWYgKCQoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5sb2NhbGVDb21wYXJlKHRlcm0pID09PSAwO1xyXG4gICAgICAgICAgfSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBcIiQqTmV3VGFnKiRcIiwgdGV4dDogdGVybSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgIH0pLnNlbGVjdDIoJ3ZhbCcsIFtdKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBcclxuICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpWzBdO1xyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGFwcC5ub2RlTW9kZWwuc3BlY2lmaWNTdWJqZWN0LnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgICBhcHAubm9kZU1vZGVsLnNwZWNpZmljU3ViamVjdC5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICBcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgZHJvcGRvd25zIH07IiwiXHJcbmV4cG9ydCBjb25zdCBjb2RlTWlycm9yQ29tcG9uZW50ID1WdWUuY29tcG9uZW50KCdjb2RlLW1pcnJvcicsIHtcclxuICB0ZW1wbGF0ZTogJzx0ZXh0YXJlYT57e2JvZHl9fTwvdGV4dGFyZWE+JyxcclxuICBwcm9wczogWydib2R5JywgXCJsYW5nXCIsXCJpbmRleFwiXSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBtZXRob2RUaGF0Rm9yY2VzVXBkYXRlKCkge1xyXG4gICAgICAvLyAuLi5cclxuICAgICAgLy8gTm90aWNlIHdlIGhhdmUgdG8gdXNlIGEgJCBoZXJlXHJcbiAgICAgIC8vIC4uLlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHZtPSB0aGlzO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5sYW5nKVxyXG4gICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMuJGVsKVxyXG4gICAgdmFyIGNvZGUgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShlbGVtZW50WzBdLCB7XHJcbiAgICAgIG1vZGU6IHRoaXMubGFuZyxcclxuICAgICAgbGluZU51bWJlcnM6IHRydWUsXHJcbiAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSxcclxuICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSxcclxuICAgICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LFxyXG4gICAgfSkub24oJ2NoYW5nZScsIGVkaXRvciA9PiB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGVkaXRvci5nZXRWYWx1ZSgpKTtcclxuICAgICAgdm0uJGVtaXQoXCJpbnB1dC10ZXh0LWFyZWFcIiwge1wiaW5kZXhcIjp2bS5pbmRleCxcInZhbHVlXCI6ZWRpdG9yLmdldFZhbHVlKCl9KTtcclxuICAgIH0pO1xyXG5cclxuICB9LFxyXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGNtKVxyXG4gICAgbGV0IGk9MDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCAkKCcuQ29kZU1pcnJvcicpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBjbSA9ICQoJy5Db2RlTWlycm9yJylbaV07XHJcbiAgICAgIGlmIChjbSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgY20uQ29kZU1pcnJvci5zZXRPcHRpb24oXCJtb2RlXCIsIFwidGV4dC94LWNzcmNcIik7XHJcbiAgICAgICAgY20uQ29kZU1pcnJvci5nZXRXcmFwcGVyRWxlbWVudCgpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY20uQ29kZU1pcnJvci5nZXRXcmFwcGVyRWxlbWVudCgpKTtcclxuICAgICAgICBjbS5Db2RlTWlycm9yID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH1cclxufSk7XHJcbiIsImV4cG9ydCBjb25zdCBzZWxlY3QyID0gVnVlLmNvbXBvbmVudCgnc2VsZWN0MicsIHtcclxuICAgIHByb3BzOiBbJ29wdGlvbnMnLCAndmFsdWUnLCd1cmwnXSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2VsZWN0VmFsdWU6ICcxMjM0JyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiBgPGlucHV0IC8+IGAsXHJcbiBcclxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzXHJcbiAgICAgICAgIHNlbGVjdDI9ICAkKHRoaXMuJGVsKS5zZWxlY3QyKHtcclxuICAgICAgICAgICAgLy8gdGFnczogW10sXHJcbiAgICAgICAgICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICAgICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgIC8vIHZhciBkYXRhID0geyBpZDogMSwgdGV4dDogJ2luaXRTZWxlY3Rpb24gdGVzdCcgfTtcclxuICAgICAgICAgICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFwcC5wcm9qZWN0VHlwZSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgICAgIC8vbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgICAgICAgICAgLy8gbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICAgICAgICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgICAgICAgICB1cmw6dm0udXJsLFxyXG4gICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygpXHJcbiAgICAgICAgICAgICAgaWYgKCQoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHQubG9jYWxlQ29tcGFyZSh0ZXJtKSA9PT0gMDtcclxuICAgICAgICAgICAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGlkOiBcIiQqTmV3VGFnKiRcIiwgdGV4dDogdGVybSB9O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy9tdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgICAgIH0pLnNlbGVjdDIoJ3ZhbCcsICcnKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICAvLyBhbGVydChcImVuYWJsZU5vdGVUeXBlXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgIHZtLiRlbWl0KFwiaW5wdXQtZGF0YVwiLCBkYXRhKTtcclxuICAgICAgICAgICAgLy8gICBhcHAubm9kZU1vZGVsLm5vdGVUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgICAgIC8vICAgYXBwLm5vZGVNb2RlbC5ub3RlVHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKVxyXG4gICAgIFxyXG4gICAgICAgICAgICAvLyBhbGVydCh2YWx1ZSlcclxuICAgICAgICAgICAgaWYodmFsdWUgPT1cIlwiKXtcclxuICAgICAgICAgICAgICAgICQodGhpcy4kZWwpLnNlbGVjdDIoXCJ2YWxcIiwgXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlc3Ryb3llZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMuJGVsKS5vZmYoKS5zZWxlY3QyKCdkZXN0cm95JylcclxuICAgIH1cclxufSlcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gZXhwb3J0IGNvbnN0IHNlbGVjdGl6ZSA9IFZ1ZS5jb21wb25lbnQoJ3NlbGVjdGl6ZScsIHtcclxuLy8gICAgIHByb3BzOiBbJ29wdGlvbnMnLCAndmFsdWUnXSxcclxuLy8gICAgIHRlbXBsYXRlOiBgICBcclxuLy8gICAgIDxzZWxlY3Q+XHJcbi8vICAgICA8c2xvdD48L3Nsb3Q+XHJcbi8vICAgICA8L3NlbGVjdD5gLFxyXG4vLyAgICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgIGRlYnVnZ2VyXHJcbi8vICAgICAgICAgdmFyIHZtID0gdGhpc1xyXG4vLyAgICAgICAgICQodGhpcy4kZWwpLnNlbGVjdGl6ZSh7XHJcbi8vICAgICAgICAgICAgIG1heEl0ZW1zOiA0LFxyXG4vLyAgICAgICAgICAgICBkZWxpbWl0ZXI6ICcsJyxcclxuLy8gICAgICAgICAgICAgcGVyc2lzdDogZmFsc2UsXHJcbi8vICAgICAgICAgICAgIC8vICBvcHRpb25zOiBbXHJcbi8vICAgICAgICAgICAgIC8vICAgICB7ZW1haWw6ICdicmlhbkB0aGlyZHJvdXRlLmNvbScsIHRleHQ6ICdCcmlhbiBSZWF2aXMnfSxcclxuLy8gICAgICAgICAgICAgLy8gICAgIHtlbWFpbDogJ25pa29sYUB0ZXNsYS5jb20nLCB0ZXh0OiAnTmlrb2xhIFRlc2xhJ30sXHJcbi8vICAgICAgICAgICAgIC8vIF0sXHJcbi8vICAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGlucHV0KSB7XHJcbi8vICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuLy8gICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dCxcclxuLy8gICAgICAgICAgICAgICAgIHRleHQ6IGlucHV0XHJcbi8vICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICB9KS5vbignY2hhbmdlJyxmdW5jdGlvbigpeyAgIFxyXG4vLyAgICAgICAgICAgICBhbGVydChcInNkZnNkXCIpIFxyXG4vLyAgICAgICAgICAgLy8gJCgnI215U2VsZWN0JykuYXR0cignc2l6ZScsJzEnKTtcclxuLy8gICAgICAgICAgIC8vICQoJyNteVNlbGVjdCcpLnRyaWdnZXIoJ2JsdXInKTtcclxuLy8gICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICAvLyAgICQoc3opLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7ICAgXHJcbi8vICAgICAgICAgLy8gICAgICAgYWxlcnQoXCJzZGZzZFwiKSBcclxuLy8gICAgICAgICAvLyAgICAgLy8gJCgnI215U2VsZWN0JykuYXR0cignc2l6ZScsJzEnKTtcclxuLy8gICAgICAgICAvLyAgICAgLy8gJCgnI215U2VsZWN0JykudHJpZ2dlcignYmx1cicpO1xyXG4vLyAgICAgICAgIC8vICAgICAgfSk7XHJcbi8vICAgICAgICAgICAgIC8vIGluaXQgc2VsZWN0MlxyXG4vLyAgICAgICAgICAgICAvLyAuc2VsZWN0Mih7IFxyXG4vLyAgICAgICAgICAgICAvLyAgICAgZGF0YTogdGhpcy5vcHRpb25zLFxyXG4vLyAgICAgICAgICAgICAvLyAgICAgIHRoZW1lOiBcImJvb3RzdHJhcDRcIiAsbXVsdGlwbGU6IHRydWUsfSlcclxuLy8gICAgICAgICAgICAgLy8gLnZhbCh0aGlzLnZhbHVlKVxyXG4vLyAgICAgICAgICAgICAvLyAudHJpZ2dlcignY2hhbmdlJylcclxuLy8gICAgICAgICAgICAgLy8gLy8gZW1pdCBldmVudCBvbiBjaGFuZ2UuXHJcbi8vICAgICAgICAgICAgIC8vIC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgICAgICAvLyAgICAgdm0uJGVtaXQoJ2lucHV0JywgdGhpcy52YWx1ZSlcclxuLy8gICAgICAgICAgICAgLy8gfSlcclxuLy8gICAgIH0sXHJcbi8vICAgICB3YXRjaDoge1xyXG4vLyAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZmRkc2ZcIilcclxuLy8gICAgICAgICAgICAgLy8gdXBkYXRlIHZhbHVlXHJcbi8vICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiSGVsbG9cIilcclxuLy8gICAgICAgICAgICAgLy8gJCh0aGlzLiRlbClcclxuLy8gICAgICAgICAgICAgLy8gICAgIC52YWwodmFsdWUpXHJcbi8vICAgICAgICAgICAgIC8vICAgICAudHJpZ2dlcignY2hhbmdlJylcclxuLy8gICAgICAgICB9LFxyXG4vLyAgICAgICAgIG9wdGlvbnM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbi8vICAgICAgICAgICAgIC8vIHVwZGF0ZSBvcHRpb25zXHJcbi8vICAgICAgICAgICAgIC8vICQodGhpcy4kZWwpLmVtcHR5KCkuc2VsZWN0Mih7IGRhdGE6IG9wdGlvbnMgfSlcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9LFxyXG4vLyAgICAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgLy8gJCh0aGlzLiRlbCkub2ZmKCkuc2VsZWN0MignZGVzdHJveScpXHJcbi8vICAgICB9XHJcbi8vIH0pXHJcbiIsImxldCB1dGlsaXR5ID0ge1xyXG4gICAgZ2V0VXJsUGFyYW1ldGVyIDogZnVuY3Rpb24gZ2V0VXJsUGFyYW1ldGVyKHNQYXJhbSkge1xyXG4gICAgICAgIHZhciBzUGFnZVVSTCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLFxyXG4gICAgICAgICAgICBzVVJMVmFyaWFibGVzID0gc1BhZ2VVUkwuc3BsaXQoJyYnKSxcclxuICAgICAgICAgICAgc1BhcmFtZXRlck5hbWUsXHJcbiAgICAgICAgICAgIGk7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNQYXJhbWV0ZXJOYW1lID0gc1VSTFZhcmlhYmxlc1tpXS5zcGxpdCgnPScpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNQYXJhbWV0ZXJOYW1lWzBdID09PSBzUGFyYW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzUGFyYW1ldGVyTmFtZVsxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGRlY29kZVVSSUNvbXBvbmVudChzUGFyYW1ldGVyTmFtZVsxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IHsgdXRpbGl0eSB9OyIsIlxyXG5pbXBvcnQgeyBub3RlSnNNb2RlbCB9IGZyb20gXCIuL21vZGVsL25vdGVKc01vZGVsXCJcclxuaW1wb3J0IHsgY29kZU1pcnJvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudFwiXHJcbmltcG9ydCB7IHNlbGVjdDIgfSBmcm9tIFwiLi9jb21wb25lbnRzL3NlbGVjdDJcIlxyXG5pbXBvcnQgeyBkcm9wZG93bnMgfSBmcm9tIFwiLi9jb21tb24vZHJvcGRvd25zSnNcIlxyXG5cclxud2luZG93LkVuYWJsZUFkZE5vZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGFwcCA9IG5ldyBWdWUoe1xyXG4gICAgZWw6ICcjYW5hcHAnLFxyXG4gICAgLy8gdGVtcGxhdGU6ICcjZGVtby10ZW1wbGF0ZScsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIHNlbGVjdGVkOiBcImtra1wiLFxyXG4gICAgICBtZXNzYWdlOiAnQ3JlYXRlIGEgTm90ZScsXHJcbiAgICAgIG5vZGVNb2RlbDoge1xyXG4gICAgICAgIGJvb2tNYXJrOiBmYWxzZSxcclxuICAgICAgICB0aXRsZTogXCJcIixcclxuICAgICAgICBwcm9qZWN0VHlwZToge30sXHJcbiAgICAgICAgdGVjaG5vbG9neVR5cGU6IHt9LFxyXG4gICAgICAgIHNwZWNpZmljU3ViamVjdDoge30sXHJcbiAgICAgICAgbm90ZVR5cGU6IHt9LFxyXG4gICAgICAgIG1vZGVsOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgICAgICBkZXNjOiBcIlwiLFxyXG4gICAgICAgICAgICBsYW5nOiBcImh0bWxtaXhlZFwiXHJcbiAgICAgICAgICB9XVxyXG4gICAgICB9LFxyXG4gICAgICBjb21wb25lbnRLZXk6IDEsXHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50czoge1xyXG4gICAgICBjb2RlTWlycm9yQ29tcG9uZW50LFxyXG4gICAgICBzZWxlY3QyXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgIHN1Ym1pdCgpIHtcclxuXHJcbiAgICAgICAgLy8gdmFyIG5vZGVNb2RlbCA9IGNvbnNvbGUubG9nKHRoaXMubm9kZU1vZGVsLm1vZGVsKTtcclxuICAgICAgICBheGlvcy5wb3N0KCcvUG9zdEFkZE5vdGUnLCB7IG1vZGVsOiB0aGlzLm5vZGVNb2RlbCB9KVxyXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZU1vZGVsID0ge1xyXG4gICAgICAgICAgICAgIGJvb2tNYXJrOiBmYWxzZSxcclxuICAgICAgICAgICAgICB0aXRsZTogXCJcIixcclxuICAgICAgICAgICAgICBwcm9qZWN0VHlwZToge30sXHJcbiAgICAgICAgICAgICAgdGVjaG5vbG9neVR5cGU6IHt9LFxyXG4gICAgICAgICAgICAgIHNwZWNpZmljU3ViamVjdDoge30sXHJcbiAgICAgICAgICAgICAgbm90ZVR5cGU6IHt9LFxyXG4gICAgICAgICAgICAgIG1vZGVsOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICBkZXNjOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICBsYW5nOiBcImh0bWxtaXhlZFwiXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICBjb21wb25lbnRLZXk6IDEsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTtcclxuICAgICAgICAgICAgJChcIiN0ZWNobm9sb2d5XCIpLnNlbGVjdDIoXCJ2YWxcIiwgXCJcIik7XHJcbiAgICAgICAgICAgICQoXCIjcHJvamVjdFwiKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIC8vICQoXCIjblR5cGVcIikuc2VsZWN0MihcInZhbFwiLCBcIlwiKTtcclxuICAgICAgICAgICAgJChcIiNzcGVjaWZpY1N1YmplY3RcIikuc2VsZWN0MihcInZhbFwiLCBcIlwiKTtcclxuXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBhbGVydChlcnJvcilcclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICB9LFxyXG4gICAgICBnZXRTZWxlY3RWYWx1ZShkYXRhKSB7XHJcblxyXG4gICAgICAgIC8vIGFsZXJ0KCBkYXRhLnRleHQpXHJcbiAgICAgICAgdGhpcy5ub2RlTW9kZWwubm90ZVR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICB0aGlzLm5vZGVNb2RlbC5ub3RlVHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZVR5cGUodmFyaWFibGUpIHtcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZVRlY2hub2xvZ3kodmFyaWFibGUpIHtcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZVByb2plY3RUeXBlKHZhcmlhYmxlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codmFyaWFibGUpXHJcbiAgICAgICAgdGhpcy5ub2RlTW9kZWwucHJvamVjdFR5cGUgPSB2YXJpYWJsZTtcclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlQ29kZU1pcnJvclRleHQoaXRlbSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXHJcbiAgICAgICAgdGhpcy5ub2RlTW9kZWwubW9kZWxbaXRlbS5pbmRleF0ubWFpbmJvZHkgPSBpdGVtLnZhbHVlXHJcbiAgICAgIH0sXHJcbiAgICAgIGFkZCgpIHtcclxuICAgICAgICB0aGlzLm5vZGVNb2RlbC5tb2RlbC5wdXNoKHtcclxuICAgICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgICAgZGVzYzogXCJcIixcclxuICAgICAgICAgIGxhbmc6IFwiXCJcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGJlZm9yZUNyZWF0ZSgpIHtcclxuICAgICAgY29uc29sZS5sb2coJ05vdGhpbmcgZ2V0cyBjYWxsZWQgYmVmb3JlIG1lIScpXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZCgpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZWQgJylcclxuICAgIH0sXHJcbiAgICBtb3VudGVkKCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInNzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3NzXCIpXHJcbiAgICAgIC8vIGRyb3Bkb3ducy5lbmFibGVOb3RlVHlwZShhcHApO1xyXG4gICAgICBkcm9wZG93bnMuZW5hYmxlUHJvamVjdChhcHApO1xyXG4gICAgICBkcm9wZG93bnMuZW5hYmxlR2VuZXJhbFN1YmplY3QoYXBwKTtcclxuICAgICAgZHJvcGRvd25zLmVuYWJsZVNwZWNpZmljU3ViamVjdChhcHApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcblxyXG5cclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICB3aW5kb3cuZ2V0UHJvamVjdFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgICAgdmFyIHMgPSAkKCcjcHJvamVjdCcpLnNlbGVjdDIoJ2RhdGEnKVxyXG4gICAgICBjb25zb2xlLmxvZyhzKTtcclxuICAgICAgdmFyIHNzcyA9IHNbMF0udGV4dDtcclxuICAgICAgcmV0dXJuIHNzcztcclxuICAgIH1cclxuICB9KVxyXG59IiwiaW1wb3J0IHsgbm90ZUpzTW9kZWwgfSBmcm9tIFwiLi9tb2RlbC9ub3RlSnNNb2RlbFwiXHJcbmltcG9ydCB7IGNvZGVNaXJyb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvZGVNaXJyb3JDb21wb25lbnRcIlxyXG5pbXBvcnQgeyB1dGlsaXR5IH0gZnJvbSBcIi4vY29tbW9uL3V0aWxpdHlKc1wiXHJcbmltcG9ydCB7IGRyb3Bkb3ducyB9IGZyb20gXCIuL2NvbW1vbi9kcm9wZG93bnNKc1wiO1xyXG5pbXBvcnQgeyBzZWxlY3QyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9zZWxlY3QyXCJcclxuXHJcbndpbmRvdy5FbmFibGVWdXNKcyA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zb2xlLmxvZyhub3RlSnNNb2RlbC50ZXN0Lm5hbWUpO1xyXG5cclxuICB2YXIgYWN0aW9uID0gJ2luYWN0aXZlJztcclxuICB2YXIgcGFnZSA9IDE7XHJcbiAgdmFyIGFwcCA9IG5ldyBWdWUoe1xyXG4gICAgZWw6ICcjYXBwJyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgbm90ZVR5cGU6IHt9LFxyXG4gICAgICBtZXNzYWdlOiAnSGVsbG8gVnVlIScsXHJcbiAgICAgIHNlYXJjaE1vZGVsOiB7XHJcbiAgICAgICAgc2VhcmNoVGV4dEJveDogXCJcIixcclxuICAgICAgICBib29rTWFyazogZmFsc2UsXHJcbiAgICAgICAgbm90ZVR5cGU6IFwiXCIsXHJcbiAgICAgICAgcHJvamVjdE5hbWU6IFwiXCIsXHJcbiAgICAgICAgdGVjaG5vbG9neTogXCJcIixcclxuICAgICAgICBzcGVjaWZpY1N1YmplY3Q6IFwiXCIsXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBib3htb2RlbDogW10sXHJcbiAgICAgIGRlbGV0ZU1vZGFsTm90ZToge1xyXG4gICAgICAgIGlkOiAwLFxyXG4gICAgICAgIGluZGV4OiAwLFxyXG4gICAgICAgIHRleHQ6IFwiXCJcclxuICAgICAgfSxcclxuICAgICAgY29tcG9uZW50S2V5OiAwLFxyXG5cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgIGNvZGVNaXJyb3JDb21wb25lbnQsXHJcbiAgICAgIHNlbGVjdDJcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgZ2V0Tm90ZVR5cGVTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hNb2RlbC5ub3RlVHlwZSA9IGRhdGEudGV4dDtcclxuICAgICAgfSxcclxuICAgICAgc2VhcmNoOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcGFnZSA9IDE7XHJcbiAgICAgICAgdGhpcy5sb2FkTm90ZShwYWdlLCB0cnVlKTtcclxuICAgICAgfSxcclxuICAgICAgbG9hZE5vdGUocGFnZSwgcmVzZXQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkxMTExMTExMTExMTExMTExPT09ERERcIilcclxuICAgICAgICB2YXIgcGFyYW0gPSB7XHJcbiAgICAgICAgICBwYWdlOiBwYWdlLFxyXG4gICAgICAgICAgcGVyUGFnZTogOCxcclxuICAgICAgICAgIHRpdGxlOiBcIlwiLFxyXG4gICAgICAgICAgYm9va01hcms6IFwiXCIsXHJcbiAgICAgICAgICBub3RlVHlwZTogXCJcIixcclxuICAgICAgICAgIHByb2plY3ROYW1lOiBcIlwiLFxyXG4gICAgICAgICAgdGVjaG5vbG9neTogXCJcIixcclxuICAgICAgICAgIHNwZWNpZmljU3ViamVjdDogXCJcIixcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoTW9kZWwuc2VhcmNoVGV4dEJveClcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwuc2VhcmNoVGV4dEJveCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwuc2VhcmNoVGV4dEJveCAhPSBcIlwiKVxyXG4gICAgICAgICAgcGFyYW0udGl0bGUgPSBcIiZ0aXRsZT1cIiArIHRoaXMuc2VhcmNoTW9kZWwuc2VhcmNoVGV4dEJveDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwuYm9va01hcmsgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLmJvb2tNYXJrICE9IGZhbHNlKVxyXG4gICAgICAgICAgcGFyYW0uYm9va01hcmsgPSBcIiZib29rTWFyaz1cIiArIHRoaXMuc2VhcmNoTW9kZWwuYm9va01hcms7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaE1vZGVsLm5vdGVUeXBlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWFyY2hNb2RlbC5ub3RlVHlwZSAhPSBmYWxzZSlcclxuICAgICAgICAgIHBhcmFtLm5vdGVUeXBlID0gXCImbm90ZVR5cGU9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLm5vdGVUeXBlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hNb2RlbC5wcm9qZWN0TmFtZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwucHJvamVjdE5hbWUgIT0gZmFsc2UpXHJcbiAgICAgICAgICBwYXJhbS5wcm9qZWN0TmFtZSA9IFwiJnByb2plY3ROYW1lPVwiICsgdGhpcy5zZWFyY2hNb2RlbC5wcm9qZWN0TmFtZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwudGVjaG5vbG9neSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwudGVjaG5vbG9neSAhPSBmYWxzZSlcclxuICAgICAgICAgIHBhcmFtLnRlY2hub2xvZ3kgPSBcIiZ0ZWNobm9sb2d5PVwiICsgdGhpcy5zZWFyY2hNb2RlbC50ZWNobm9sb2d5O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hNb2RlbC5zcGVjaWZpY1N1YmplY3QgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLnNwZWNpZmljU3ViamVjdCAhPSBmYWxzZSlcclxuICAgICAgICAgIHBhcmFtLnNwZWNpZmljU3ViamVjdCA9IFwiJnNwZWNpZmljU3ViamVjdD1cIiArIHRoaXMuc2VhcmNoTW9kZWwuc3BlY2lmaWNTdWJqZWN0O1xyXG5cclxuXHJcbiAgICAgICAgbm90ZUpzTW9kZWwuZ2V0Tm90ZXMocGFyYW0pXHJcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXNldCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuYm94bW9kZWwgPSBbXTtcclxuICAgICAgICAgICAgICB0aGlzLmJveG1vZGVsID0gcmVzcG9uc2UuZGF0YS5tb2RlbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubW9kZWwuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm94bW9kZWwucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhY3Rpb24gPSAnaW5hY3RpdmUnO1xyXG4gICAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgLy8gRE9NIGlzIG5vdyB1cGRhdGVkXHJcbiAgICAgICAgICAgICAgLy8gYHRoaXNgIGlzIGJvdW5kIHRvIHRoZSBjdXJyZW50IGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTtcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICApXHJcbiAgICAgIH0sXHJcbiAgICAgIE9wZW5DbG9zZU5vdGUoaWQpIHtcclxuICAgICAgICB2YXIgaGVpZ3RoID0gXCIxMDBweFwiO1xyXG4gICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICQoXCIjb2MtXCIgKyBpZClcclxuICAgICAgICBjb25zb2xlLmxvZygkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmNoaWxkcmVuKFwiLmNhcmRIZWlndGhcIikpXHJcbiAgICAgICAgdmFyIHNlbGN0b3IgPSAkKFwiI29jLVwiICsgaWQpO1xyXG4gICAgICAgIHZhciBzZWxlID0gJChzZWxjdG9yKS5wYXJlbnQoKS5wYXJlbnQoKVxyXG4gICAgICAgIHZhciBoID0gJChzZWxjdG9yKS5jc3MoXCJoZWlnaHRcIik7XHJcbiAgICAgICAgaWYgKGggPT0gaGVpZ3RoKSB7XHJcbiAgICAgICAgICAkKHNlbGN0b3IpLmNzcygnaGVpZ2h0JywgJ2F1dG8nKTtcclxuICAgICAgICAgICQoc2VsY3RvcikuY3NzKCdvdmVyZmxvdy15JywgJ2hpZGRlbicpO1xyXG4gICAgICAgICAgJChzZWxlKS5yZW1vdmVDbGFzcyhcImNvbC1sZy02XCIpXHJcbiAgICAgICAgICAkKHNlbGUpLmFkZENsYXNzKFwiY29sLWxnLTEyXCIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQoc2VsY3RvcikuY3NzKCdoZWlnaHQnLCBoZWlndGgpO1xyXG4gICAgICAgICAgJChzZWxjdG9yKS5jc3MoJ292ZXJmbG93LXknLCAnc2Nyb2xsJyk7XHJcbiAgICAgICAgICAkKHNlbGUpLnJlbW92ZUNsYXNzKFwiY29sLWxnLTEyXCIpXHJcbiAgICAgICAgICAkKHNlbGUpLmFkZENsYXNzKFwiY29sLWxnLTZcIilcclxuICAgICAgICAgIC8vICQoc2VsY3RvcikuYW5pbWF0ZSh7aGVpZ2h0OlwiMTAwcHhcIn0sIDQwMCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAvLyAgICAgLy8gQW5pbWF0aW9uIGNvbXBsZXRlLlxyXG4gICAgICAgICAgLy8gICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9LFxyXG4gICAgICBvcGVuRGVsZXRlTW9kYWwoaWQsIGluZGV4KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coaWQpXHJcbiAgICAgICAgdGhpcy5kZWxldGVNb2RhbE5vdGUuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmRlbGV0ZU1vZGFsTm90ZS5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgIGluZGV4XHJcbiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgJCgnI2RlbGV0ZU1vZGFsJykubW9kYWwoJ3RvZ2dsZScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlbGV0ZU5vdGUoaWQsIGluZGV4KSB7XHJcbiAgICAgICAgLy8gaWYgKGNvbmZpcm0oXCJXYW5uYSBEZWxldGU/XCIpKSB7XHJcbiAgICAgICAgbm90ZUpzTW9kZWwuZGVsZXRlTm90ZShpZClcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLmJveG1vZGVsLCBpbmRleClcclxuICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICQoJyNkZWxldGVNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgLy9VcGRhdGUgQ29tcG9uZW50cyBhbmQgZXZlcnlUaGluZ1xyXG4gICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50S2V5ICs9IDE7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgLy8gfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyBhbGVydChcImRzZGZzXCIpXHJcbiAgICB9LFxyXG4gICAgbW91bnRlZCgpIHtcclxuICAgICAgLy8gZHJvcGRvd25zLmVuYWJsZU5vdGVUeXBlKGFwcCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCRcIilcclxuICAgICAgY29uc29sZS5sb2coXCJwYWdlPT5cIilcclxuICAgICAgY29uc29sZS5sb2codXRpbGl0eS5nZXRVcmxQYXJhbWV0ZXIoXCJwcm9qZWN0XCIpKVxyXG4gICAgICB0aGlzLmxvYWROb3RlKHBhZ2UpO1xyXG5cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoKCQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKSA+ICQoZG9jdW1lbnQpLmhlaWdodCgpIC0gNSkgJiYgYWN0aW9uID09ICdpbmFjdGl2ZScpIHtcclxuICAgICAgYWN0aW9uID0gJ2FjdGl2ZSc7XHJcbiAgICAgIC8vICBzdGFydCA9IHN0YXJ0ICsgbGltaXQ7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBhZ2UgPSBwYWdlICsgMTtcclxuICAgICAgICBhcHAubG9hZE5vdGUocGFnZSk7XHJcbiAgICAgIH0sIDUwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIiNzZWFyY2hUeHRcIikuZm9jdXMoKTtcclxuICB9KTtcclxuXHJcblxyXG4gICQoJ2JvZHknKS5vbignY2xpY2snLCAnLk9wZW5DbG9zZU5vdGUnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH0pO1xyXG5cclxufSIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBJbml0aWFsaXplIG5hbWVzcGFjZSAndXRpbGl0aWVzJyAob3IgdXNlIGV4aXN0aW5nIG9uZSBpZiBwcmVzZW50KVxyXG4gICAgd2luZG93Lm5vdGVVdGlsaXR5SnMgPSB3aW5kb3cubm90ZVV0aWxpdHlKcyB8fCB7fTtcclxuICBcclxuXHJcbiAgICB2YXIgZWRpdEFyciA9IFtdO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtaXJyb3JDb2RlXCIpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBsYW5nID0gJCgkKFwiLm1pcnJvckNvZGVcIilbaV0pLmF0dHIoXCJsYW5nXCIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcImxhbmcgPSBcIiArIGxhbmcpO1xyXG4gICAgICB2YXIgZWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1pcnJvckNvZGVcIilbaV0sIHtcclxuICAgICAgICBtb2RlOiBsYW5nLFxyXG4gICAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxyXG4gICAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSxcclxuICAgICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxyXG4gICAgICAgIHZpZXdwb3J0TWFyZ2luOiBJbmZpbml0eSxcclxuICAgICAgfSk7XHJcbiAgICAgIGVkaXRBcnIucHVzaChlZGl0b3IpXHJcbiAgICB9XHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gU2V0dXAgLSBhZGQgYSB0ZXh0IGlucHV0IHRvIGVhY2ggZm9vdGVyIGNlbGxcclxuICAgICAgICAkKCcjZXhhbXBsZSB0aGVhZCB0cicpLmNsb25lKHRydWUpLmFwcGVuZFRvKCAnI2V4YW1wbGUgdGhlYWQnICk7XHJcbiAgICAgICAgJCgnI2V4YW1wbGUgdGhlYWQgdHI6ZXEoMSkgdGgnKS5lYWNoKCBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSAkKHRoaXMpLnRleHQoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5odG1sKCAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggJyt0aXRsZSsnXCIgLz4nICk7XHJcbiAgICAgXHJcbiAgICAgICAgICAgICQoICdpbnB1dCcsIHRoaXMgKS5vbiggJ2tleXVwIGNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICggdGFibGUuY29sdW1uKGkpLnNlYXJjaCgpICE9PSB0aGlzLnZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb2x1bW4oaSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlYXJjaCggdGhpcy52YWx1ZSApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gKTtcclxuICAgICAgICB9ICk7XHJcbiAgICAgXHJcbiAgICAgICAgdmFyIHRhYmxlID0gJCgnI2V4YW1wbGUnKS5EYXRhVGFibGUoIHtcclxuICAgICAgICAgICAgb3JkZXJDZWxsc1RvcDogdHJ1ZSxcclxuICAgICAgICAgICAgZml4ZWRIZWFkZXI6IHRydWVcclxuICAgICAgICB9ICk7XHJcbiAgICB9ICk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgkKSB7XG4gIFwidXNlIHN0cmljdFwiOyAvLyBTdGFydCBvZiB1c2Ugc3RyaWN0XG4gIHZhciBpZGMgPSAxO1xuICAkKCdib2R5Jykub24oJ2NsaWNrJywgJyNhZGRwcm9ncmFtbWluZ25vdGVib2R5JywgZnVuY3Rpb24gKCkge1xuICAgIC8vIGFsZXJ0KFwic1wiKVxuICAgIGRlYnVnZ2VyO1xuICAgIGxldCBpZCA9IFwiY29kZVwiICsgaWRjXG4gICAgbGV0IGlkU2VsZWN0ID0gXCJjb2RlXCIgKyBpZGNcblxuICAgIHZhciB0ZXh0QXJlYUJvZHkgPSBgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgbm90ZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD1cImArIGlkICsgYFwiIHJvd3M9XCI4XCIgbmFtZT0nY29kZVtgICsgaWRjICsgYF1bYm9keV0nIHN0eWxlPVwibWFyZ2luOiAxMHB4OyBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIlwiIGNsYXNzPVwiY29kZSBmb3JtLWNvbnRyb2xcIj48L3RleHRhcmVhPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2YFxuXG4gICAgdmFyIHJvdyA9IGA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtOVwiPjxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dEVtYWlsMVwiIFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCIgYXJpYS1kZXNjcmliZWRieT1cImVtYWlsSGVscFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVGl0bGVcIiBuYW1lPVwiY29kZVtgKyBpZGMgKyBgXVtkZXNjXVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGJveC1pZD1cImArIGlkICsgYFwiICBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTMgc2VsZWN0bGFuZ1wiPlxuICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2xcIiBuYW1lPVwiY29kZVtgKyBpZGMgKyBgXVtjb2RlbGFuZ11cIj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImh0bWxtaXhlZFwiPkh0bWw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQvY3NzXCI+IENTUzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC9qYXZhc2NyaXB0XCI+IEphdmFTY3JpcHQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1zcWxcIj4gU1FsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtY3NoYXJwXCI+IEMjPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtcHl0aG9uXCI+IFB5dGhvbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWphdmFcIj4gSmF2YTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LXBocFwiPiBQSFA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1jKytzcmNcIj4gQysrPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtY3NyY1wiPiBDPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtZ29cIj4gR288L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1yc3JjXCI+IFI8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFwcGxpY2F0aW9uL3gtcG93ZXJzaGVsbFwiPiBQb3dlclNoZWxsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5gXG5cbiAgICAkKFwiLm5vdGUtYm9keVwiKS5sYXN0KCkuYWZ0ZXIocm93ICsgdGV4dEFyZWFCb2R5KTtcblxuICAgIHZhciBlZGl0b3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksIHtcbiAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxuICAgICAgc3R5bGVBY3RpdmVMaW5lOiB0cnVlLFxuICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSxcbiAgICAgIHZpZXdwb3J0TWFyZ2luOiBJbmZpbml0eSxcbiAgICAgIC8vIG1vZGU6IFwiaHRtbG1peGVkXCJcbiAgICB9KTtcbiAgICAvLyBlZGl0QXJyLnB1c2goZWRpdG9yKVxuICAgIGlkYyA9IGlkYyArIDE7XG4gIH0pO1xuXG4gICQoJ2JvZHknKS5vbignY2hhbmdlJywgJy5zZWxlY3RsYW5nJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzID0gJCh0aGlzKS5hdHRyKFwiYm94LWlkXCIpXG4gICAgdmFyIHYgPSAkKHRoaXMpLnZhbCgpXG4gICAgLy8gYWxlcnQocyt2KTtcbiAgfSk7XG5cbiAgJChcIiNzZWFyY2hCb3hCdG5cIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSAkKFwiI3NlYXJjaEJveFwiKS52YWwoKTtcbiAgICBsb2NhdGlvbi5ocmVmID0gXCIvTm90ZXM/dGl0bGU9XCIrcmVzdWx0O1xuICB9KTtcblxuXG5cbiAgZnVuY3Rpb24gdG9nZ2xlU2lkZWJhcigpIHtcbiAgICAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcInNpZGViYXItdG9nZ2xlZFwiKTtcbiAgICAkKFwiLnNpZGViYXJcIikudG9nZ2xlQ2xhc3MoXCJ0b2dnbGVkXCIpO1xuICAgIGlmICgkKFwiLnNpZGViYXJcIikuaGFzQ2xhc3MoXCJ0b2dnbGVkXCIpKSB7XG4gICAgICAkKCcuc2lkZWJhciAuY29sbGFwc2UnKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgIH07XG4gIH1cbiAgdG9nZ2xlU2lkZWJhcigpO1xuICAvLyBUb2dnbGUgdGhlIHNpZGUgbmF2aWdhdGlvblxuICAkKFwiI3NpZGViYXJUb2dnbGUsICNzaWRlYmFyVG9nZ2xlVG9wXCIpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgdG9nZ2xlU2lkZWJhcigpO1xuICAgIC8vICQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwic2lkZWJhci10b2dnbGVkXCIpO1xuICAgIC8vICQoXCIuc2lkZWJhclwiKS50b2dnbGVDbGFzcyhcInRvZ2dsZWRcIik7XG4gICAgLy8gaWYgKCQoXCIuc2lkZWJhclwiKS5oYXNDbGFzcyhcInRvZ2dsZWRcIikpIHtcbiAgICAvLyAgICQoJy5zaWRlYmFyIC5jb2xsYXBzZScpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgLy8gfTtcbiAgfSk7XG5cbiAgLy8gQ2xvc2UgYW55IG9wZW4gbWVudSBhY2NvcmRpb25zIHdoZW4gd2luZG93IGlzIHJlc2l6ZWQgYmVsb3cgNzY4cHhcbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgNzY4KSB7XG4gICAgICAkKCcuc2lkZWJhciAuY29sbGFwc2UnKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIFByZXZlbnQgdGhlIGNvbnRlbnQgd3JhcHBlciBmcm9tIHNjcm9sbGluZyB3aGVuIHRoZSBmaXhlZCBzaWRlIG5hdmlnYXRpb24gaG92ZXJlZCBvdmVyXG4gICQoJ2JvZHkuZml4ZWQtbmF2IC5zaWRlYmFyJykub24oJ21vdXNld2hlZWwgRE9NTW91c2VTY3JvbGwgd2hlZWwnLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDc2OCkge1xuICAgICAgdmFyIGUwID0gZS5vcmlnaW5hbEV2ZW50LFxuICAgICAgICBkZWx0YSA9IGUwLndoZWVsRGVsdGEgfHwgLWUwLmRldGFpbDtcbiAgICAgIHRoaXMuc2Nyb2xsVG9wICs9IChkZWx0YSA8IDAgPyAxIDogLTEpICogMzA7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTY3JvbGwgdG8gdG9wIGJ1dHRvbiBhcHBlYXJcbiAgJChkb2N1bWVudCkub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsRGlzdGFuY2UgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuICAgIGlmIChzY3JvbGxEaXN0YW5jZSA+IDEwMCkge1xuICAgICAgJCgnLnNjcm9sbC10by10b3AnKS5mYWRlSW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLnNjcm9sbC10by10b3AnKS5mYWRlT3V0KCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBTbW9vdGggc2Nyb2xsaW5nIHVzaW5nIGpRdWVyeSBlYXNpbmdcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJ2Euc2Nyb2xsLXRvLXRvcCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICRhbmNob3IgPSAkKHRoaXMpO1xuICAgICQoJ2h0bWwsIGJvZHknKS5zdG9wKCkuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6ICgkKCRhbmNob3IuYXR0cignaHJlZicpKS5vZmZzZXQoKS50b3ApXG4gICAgfSwgMTAwMCwgJ2Vhc2VJbk91dEV4cG8nKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xuXG59KShqUXVlcnkpOyAvLyBFbmQgb2YgdXNlIHN0cmljdFxuIl0sInNvdXJjZVJvb3QiOiIifQ==