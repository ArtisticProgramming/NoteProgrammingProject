!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t,o){"use strict";o.r(t),o.d(t,"noteJsModel",function(){return n});var n={test:{name:"mostafa"},getNotes:function(e,t,o,n){return axios.get("/GetNotes?page="+e+"&perPage="+t+o+n)},deleteNote:function(e){return axios.get("/DeleteNote?id="+e)}}},function(e,t,o){"use strict";o.r(t),o.d(t,"codeMirrorComponent",function(){return n});const n=Vue.component("code-mirror",{template:"<textarea>{{body}}</textarea>",props:["body","lang","index"],methods:{methodThatForcesUpdate(){}},mounted:function(){var e=this;console.log(this.lang);var t=$(this.$el);CodeMirror.fromTextArea(t[0],{mode:this.lang,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0}).on("change",t=>{e.$emit("input-text-area",{index:e.index,value:t.getValue()})})},beforeDestroy:function(){console.log(t);let e=0;for(e=0;e<$(".CodeMirror").length;e++){var t=$(".CodeMirror")[e];void 0!==t&&(t.CodeMirror.setOption("mode","text/x-csrc"),t.CodeMirror.getWrapperElement().parentNode.removeChild(t.CodeMirror.getWrapperElement()),t.CodeMirror=null)}},destroyed:function(){}})},function(e,t,o){"use strict";o.r(t),o.d(t,"selectize",function(){return n});const n=Vue.component("selectize",{props:["options","value","url"],data:()=>({selectValue:"1234"}),template:"  \n    <select >\n    <slot></slot>\n    </select>",mounted:function(){var e=this,t=$(this.$el).selectize({maxItems:1,delimiter:",",persist:!1,items:["sdf","sdfsdf"],renderCache:!1,create:function(e){return console.log("Create"),{newTag:!0,value:e,text:e}},load:function(t,o){if(console.log("---LOAD---"),!t.length)return o();this.clear(),this.clearOptions(),$.ajax({url:e.url+"?query="+t,cache:!1,type:"GET",error:function(){o()},success:function(e){console.log(e.model),o(e.model.slice(0,10))}})}});$(t).on("change",function(){var o=t[0].selectize;console.log(t[0].selectize.getValue()),console.log(t[0].selectize.getItem()),console.log(t[0].selectize.items);$.map(o.items,function(e){return console.log(o.options[e]),o.options[e]});this.selectValue=t[0].selectize.items[0],console.log(t[0].selectize),e.$emit("input-data",this.selectValue)})},watch:{value:function(e){console.log(e)},options:function(e){console.log(e)}},destroyed:function(){}})},function(e,t,o){o(4),o(5),o(6),o(7),o(8),o(0),o(1),e.exports=o(2)},function(e,t,o){"use strict";o.r(t);o(0);var n=o(1),i=o(2),l=new Vue({el:"#anapp",data:{message:"Create a Note",nodeModel:{bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}]},componentKey:1},components:{codeMirrorComponent:n.codeMirrorComponent,selectize:i.selectize},updated:function(){},methods:{submit(){axios.post("/PostAddNote",{model:this.nodeModel}).then(e=>{this.nodeModel={bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}],componentKey:1},this.componentKey+=1,$("#technology").select2("val",""),$("#project").select2("val",""),$("#nType").select2("val",""),$("#specificSubject").select2("val","")}).catch(e=>{alert(e)})},updateType(e){},updateTechnology(e){},updateProjectType(e){console.log(e),this.nodeModel.projectType=e},updateCodeMirrorText(e){console.log(e),this.nodeModel.model[e.index].mainbody=e.value},add(){this.nodeModel.model.push({mainbody:"",desc:"",lang:""})}},mounted(){}});$(document).ready(function(){window.getProjectValue=function(){var e=$("#project").select2("data");return console.log(e),e[0].text},$("#project").select2({tags:[],initSelection:function(e,t){console.log(l.projectType)},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetProjectTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(e){l.projectType="";var t=$(this).select2("data")[0];console.log(t),void 0!==t&&(l.nodeModel.projectType.text=t.text,l.nodeModel.projectType.id=t.id),console.log(l.projectType)}),$("#technology").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetTechnologies",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(e){var t=$(this).select2("data")[0];void 0!==t&&(l.nodeModel.technologyType.text=t.text,l.nodeModel.technologyType.id=t.id)}),$("#nType").select2({initSelection:function(e,t){},ajax:{url:"/GetNoteTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","").on("change",function(e){var t=$(this).select2("data");console.log(t),void 0!==t&&(l.nodeModel.noteType.text=t.text,l.nodeModel.noteType.id=t.id)}),$("#specificSubject").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetSpecificSubject",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(e){var t=$(this).select2("data")[0];void 0!==t&&(l.nodeModel.specificSubject.text=t.text,l.nodeModel.specificSubject.id=t.id)})})},function(e,t,o){"use strict";o.r(t);var n=o(0),i=o(1);console.log(n.noteJsModel.test.name);var l="inactive";let r=1;var c=new Vue({el:"#app",data:{message:"Hello Vue!",searchModel:{searchTextBox:"",bookMark:!1},boxmodel:[],deleteModalNote:{id:0,index:0,text:""},componentKey:0},components:{codeMirrorComponent:i.codeMirrorComponent},updated:function(){},methods:{search:function(){r=1,this.loadNote(r,!0)},loadNote(e,t){let o="",i="";console.log(this.searchModel.searchTextBox),void 0!==this.searchModel.searchTextBox&&""!=this.searchModel.searchTextBox&&(o="&title="+this.searchModel.searchTextBox),void 0!==this.searchModel.bookMark&&0!=this.searchModel.bookMark&&(i="&bookMark="+this.searchModel.bookMark),n.noteJsModel.getNotes(e,8,o,i).then(e=>{t?(this.boxmodel=[],this.boxmodel=e.data.model):e.data.model.forEach(e=>{this.boxmodel.push(e)}),l="inactive",this.$nextTick(function(){this.componentKey+=1})})},OpenCloseNote(e){$("#oc-"+e),console.log($(this).parent().parent().children(".cardHeigth"));var t=$("#oc-"+e),o=$(t).parent().parent();return"100px"==$(t).css("height")?($(t).css("height","auto"),$(t).css("overflow-y","hidden"),$(o).removeClass("col-lg-6"),$(o).addClass("col-lg-12")):($(t).css("height","100px"),$(t).css("overflow-y","scroll"),$(o).removeClass("col-lg-12"),$(o).addClass("col-lg-6")),!1},openDeleteModal(e,t){console.log(e),this.deleteModalNote.id=e,this.deleteModalNote.index=t,this.$nextTick(function(){$("#deleteModal").modal("toggle")})},deleteNote(e,t){n.noteJsModel.deleteNote(e).then(e=>{this.$delete(this.boxmodel,t),this.$nextTick(function(){$("#deleteModal").modal("hide"),this.componentKey+=1})})}},mounted(){this.loadNote(r)}});$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-5&&"inactive"==l&&(l="active",setTimeout(function(){r+=1,c.loadNote(r)},500))}),$("body").on("click",".OpenCloseNote",function(){})},function(e,t){!function(){window.noteUtilityJs=window.noteUtilityJs||{};var e=[];for(i=0;i<document.getElementsByClassName("mirrorCode").length;i++){var t=$($(".mirrorCode")[i]).attr("lang");console.log("lang = "+t);var o=CodeMirror.fromTextArea(document.getElementsByClassName("mirrorCode")[i],{mode:t,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});e.push(o)}$(document).ready(function(){$("#example thead tr").clone(!0).appendTo("#example thead"),$("#example thead tr:eq(1) th").each(function(t){var o=$(this).text();$(this).html('<input type="text" placeholder="Search '+o+'" />'),$("input",this).on("keyup change",function(){e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})});var e=$("#example").DataTable({orderCellsTop:!0,fixedHeader:!0})})}()},function(e,t){!function(e){"use strict";var t=1;function o(){e("body").toggleClass("sidebar-toggled"),e(".sidebar").toggleClass("toggled"),e(".sidebar").hasClass("toggled")&&e(".sidebar .collapse").collapse("hide")}e("body").on("click","#addprogrammingnotebody",function(){let o="code"+t;var n='<div class="form-group note-body">\n                          <textarea id="'+o+'" rows="8" name=\'code['+t+'][body]\' style="margin: 10px; "\n                          value="" class="code form-control"></textarea>\n                      </div',i='<div class="row">\n            <div class="form-group col-md-9"><input id="exampleInputEmail1" \n                type="text" aria-describedby="emailHelp"\n                    placeholder="Title" name="code['+t+'][desc]" class="form-control"></div>\n            <div box-id="'+o+'"  class="form-group col-md-3 selectlang">\n            <select class="form-control form-control" name="code['+t+'][codelang]">\n                    <option value="htmlmixed">Html</option>\n                    <option value="text/css"> CSS</option>\n                    <option value="text/javascript"> JavaScript</option>\n                    <option value="text/x-sql"> SQl</option>\n                    <option value="text/x-csharp"> C#</option>\n                    <option value="text/x-python"> Python</option>\n                    <option value="text/x-java"> Java</option>\n                    <option value="text/x-php"> PHP</option>\n                    <option value="text/x-c++src"> C++</option>\n                    <option value="text/x-csrc"> C</option>\n                    <option value="text/x-go"> Go</option>\n                    <option value="text/x-rsrc"> R</option>\n                    <option value="application/x-powershell"> PowerShell</option>\n                </select></div>\n            </div>';e(".note-body").last().after(i+n);CodeMirror.fromTextArea(document.getElementById(o),{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});t+=1}),e("body").on("change",".selectlang",function(){e(this).attr("box-id"),e(this).val()}),e("#searchBoxBtn").click(function(){var t=e("#searchBox").val();location.href="/Notes?title="+t}),o(),e("#sidebarToggle, #sidebarToggleTop").on("click",function(e){o()}),e(window).resize(function(){e(window).width()<768&&e(".sidebar .collapse").collapse("hide")}),e("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(t){if(e(window).width()>768){var o=t.originalEvent,n=o.wheelDelta||-o.detail;this.scrollTop+=30*(n<0?1:-1),t.preventDefault()}}),e(document).on("scroll",function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e(document).on("click","a.scroll-to-top",function(t){var o=e(this);e("html, body").stop().animate({scrollTop:e(o.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()})}(jQuery)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9tb2RlbC9ub3RlSnNNb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvc2VsZWN0aXplLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvQWRkTm90ZUpzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvTm90ZXNKcy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL05vdGVVdGlsaXR5SnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9zYi1hZG1pbi0yLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIm5vdGVKc01vZGVsIiwidGVzdCIsImdldE5vdGVzIiwicGFnZSIsInBlclBhZ2UiLCJ0aXRsZSIsImJvb2tNYXJrIiwiYXhpb3MiLCJkZWxldGVOb3RlIiwiaWQiLCJjb2RlTWlycm9yQ29tcG9uZW50IiwiVnVlIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJwcm9wcyIsIm1ldGhvZHMiLCJbb2JqZWN0IE9iamVjdF0iLCJtb3VudGVkIiwidm0iLCJ0aGlzIiwiY29uc29sZSIsImxvZyIsImxhbmciLCJlbGVtZW50IiwiJCIsIiRlbCIsIkNvZGVNaXJyb3IiLCJmcm9tVGV4dEFyZWEiLCJsaW5lTnVtYmVycyIsInN0eWxlQWN0aXZlTGluZSIsIm1hdGNoQnJhY2tldHMiLCJ2aWV3cG9ydE1hcmdpbiIsIkluZmluaXR5Iiwib24iLCJlZGl0b3IiLCIkZW1pdCIsImluZGV4IiwiZ2V0VmFsdWUiLCJiZWZvcmVEZXN0cm95IiwiY20iLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzZXRPcHRpb24iLCJnZXRXcmFwcGVyRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImRlc3Ryb3llZCIsInNlbGVjdGl6ZSIsImRhdGEiLCJzZWxlY3RWYWx1ZSIsIm1heEl0ZW1zIiwiZGVsaW1pdGVyIiwicGVyc2lzdCIsIml0ZW1zIiwicmVuZGVyQ2FjaGUiLCJpbnB1dCIsIm5ld1RhZyIsInRleHQiLCJsb2FkIiwicXVlcnkiLCJjYWxsYmFjayIsImNsZWFyIiwiY2xlYXJPcHRpb25zIiwiYWpheCIsInVybCIsImNhY2hlIiwidHlwZSIsImVycm9yIiwic3VjY2VzcyIsInJlcyIsIm1vZGVsIiwic2xpY2UiLCJnZXRJdGVtIiwibWFwIiwib3B0aW9ucyIsIndhdGNoIiwiYXBwIiwiZWwiLCJtZXNzYWdlIiwibm9kZU1vZGVsIiwicHJvamVjdFR5cGUiLCJ0ZWNobm9sb2d5VHlwZSIsInNwZWNpZmljU3ViamVjdCIsIm5vdGVUeXBlIiwibWFpbmJvZHkiLCJkZXNjIiwiY29tcG9uZW50S2V5IiwiY29tcG9uZW50cyIsIl9jb21wb25lbnRzX2NvZGVNaXJyb3JDb21wb25lbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9jb21wb25lbnRzX3NlbGVjdGl6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwidXBkYXRlZCIsInBvc3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJzZWxlY3QyIiwiY2F0Y2giLCJhbGVydCIsInZhcmlhYmxlIiwiaXRlbSIsInB1c2giLCJkb2N1bWVudCIsInJlYWR5Iiwid2luZG93IiwiZ2V0UHJvamVjdFZhbHVlIiwidGFncyIsImluaXRTZWxlY3Rpb24iLCJtYXhpbXVtSW5wdXRMZW5ndGgiLCJtYXhpbXVtU2VsZWN0aW9uU2l6ZSIsImRhdGFUeXBlIiwicXVpZXRNaWxsaXMiLCJ0ZXJtIiwicmVzdWx0cyIsImNyZWF0ZVNlYXJjaENob2ljZSIsImZpbHRlciIsImxvY2FsZUNvbXBhcmUiLCJtdWx0aXBsZSIsImUiLCJfbW9kZWxfbm90ZUpzTW9kZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImFjdGlvbiIsInNlYXJjaE1vZGVsIiwic2VhcmNoVGV4dEJveCIsImJveG1vZGVsIiwiZGVsZXRlTW9kYWxOb3RlIiwic2VhcmNoIiwibG9hZE5vdGUiLCJyZXNldCIsImZvckVhY2giLCIkbmV4dFRpY2siLCJwYXJlbnQiLCJjaGlsZHJlbiIsInNlbGN0b3IiLCJzZWxlIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm1vZGFsIiwiJGRlbGV0ZSIsInNjcm9sbCIsInNjcm9sbFRvcCIsImhlaWdodCIsInNldFRpbWVvdXQiLCJub3RlVXRpbGl0eUpzIiwiZWRpdEFyciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhdHRyIiwiY2xvbmUiLCJhcHBlbmRUbyIsImVhY2giLCJodG1sIiwidGFibGUiLCJjb2x1bW4iLCJkcmF3IiwiRGF0YVRhYmxlIiwib3JkZXJDZWxsc1RvcCIsImZpeGVkSGVhZGVyIiwiaWRjIiwidG9nZ2xlU2lkZWJhciIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJjb2xsYXBzZSIsInRleHRBcmVhQm9keSIsInJvdyIsImxhc3QiLCJhZnRlciIsImdldEVsZW1lbnRCeUlkIiwidmFsIiwiY2xpY2siLCJyZXN1bHQiLCJsb2NhdGlvbiIsImhyZWYiLCJyZXNpemUiLCJ3aWR0aCIsImUwIiwib3JpZ2luYWxFdmVudCIsImRlbHRhIiwid2hlZWxEZWx0YSIsImRldGFpbCIsInByZXZlbnREZWZhdWx0IiwiZmFkZUluIiwiZmFkZU91dCIsIiRhbmNob3IiLCJzdG9wIiwiYW5pbWF0ZSIsIm9mZnNldCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUs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WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJ2YXIgbm90ZUpzTW9kZWwgPSB7XHJcbiAgICB0ZXN0OiB7XHJcbiAgICAgICAgbmFtZTogXCJtb3N0YWZhXCJcclxuICAgIH0sXHJcbiAgICBnZXROb3RlczogZnVuY3Rpb24gKHBhZ2UsIHBlclBhZ2UsIHRpdGxlLGJvb2tNYXJrKSB7XHJcbiAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL0dldE5vdGVzP3BhZ2U9JyArIHBhZ2UgKyBcIiZwZXJQYWdlPVwiICsgcGVyUGFnZSArIHRpdGxlICsgYm9va01hcmspXHJcbiAgICB9LFxyXG4gICAgZGVsZXRlTm90ZTogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL0RlbGV0ZU5vdGU/aWQ9JyArIGlkKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHsgbm90ZUpzTW9kZWwgfTsiLCJcclxuZXhwb3J0IGNvbnN0IGNvZGVNaXJyb3JDb21wb25lbnQgPVZ1ZS5jb21wb25lbnQoJ2NvZGUtbWlycm9yJywge1xyXG4gIHRlbXBsYXRlOiAnPHRleHRhcmVhPnt7Ym9keX19PC90ZXh0YXJlYT4nLFxyXG4gIHByb3BzOiBbJ2JvZHknLCBcImxhbmdcIixcImluZGV4XCJdLFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIG1ldGhvZFRoYXRGb3JjZXNVcGRhdGUoKSB7XHJcbiAgICAgIC8vIC4uLlxyXG4gICAgICAvLyBOb3RpY2Ugd2UgaGF2ZSB0byB1c2UgYSAkIGhlcmVcclxuICAgICAgLy8gLi4uXHJcbiAgICB9XHJcbiAgfSxcclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdm09IHRoaXM7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLmxhbmcpXHJcbiAgICB2YXIgZWxlbWVudCA9ICQodGhpcy4kZWwpXHJcbiAgICB2YXIgY29kZSA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGVsZW1lbnRbMF0sIHtcclxuICAgICAgbW9kZTogdGhpcy5sYW5nLFxyXG4gICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcclxuICAgICAgc3R5bGVBY3RpdmVMaW5lOiB0cnVlLFxyXG4gICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxyXG4gICAgICB2aWV3cG9ydE1hcmdpbjogSW5maW5pdHksXHJcbiAgICB9KS5vbignY2hhbmdlJywgZWRpdG9yID0+IHtcclxuICAgICAgLy8gY29uc29sZS5sb2coZWRpdG9yLmdldFZhbHVlKCkpO1xyXG4gICAgICB2bS4kZW1pdChcImlucHV0LXRleHQtYXJlYVwiLCB7XCJpbmRleFwiOnZtLmluZGV4LFwidmFsdWVcIjplZGl0b3IuZ2V0VmFsdWUoKX0pO1xyXG4gICAgfSk7XHJcblxyXG4gIH0sXHJcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coY20pXHJcbiAgICBsZXQgaT0wO1xyXG4gICAgZm9yIChpID0gMDsgaSA8ICQoJy5Db2RlTWlycm9yJykubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGNtID0gJCgnLkNvZGVNaXJyb3InKVtpXTtcclxuICAgICAgaWYgKGNtICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBjbS5Db2RlTWlycm9yLnNldE9wdGlvbihcIm1vZGVcIiwgXCJ0ZXh0L3gtY3NyY1wiKTtcclxuICAgICAgICBjbS5Db2RlTWlycm9yLmdldFdyYXBwZXJFbGVtZW50KCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbS5Db2RlTWlycm9yLmdldFdyYXBwZXJFbGVtZW50KCkpO1xyXG4gICAgICAgIGNtLkNvZGVNaXJyb3IgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfVxyXG59KTtcclxuIiwiZXhwb3J0IGNvbnN0IHNlbGVjdGl6ZSA9IFZ1ZS5jb21wb25lbnQoJ3NlbGVjdGl6ZScsIHtcclxuICAgIHByb3BzOiBbJ29wdGlvbnMnLCAndmFsdWUnLCd1cmwnXSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2VsZWN0VmFsdWU6ICcxMjM0JyxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiBgICBcclxuICAgIDxzZWxlY3QgPlxyXG4gICAgPHNsb3Q+PC9zbG90PlxyXG4gICAgPC9zZWxlY3Q+YCxcclxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzXHJcbiAgICAgICAgdmFyIHMgPSAkKHRoaXMuJGVsKS5zZWxlY3RpemUoe1xyXG4gICAgICAgICAgICBtYXhJdGVtczogMSxcclxuICAgICAgICAgICAgZGVsaW1pdGVyOiAnLCcsXHJcbiAgICAgICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxyXG4gICAgICAgICAgICBpdGVtczogW1wic2RmXCIsIFwic2Rmc2RmXCJdLFxyXG4gICAgICAgICAgICByZW5kZXJDYWNoZTpmYWxzZSxcclxuICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRlXCIpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1RhZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogaW5wdXRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24ocXVlcnksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIi0tLUxPQUQtLS1cIilcclxuICAgICAgICAgICAgICAgIGlmICghcXVlcnkubGVuZ3RoKSByZXR1cm4gY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogdm0udXJsICsgXCI/cXVlcnk9XCIrcXVlcnksXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGU6ZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5tb2RlbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzLm1vZGVsLnNsaWNlKDAsMTApKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgJChzKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyggc1swXS5zZWxlY3RpemUpXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RpemUgPSBzWzBdLnNlbGVjdGl6ZTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc1swXS5zZWxlY3RpemUuaXRlbXNbMF0pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNbMF0uc2VsZWN0aXplLmdldFZhbHVlKCkpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNbMF0uc2VsZWN0aXplLmdldEl0ZW0oKSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc1swXS5zZWxlY3RpemUuaXRlbXMpXHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRfb2JqZWN0cyA9ICQubWFwKHNlbGVjdGl6ZS5pdGVtcywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzZWxlY3RpemUub3B0aW9uc1t2YWx1ZV0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0aXplLm9wdGlvbnNbdmFsdWVdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RWYWx1ZSA9IHNbMF0uc2VsZWN0aXplLml0ZW1zWzBdO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzWzBdLnNlbGVjdGl6ZSlcclxuXHJcbiAgICAgICAgICAgIHZtLiRlbWl0KFwiaW5wdXQtZGF0YVwiLCB0aGlzLnNlbGVjdFZhbHVlKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cob3B0aW9ucylcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gJCh0aGlzLiRlbCkub2ZmKCkuc2VsZWN0MignZGVzdHJveScpXHJcbiAgICB9XHJcbn0pXHJcbiIsIlxyXG5pbXBvcnQgeyBub3RlSnNNb2RlbCB9IGZyb20gXCIuL21vZGVsL25vdGVKc01vZGVsXCJcclxuaW1wb3J0IHsgY29kZU1pcnJvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudFwiXHJcbmltcG9ydCB7IHNlbGVjdGl6ZSB9IGZyb20gXCIuL2NvbXBvbmVudHMvc2VsZWN0aXplXCJcclxuXHJcbnZhciBhcHAgPSBuZXcgVnVlKHtcclxuICBlbDogJyNhbmFwcCcsXHJcbiAgLy8gdGVtcGxhdGU6ICcjZGVtby10ZW1wbGF0ZScsXHJcbiAgZGF0YToge1xyXG4gICAgbWVzc2FnZTogJ0NyZWF0ZSBhIE5vdGUnLFxyXG4gICAgbm9kZU1vZGVsOiB7XHJcbiAgICAgIGJvb2tNYXJrOiBmYWxzZSxcclxuICAgICAgdGl0bGU6IFwiXCIsXHJcbiAgICAgIHByb2plY3RUeXBlOiB7fSxcclxuICAgICAgdGVjaG5vbG9neVR5cGU6IHt9LFxyXG4gICAgICBzcGVjaWZpY1N1YmplY3Q6IHt9LFxyXG4gICAgICBub3RlVHlwZToge30sXHJcbiAgICAgIG1vZGVsOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbWFpbmJvZHk6IFwiXCIsXHJcbiAgICAgICAgICBkZXNjOiBcIlwiLFxyXG4gICAgICAgICAgbGFuZzogXCJodG1sbWl4ZWRcIlxyXG4gICAgICAgIH1dXHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50S2V5OiAxLFxyXG4gIH0sXHJcbiAgY29tcG9uZW50czoge1xyXG4gICAgY29kZU1pcnJvckNvbXBvbmVudCxcclxuICAgIHNlbGVjdGl6ZVxyXG4gIH0sXHJcbiAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIHN1Ym1pdCgpIHtcclxuXHJcbiAgICAgIC8vIHZhciBub2RlTW9kZWwgPSBjb25zb2xlLmxvZyh0aGlzLm5vZGVNb2RlbC5tb2RlbCk7XHJcbiAgICAgIGF4aW9zLnBvc3QoJy9Qb3N0QWRkTm90ZScsIHsgbW9kZWw6IHRoaXMubm9kZU1vZGVsIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLm5vZGVNb2RlbCA9IHtcclxuICAgICAgICAgICAgYm9va01hcms6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aXRsZTogXCJcIixcclxuICAgICAgICAgICAgcHJvamVjdFR5cGU6IHt9LFxyXG4gICAgICAgICAgICB0ZWNobm9sb2d5VHlwZToge30sXHJcbiAgICAgICAgICAgIHNwZWNpZmljU3ViamVjdDoge30sXHJcbiAgICAgICAgICAgIG5vdGVUeXBlOiB7fSxcclxuICAgICAgICAgICAgbW9kZWw6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBtYWluYm9keTogXCJcIixcclxuICAgICAgICAgICAgICAgIGRlc2M6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBsYW5nOiBcImh0bWxtaXhlZFwiXHJcbiAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgIGNvbXBvbmVudEtleTogMSxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRoaXMuY29tcG9uZW50S2V5ICs9IDE7XHJcbiAgICAgICAgICAkKFwiI3RlY2hub2xvZ3lcIikuc2VsZWN0MihcInZhbFwiLCBcIlwiKTtcclxuICAgICAgICAgICQoXCIjcHJvamVjdFwiKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xyXG4gICAgICAgICAgJChcIiNuVHlwZVwiKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xyXG4gICAgICAgICAgJChcIiNzcGVjaWZpY1N1YmplY3RcIikuc2VsZWN0MihcInZhbFwiLCBcIlwiKTtcclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBhbGVydChlcnJvcilcclxuICAgICAgICB9KVxyXG5cclxuICAgIH0sXHJcbiAgICB1cGRhdGVUeXBlKHZhcmlhYmxlKSB7XHJcblxyXG4gICAgfSxcclxuICAgIHVwZGF0ZVRlY2hub2xvZ3kodmFyaWFibGUpIHtcclxuXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlUHJvamVjdFR5cGUodmFyaWFibGUpIHtcclxuICAgICAgY29uc29sZS5sb2codmFyaWFibGUpXHJcbiAgICAgIHRoaXMubm9kZU1vZGVsLnByb2plY3RUeXBlID0gdmFyaWFibGU7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlQ29kZU1pcnJvclRleHQoaXRlbSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhpdGVtKVxyXG4gICAgICB0aGlzLm5vZGVNb2RlbC5tb2RlbFtpdGVtLmluZGV4XS5tYWluYm9keSA9IGl0ZW0udmFsdWVcclxuICAgIH0sXHJcbiAgICBhZGQoKSB7XHJcbiAgICAgIHRoaXMubm9kZU1vZGVsLm1vZGVsLnB1c2goe1xyXG4gICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgIGRlc2M6IFwiXCIsXHJcbiAgICAgICAgbGFuZzogXCJcIlxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbW91bnRlZCgpIHtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG5cclxuICB3aW5kb3cuZ2V0UHJvamVjdFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgZGVidWdnZXI7XHJcbiAgICB2YXIgcyA9ICQoJyNwcm9qZWN0Jykuc2VsZWN0MignZGF0YScpXHJcbiAgICBjb25zb2xlLmxvZyhzKTtcclxuICAgIHZhciBzc3MgPSBzWzBdLnRleHQ7XHJcbiAgICByZXR1cm4gc3NzO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Qcm9qZWN0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICQoXCIjcHJvamVjdFwiKS5zZWxlY3QyKHtcclxuICAgIHRhZ3M6IFtdLFxyXG4gICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICBjb25zb2xlLmxvZyhhcHAucHJvamVjdFR5cGUpXHJcbiAgICB9LFxyXG4gICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICBtYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICBhamF4OiB7IC8vIGluc3RlYWQgb2Ygd3JpdGluZyB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB0aGUgcmVxdWVzdCB3ZSB1c2UgU2VsZWN0MidzIGNvbnZlbmllbnQgaGVscGVyXHJcbiAgICAgIHVybDogXCIvR2V0UHJvamVjdFR5cGVzXCIsXHJcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgIHF1aWV0TWlsbGlzOiAxMDAsXHJcbiAgICAgIGRhdGE6IGZ1bmN0aW9uICh0ZXJtLCBwYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHF1ZXJ5OiB0ZXJtLCAvLyBzZWFyY2ggdGVybVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYWdlKSB7IC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyLlxyXG4gICAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGFcclxuICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIGNhY2hlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBmdW5jdGlvbiAodGVybSwgZGF0YSkge1xyXG4gICAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQubG9jYWxlQ29tcGFyZSh0ZXJtKSA9PT0gMDtcclxuICAgICAgfSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtdWx0aXBsZTogdHJ1ZSxcclxuICB9KS5zZWxlY3QyKCd2YWwnLCBbXSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIGFwcC5wcm9qZWN0VHlwZSA9IFwiXCI7XHJcbiAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpWzBdO1xyXG4gICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgYXBwLm5vZGVNb2RlbC5wcm9qZWN0VHlwZS50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICBhcHAubm9kZU1vZGVsLnByb2plY3RUeXBlLmlkID0gZGF0YS5pZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhhcHAucHJvamVjdFR5cGUpXHJcbiAgfSk7XHJcblxyXG5cclxuICAvLysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKytfVGVjaG5vbG9neV8rKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrXHJcbiAgLy9kZWxldGUgPT4gICQoXCIjdGVjaG5vbG9neVwiKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xyXG4gICQoXCIjdGVjaG5vbG9neVwiKS5zZWxlY3QyKHtcclxuICAgIHRhZ3M6IFtdLFxyXG4gICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgfSxcclxuICAgIC8vIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgIG1heGltdW1TZWxlY3Rpb25TaXplOiAxLFxyXG4gICAgYWpheDogeyAvLyBpbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHJlcXVlc3Qgd2UgdXNlIFNlbGVjdDIncyBjb252ZW5pZW50IGhlbHBlclxyXG4gICAgICB1cmw6IFwiL0dldFRlY2hub2xvZ2llc1wiLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICBxdWlldE1pbGxpczogMTAwLFxyXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBxdWVyeTogdGVybSwgLy8gc2VhcmNoIHRlcm1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICByZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFnZSkgeyAvLyBwYXJzZSB0aGUgcmVzdWx0cyBpbnRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgU2VsZWN0Mi5cclxuICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgICB9LFxyXG4gICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZVNlYXJjaENob2ljZTogZnVuY3Rpb24gKHRlcm0sIGRhdGEpIHtcclxuICAgICAgaWYgKCQoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiB7IGlkOiBcIiQqTmV3VGFnKiRcIiwgdGV4dDogdGVybSB9O1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgfSkuc2VsZWN0MigndmFsJywgW10pLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKVswXTtcclxuICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgYXBwLm5vZGVNb2RlbC50ZWNobm9sb2d5VHlwZS50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICBhcHAubm9kZU1vZGVsLnRlY2hub2xvZ3lUeXBlLmlkID0gZGF0YS5pZDtcclxuICAgIH1cclxuXHJcbiAgfSk7XHJcblxyXG4gIC8vQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAX05vdGVUeXBlX0BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAyXHJcblxyXG5cclxuXHJcbiAgJChcIiNuVHlwZVwiKS5zZWxlY3QyKHtcclxuICAgIC8vIHRhZ3M6IFtdLFxyXG4gICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhhcHAucHJvamVjdFR5cGUpXHJcbiAgICB9LFxyXG4gICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICAvL21heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgICAvLyBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgdXJsOiBcIi9HZXROb3RlVHlwZXNcIixcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgZGF0YTogZnVuY3Rpb24gKHRlcm0sIHBhZ2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHVzaW5nIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9ucyB3ZSBkbyBub3QgbmVlZCB0byBhbHRlciB0aGUgcmVtb3RlIEpTT04gZGF0YVxyXG4gICAgICAgIHJldHVybiB7IHJlc3VsdHM6IGRhdGEubW9kZWwgfTtcclxuICAgICAgfSxcclxuICAgICAgLy8gY2FjaGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgIGlmICgkKGRhdGEpLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5sb2NhbGVDb21wYXJlKHRlcm0pID09PSAwO1xyXG4gICAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4geyBpZDogXCIkKk5ld1RhZyokXCIsIHRleHQ6IHRlcm0gfTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8vbXVsdGlwbGU6IHRydWUsXHJcbiAgfSkuc2VsZWN0MigndmFsJywgJycpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpO1xyXG4gICAgY29uc29sZS5sb2coZGF0YSlcclxuXHJcbiAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGFwcC5ub2RlTW9kZWwubm90ZVR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgYXBwLm5vZGVNb2RlbC5ub3RlVHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICB9XHJcbiAgfSk7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiQoXCIjc3BlY2lmaWNTdWJqZWN0XCIpLnNlbGVjdDIoe1xyXG4gIHRhZ3M6IFtdLFxyXG4gIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgIC8vIGFwcC5wcm9qZWN0VHlwZSA9IGRhdGE7XHJcbiAgfSxcclxuICAvLyBtdWx0aXBsZTogdHJ1ZSxcclxuICBtYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gIG1heGltdW1TZWxlY3Rpb25TaXplOiAxLFxyXG4gIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgIHVybDogXCIvR2V0U3BlY2lmaWNTdWJqZWN0XCIsXHJcbiAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgIGRhdGE6IGZ1bmN0aW9uICh0ZXJtLCBwYWdlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGFcclxuICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgfSxcclxuICAgIC8vIGNhY2hlOiB0cnVlXHJcbiAgfSxcclxuICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICB9XHJcbiAgfSxcclxuICBtdWx0aXBsZTogdHJ1ZSxcclxufSkuc2VsZWN0MigndmFsJywgW10pLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gIHZhciBkYXRhID0gJCh0aGlzKS5zZWxlY3QyKCdkYXRhJylbMF07XHJcbiAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgYXBwLm5vZGVNb2RlbC5zcGVjaWZpY1N1YmplY3QudGV4dCA9IGRhdGEudGV4dDtcclxuICAgIGFwcC5ub2RlTW9kZWwuc3BlY2lmaWNTdWJqZWN0LmlkID0gZGF0YS5pZDtcclxuICB9XHJcblxyXG59KTtcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gIC8vICQoXCIjXCIpLnNlbGVjdDIoe1xyXG4gIC8vICAgdGFnczogW1wicmVkXCIsIFwiZ3JlZW5cIiwgXCJibHVlXCJdLFxyXG4gIC8vICAgbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAvLyAgIG1heGltdW1TZWxlY3Rpb25TaXplOiAxXHJcblxyXG4gIC8vIH0pO1xyXG4gIC8vICQoXCIjbm90ZVwiKS5zZWxlY3QyKHtcclxuICAvLyAgIHRhZ3M6IFtcInJlZFwiLCBcImdyZWVuXCIsIFwiYmx1ZVwiXSxcclxuICAvLyAgIG1heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgLy8gICBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMVxyXG4gIC8vIH0pO1xyXG5cclxuXHJcbiAgLy8gJCgnLm1vcmVDb250ZW50JykubW9yZUNvbnRlbnQoKTtcclxuXHJcblxyXG5cclxuICAvLyB2YXIgcHJlbG9hZF9kYXRhID0gW1xyXG4gIC8vICAgeyBpZDogJ3VzZXIwJywgdGV4dDogJ0Rpc2FibGVkIFVzZXInLCBsb2NrZWQ6IHRydWUgfVxyXG4gIC8vICAgLCB7IGlkOiAndXNlcjEnLCB0ZXh0OiAnSmFuZSBEb2UnIH1cclxuICAvLyAgICwgeyBpZDogJ3VzZXIyJywgdGV4dDogJ0pvaG4gRG9lJywgbG9ja2VkOiB0cnVlIH1cclxuICAvLyAgICwgeyBpZDogJ3VzZXIzJywgdGV4dDogJ1JvYmVydCBQYXVsc29uJywgbG9ja2VkOiB0cnVlIH1cclxuICAvLyAgICwgeyBpZDogJ3VzZXI1JywgdGV4dDogJ1Nwb25nZWJvYiBTcXVhcmVwYW50cycgfVxyXG4gIC8vICAgLCB7IGlkOiAndXNlcjYnLCB0ZXh0OiAnUGxhbmV0IEJvYicgfVxyXG4gIC8vICAgLCB7IGlkOiAndXNlcjcnLCB0ZXh0OiAnSW5pZ28gTW9udG95YScgfVxyXG4gIC8vIF07XHJcblxyXG5cclxuICAvLyAkKCcjdzInKS5zZWxlY3QyKHtcclxuICAvLyAgIHRoZW1lOiBcImJvb3RzdHJhcDRcIiwgdGFnczogdHJ1ZSwgbXVsdGlwbGU6IHRydWVcclxuICAvLyB9KTtcclxuICAvLyAvLyAkKCcjdycpLnNlbGVjdDIoeyB0YWdzOiBbXCJyZWRcIiwgXCJncmVlblwiLCBcImJsdWVcIl0gfSk7XHJcbiAgLy8gdmFyIGxhc3RSZXN1bHRzID0gW107XHJcbiAgLy8gdmFyIGRhdGEgPSBbe1xyXG4gIC8vICAgXCJpZFwiOiAxLFxyXG4gIC8vICAgXCJ0ZXh0XCI6IFwidGFnMVwiLFxyXG4gIC8vIH0sIHtcclxuICAvLyAgIFwiaWRcIjogMixcclxuICAvLyAgIFwidGV4dFwiOiBcInRhZzJcIixcclxuICAvLyB9LCB7XHJcbiAgLy8gICBcImlkXCI6IDMsXHJcbiAgLy8gICBcInRleHRcIjogXCJnYW1lXCIsXHJcbiAgLy8gfSwge1xyXG4gIC8vICAgXCJpZFwiOiA0LFxyXG4gIC8vICAgXCJ0ZXh0XCI6IFwiZXhhbXBsZVwiLFxyXG4gIC8vIH0sIHtcclxuICAvLyAgIFwiaWRcIjogNSxcclxuICAvLyAgIFwidGV4dFwiOiBcInRlc3RcIixcclxuICAvLyB9XTtcclxuXHJcbiAgLy8gJCgnI3cyJykuc2VsZWN0Mih7XHJcbiAgLy8gICBwbGFjZWhvbGRlcjogXCJQcm9ibGVtIFRhZ3NcIixcclxuICAvLyAgIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgLy8gICBtaW5pbXVtSW5wdXRMZW5ndGg6IDIsXHJcbiAgLy8gICB0YWdzOiB0cnVlLFxyXG4gIC8vICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgLy8gICB3aWR0aDogXCIzMDBweFwiLFxyXG4gIC8vICAgdGFnczogZGF0YSxcclxuICAvLyAgIGNyZWF0ZVRhZzogZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gIC8vICAgICB2YXIgdGVybSA9ICQudHJpbShwYXJhbXMudGVybSk7XHJcbiAgLy8gICAgIGlmICh0ZXJtID09PSAnJykge1xyXG4gIC8vICAgICAgIHJldHVybiBudWxsO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICAgIHJldHVybiB7XHJcbiAgLy8gICAgICAgaWQ6IHRlcm0sXHJcbiAgLy8gICAgICAgdGV4dDogdGVybSxcclxuICAvLyAgICAgICBuZXdUYWc6IHRydWUgLy8gYWRkIGFkZGl0aW9uYWwgcGFyYW1ldGVyc1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9XHJcbiAgLy8gfSk7XHJcblxyXG4gIC8vIGluaXRpYWwgdmFsdWVzXHJcbiAgLy8gJCgnLmFkZFRhZ3MnKS52YWwoWycyJywgJzUnXSkudHJpZ2dlcignY2hhbmdlJyk7XHJcblxyXG4gIC8vICQoXCIjZTEyXCIpLnNlbGVjdDIoeyB0YWdzOiBbXCJyZWRcIiwgXCJncmVlblwiLCBcImJsdWVcIl0sIHRoZW1lOiBcImJvb3RzdHJhcDRcIiB9KTtcclxuXHJcbiAgLy8gJCgnI3RhZ3MnKS5zZWxlY3QyKHtcclxuICAvLyAgIGRhdGE6IFtcIkNsYXJlXCIsXCJDb3JrXCIsXCJTb3V0aCBEdWJsaW5cIl0sXHJcbiAgLy8gICAgIHRhZ3M6IHRydWUsXHJcbiAgLy8gICAgIHRva2VuU2VwYXJhdG9yczogWycsJ10sIFxyXG4gIC8vICAgICBwbGFjZWhvbGRlcjogXCJBZGQgeW91ciB0YWdzIGhlcmVcIlxyXG4gIC8vIH0pO1xyXG5cclxuICAvLyAkKCcjcHJvamVjdFR5cGUnKS5zZWxlY3RpemUoe1xyXG4gIC8vICAgbWF4SXRlbXM6IDEsXHJcbiAgLy8gICBkZWxpbWl0ZXI6ICcsJyxcclxuICAvLyAgIHBlcnNpc3Q6IGZhbHNlLFxyXG4gIC8vICAgLy8gIG9wdGlvbnM6IFtcclxuICAvLyAgIC8vICAgICB7ZW1haWw6ICdicmlhbkB0aGlyZHJvdXRlLmNvbScsIHRleHQ6ICdCcmlhbiBSZWF2aXMnfSxcclxuICAvLyAgIC8vICAgICB7ZW1haWw6ICduaWtvbGFAdGVzbGEuY29tJywgdGV4dDogJ05pa29sYSBUZXNsYSd9LFxyXG4gIC8vICAgLy8gXSxcclxuICAvLyAgIGNyZWF0ZTogZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgLy8gICAgIHJldHVybiB7XHJcbiAgLy8gICAgICAgdmFsdWU6IGlucHV0LFxyXG4gIC8vICAgICAgIHRleHQ6IGlucHV0XHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH1cclxuICAvLyB9KTtcclxuXHJcbiAgLy8gJCgnI3RlY2hub2xvZ3knKS5zZWxlY3RpemUoe1xyXG4gIC8vICAgbWF4SXRlbXM6IDEsXHJcbiAgLy8gICBkZWxpbWl0ZXI6ICcsJyxcclxuICAvLyAgIHBlcnNpc3Q6IGZhbHNlLFxyXG4gIC8vICAgLy8gIG9wdGlvbnM6IFtcclxuICAvLyAgIC8vICAgICB7ZW1haWw6ICdicmlhbkB0aGlyZHJvdXRlLmNvbScsIHRleHQ6ICdCcmlhbiBSZWF2aXMnfSxcclxuICAvLyAgIC8vICAgICB7ZW1haWw6ICduaWtvbGFAdGVzbGEuY29tJywgdGV4dDogJ05pa29sYSBUZXNsYSd9LFxyXG4gIC8vICAgLy8gXSxcclxuICAvLyAgIGNyZWF0ZTogZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgLy8gICAgIHJldHVybiB7XHJcbiAgLy8gICAgICAgdmFsdWU6IGlucHV0LFxyXG4gIC8vICAgICAgIHRleHQ6IGlucHV0XHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH1cclxuICAvLyB9KTtcclxuXHJcbiAgLy8gJCgnI3R5cGUnKS5zZWxlY3RpemUoe1xyXG4gIC8vICAgbWF4SXRlbXM6IDEsXHJcbiAgLy8gICBkZWxpbWl0ZXI6ICcsJyxcclxuICAvLyAgIHBlcnNpc3Q6IGZhbHNlLFxyXG4gIC8vICAgLy8gIG9wdGlvbnM6IFtcclxuICAvLyAgIC8vICAgICB7ZW1haWw6ICdicmlhbkB0aGlyZHJvdXRlLmNvbScsIHRleHQ6ICdCcmlhbiBSZWF2aXMnfSxcclxuICAvLyAgIC8vICAgICB7ZW1haWw6ICduaWtvbGFAdGVzbGEuY29tJywgdGV4dDogJ05pa29sYSBUZXNsYSd9LFxyXG4gIC8vICAgLy8gXSxcclxuICAvLyAgIGNyZWF0ZTogZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgLy8gICAgIHJldHVybiB7XHJcbiAgLy8gICAgICAgdmFsdWU6IGlucHV0LFxyXG4gIC8vICAgICAgIHRleHQ6IGlucHV0XHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH1cclxuICAvLyB9KTtcclxuXHJcblxyXG4gIC8vIFxyXG4gIC8vIFxyXG59KVxyXG4iLCJpbXBvcnQgeyBub3RlSnNNb2RlbCB9IGZyb20gXCIuL21vZGVsL25vdGVKc01vZGVsXCJcclxuaW1wb3J0IHsgY29kZU1pcnJvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudFwiXHJcbmNvbnNvbGUubG9nKG5vdGVKc01vZGVsLnRlc3QubmFtZSk7XHJcblxyXG52YXIgYWN0aW9uID0gJ2luYWN0aXZlJztcclxubGV0IHBhZ2UgPSAxO1xyXG52YXIgYXBwID0gbmV3IFZ1ZSh7XHJcbiAgZWw6ICcjYXBwJyxcclxuICBkYXRhOiB7XHJcbiAgICBtZXNzYWdlOiAnSGVsbG8gVnVlIScsXHJcbiAgICBzZWFyY2hNb2RlbDoge1xyXG4gICAgICBzZWFyY2hUZXh0Qm94OiBcIlwiLFxyXG4gICAgICBib29rTWFyazogZmFsc2VcclxuICAgIH0sXHJcbiAgICBib3htb2RlbDogW10sXHJcbiAgICBkZWxldGVNb2RhbE5vdGU6IHtcclxuICAgICAgaWQ6IDAsXHJcbiAgICAgIGluZGV4OiAwLFxyXG4gICAgICB0ZXh0OiBcIlwiXHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50S2V5OiAwLFxyXG5cclxuICB9LFxyXG4gIGNvbXBvbmVudHM6IHtcclxuICAgIGNvZGVNaXJyb3JDb21wb25lbnRcclxuICB9LFxyXG4gIHVwZGF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBzZWFyY2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcGFnZSA9IDE7XHJcbiAgICAgIHRoaXMubG9hZE5vdGUocGFnZSwgdHJ1ZSk7XHJcbiAgICB9LFxyXG4gICAgbG9hZE5vdGUocGFnZSwgcmVzZXQpIHtcclxuICAgICAgdmFyIHBlclBhZ2UgPSA4O1xyXG4gICAgICBsZXQgdGl0bGUgPSBcIlwiO1xyXG4gICAgICBsZXQgYm9va01hcmsgPSBcIlwiO1xyXG5cclxuICAgICAgY29uc29sZS5sb2codGhpcy5zZWFyY2hNb2RlbC5zZWFyY2hUZXh0Qm94KVxyXG4gICAgICBcclxuICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwuc2VhcmNoVGV4dEJveCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwuc2VhcmNoVGV4dEJveCAhPSBcIlwiKVxyXG4gICAgICAgIHRpdGxlID0gXCImdGl0bGU9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLnNlYXJjaFRleHRCb3g7XHJcblxyXG4gICAgICBpZiAodGhpcy5zZWFyY2hNb2RlbC5ib29rTWFyayAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwuYm9va01hcmsgIT0gZmFsc2UpXHJcbiAgICAgICAgYm9va01hcmsgPSBcIiZib29rTWFyaz1cIiArIHRoaXMuc2VhcmNoTW9kZWwuYm9va01hcms7XHJcblxyXG5cclxuICAgICAgbm90ZUpzTW9kZWwuZ2V0Tm90ZXMocGFnZSwgcGVyUGFnZSwgdGl0bGUsIGJvb2tNYXJrKVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgIGlmIChyZXNldCkge1xyXG4gICAgICAgICAgICB0aGlzLmJveG1vZGVsID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuYm94bW9kZWwgPSByZXNwb25zZS5kYXRhLm1vZGVsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tb2RlbC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuYm94bW9kZWwucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBhY3Rpb24gPSAnaW5hY3RpdmUnO1xyXG4gICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBET00gaXMgbm93IHVwZGF0ZWRcclxuICAgICAgICAgICAgLy8gYHRoaXNgIGlzIGJvdW5kIHRvIHRoZSBjdXJyZW50IGluc3RhbmNlXHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50S2V5ICs9IDE7XHJcblxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0sXHJcbiAgICBPcGVuQ2xvc2VOb3RlKGlkKSB7XHJcbiAgICAgIHZhciBoZWlndGggPSBcIjEwMHB4XCI7XHJcbiAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAkKFwiI29jLVwiICsgaWQpXHJcbiAgICAgIGNvbnNvbGUubG9nKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuY2hpbGRyZW4oXCIuY2FyZEhlaWd0aFwiKSlcclxuICAgICAgdmFyIHNlbGN0b3IgPSAkKFwiI29jLVwiICsgaWQpO1xyXG4gICAgICB2YXIgc2VsZSA9ICQoc2VsY3RvcikucGFyZW50KCkucGFyZW50KClcclxuICAgICAgdmFyIGggPSAkKHNlbGN0b3IpLmNzcyhcImhlaWdodFwiKTtcclxuICAgICAgaWYgKGggPT0gaGVpZ3RoKSB7XHJcbiAgICAgICAgJChzZWxjdG9yKS5jc3MoJ2hlaWdodCcsICdhdXRvJyk7XHJcbiAgICAgICAgJChzZWxjdG9yKS5jc3MoJ292ZXJmbG93LXknLCAnaGlkZGVuJyk7XHJcbiAgICAgICAgJChzZWxlKS5yZW1vdmVDbGFzcyhcImNvbC1sZy02XCIpXHJcbiAgICAgICAgJChzZWxlKS5hZGRDbGFzcyhcImNvbC1sZy0xMlwiKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoc2VsY3RvcikuY3NzKCdoZWlnaHQnLCBoZWlndGgpO1xyXG4gICAgICAgICQoc2VsY3RvcikuY3NzKCdvdmVyZmxvdy15JywgJ3Njcm9sbCcpO1xyXG4gICAgICAgICQoc2VsZSkucmVtb3ZlQ2xhc3MoXCJjb2wtbGctMTJcIilcclxuICAgICAgICAkKHNlbGUpLmFkZENsYXNzKFwiY29sLWxnLTZcIilcclxuICAgICAgICAvLyAkKHNlbGN0b3IpLmFuaW1hdGUoe2hlaWdodDpcIjEwMHB4XCJ9LCA0MDAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgICAvLyBBbmltYXRpb24gY29tcGxldGUuXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgb3BlbkRlbGV0ZU1vZGFsKGlkLCBpbmRleCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhpZClcclxuICAgICAgdGhpcy5kZWxldGVNb2RhbE5vdGUuaWQgPSBpZDtcclxuICAgICAgdGhpcy5kZWxldGVNb2RhbE5vdGUuaW5kZXggPSBpbmRleDtcclxuICAgICAgaW5kZXhcclxuICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJyNkZWxldGVNb2RhbCcpLm1vZGFsKCd0b2dnbGUnKTtcclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgICBkZWxldGVOb3RlKGlkLCBpbmRleCkge1xyXG4gICAgICAvLyBpZiAoY29uZmlybShcIldhbm5hIERlbGV0ZT9cIikpIHtcclxuICAgICAgbm90ZUpzTW9kZWwuZGVsZXRlTm90ZShpZClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLmJveG1vZGVsLCBpbmRleClcclxuICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI2RlbGV0ZU1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgLy9VcGRhdGUgQ29tcG9uZW50cyBhbmQgZXZlcnlUaGluZ1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudEtleSArPSAxO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAvLyB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBtb3VudGVkKCkge1xyXG4gICAgLy8gYWxlcnQoXCJtb3VudGVkXCIpXHJcbiAgICB0aGlzLmxvYWROb3RlKHBhZ2UpO1xyXG4gIH1cclxufSk7XHJcblxyXG5cclxuJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcblxyXG4gIGlmICgoJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpID4gJChkb2N1bWVudCkuaGVpZ2h0KCkgLSA1KSAmJiBhY3Rpb24gPT0gJ2luYWN0aXZlJykge1xyXG4gICAgYWN0aW9uID0gJ2FjdGl2ZSc7XHJcbiAgICAvLyAgc3RhcnQgPSBzdGFydCArIGxpbWl0O1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHBhZ2UgPSBwYWdlICsgMTtcclxuICAgICAgYXBwLmxvYWROb3RlKHBhZ2UpO1xyXG4gICAgfSwgNTAwKTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbiQoJ2JvZHknKS5vbignY2xpY2snLCAnLk9wZW5DbG9zZU5vdGUnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG59KTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gSW5pdGlhbGl6ZSBuYW1lc3BhY2UgJ3V0aWxpdGllcycgKG9yIHVzZSBleGlzdGluZyBvbmUgaWYgcHJlc2VudClcclxuICAgIHdpbmRvdy5ub3RlVXRpbGl0eUpzID0gd2luZG93Lm5vdGVVdGlsaXR5SnMgfHwge307XHJcbiAgXHJcblxyXG4gICAgdmFyIGVkaXRBcnIgPSBbXTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWlycm9yQ29kZVwiKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgbGFuZyA9ICQoJChcIi5taXJyb3JDb2RlXCIpW2ldKS5hdHRyKFwibGFuZ1wiKTtcclxuICAgICAgY29uc29sZS5sb2coXCJsYW5nID0gXCIgKyBsYW5nKTtcclxuICAgICAgdmFyIGVkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtaXJyb3JDb2RlXCIpW2ldLCB7XHJcbiAgICAgICAgbW9kZTogbGFuZyxcclxuICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcclxuICAgICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsXHJcbiAgICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSxcclxuICAgICAgICB2aWV3cG9ydE1hcmdpbjogSW5maW5pdHksXHJcbiAgICAgIH0pO1xyXG4gICAgICBlZGl0QXJyLnB1c2goZWRpdG9yKVxyXG4gICAgfVxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFNldHVwIC0gYWRkIGEgdGV4dCBpbnB1dCB0byBlYWNoIGZvb3RlciBjZWxsXHJcbiAgICAgICAgJCgnI2V4YW1wbGUgdGhlYWQgdHInKS5jbG9uZSh0cnVlKS5hcHBlbmRUbyggJyNleGFtcGxlIHRoZWFkJyApO1xyXG4gICAgICAgICQoJyNleGFtcGxlIHRoZWFkIHRyOmVxKDEpIHRoJykuZWFjaCggZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgdmFyIHRpdGxlID0gJCh0aGlzKS50ZXh0KCk7XHJcbiAgICAgICAgICAgICQodGhpcykuaHRtbCggJzxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoICcrdGl0bGUrJ1wiIC8+JyApO1xyXG4gICAgIFxyXG4gICAgICAgICAgICAkKCAnaW5wdXQnLCB0aGlzICkub24oICdrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHRhYmxlLmNvbHVtbihpKS5zZWFyY2goKSAhPT0gdGhpcy52YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29sdW1uKGkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZWFyY2goIHRoaXMudmFsdWUgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgIFxyXG4gICAgICAgIHZhciB0YWJsZSA9ICQoJyNleGFtcGxlJykuRGF0YVRhYmxlKCB7XHJcbiAgICAgICAgICAgIG9yZGVyQ2VsbHNUb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGZpeGVkSGVhZGVyOiB0cnVlXHJcbiAgICAgICAgfSApO1xyXG4gICAgfSApO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoJCkge1xuICBcInVzZSBzdHJpY3RcIjsgLy8gU3RhcnQgb2YgdXNlIHN0cmljdFxuICB2YXIgaWRjID0gMTtcbiAgJCgnYm9keScpLm9uKCdjbGljaycsICcjYWRkcHJvZ3JhbW1pbmdub3RlYm9keScsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBhbGVydChcInNcIilcbiAgICBkZWJ1Z2dlcjtcbiAgICBsZXQgaWQgPSBcImNvZGVcIiArIGlkY1xuICAgIGxldCBpZFNlbGVjdCA9IFwiY29kZVwiICsgaWRjXG5cbiAgICB2YXIgdGV4dEFyZWFCb2R5ID0gYDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIG5vdGUtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJgKyBpZCArIGBcIiByb3dzPVwiOFwiIG5hbWU9J2NvZGVbYCArIGlkYyArIGBdW2JvZHldJyBzdHlsZT1cIm1hcmdpbjogMTBweDsgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJcIiBjbGFzcz1cImNvZGUgZm9ybS1jb250cm9sXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2RpdmBcblxuICAgIHZhciByb3cgPSBgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTlcIj48aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRFbWFpbDFcIiBcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIGFyaWEtZGVzY3JpYmVkYnk9XCJlbWFpbEhlbHBcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRpdGxlXCIgbmFtZT1cImNvZGVbYCsgaWRjICsgYF1bZGVzY11cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBib3gtaWQ9XCJgKyBpZCArIGBcIiAgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC0zIHNlbGVjdGxhbmdcIj5cbiAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sXCIgbmFtZT1cImNvZGVbYCsgaWRjICsgYF1bY29kZWxhbmddXCI+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJodG1sbWl4ZWRcIj5IdG1sPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L2Nzc1wiPiBDU1M8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQvamF2YXNjcmlwdFwiPiBKYXZhU2NyaXB0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtc3FsXCI+IFNRbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWNzaGFycFwiPiBDIzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LXB5dGhvblwiPiBQeXRob248L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1qYXZhXCI+IEphdmE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1waHBcIj4gUEhQPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtYysrc3JjXCI+IEMrKzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWNzcmNcIj4gQzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWdvXCI+IEdvPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtcnNyY1wiPiBSPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhcHBsaWNhdGlvbi94LXBvd2Vyc2hlbGxcIj4gUG93ZXJTaGVsbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YFxuXG4gICAgJChcIi5ub3RlLWJvZHlcIikubGFzdCgpLmFmdGVyKHJvdyArIHRleHRBcmVhQm9keSk7XG5cbiAgICB2YXIgZWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLCB7XG4gICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSxcbiAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXG4gICAgICB2aWV3cG9ydE1hcmdpbjogSW5maW5pdHksXG4gICAgICAvLyBtb2RlOiBcImh0bWxtaXhlZFwiXG4gICAgfSk7XG4gICAgLy8gZWRpdEFyci5wdXNoKGVkaXRvcilcbiAgICBpZGMgPSBpZGMgKyAxO1xuICB9KTtcblxuICAkKCdib2R5Jykub24oJ2NoYW5nZScsICcuc2VsZWN0bGFuZycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcyA9ICQodGhpcykuYXR0cihcImJveC1pZFwiKVxuICAgIHZhciB2ID0gJCh0aGlzKS52YWwoKVxuICAgIC8vIGFsZXJ0KHMrdik7XG4gIH0pO1xuXG4gICQoXCIjc2VhcmNoQm94QnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gJChcIiNzZWFyY2hCb3hcIikudmFsKCk7XG4gICAgbG9jYXRpb24uaHJlZiA9IFwiL05vdGVzP3RpdGxlPVwiK3Jlc3VsdDtcbiAgfSk7XG5cblxuXG4gIGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoKSB7XG4gICAgJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJzaWRlYmFyLXRvZ2dsZWRcIik7XG4gICAgJChcIi5zaWRlYmFyXCIpLnRvZ2dsZUNsYXNzKFwidG9nZ2xlZFwiKTtcbiAgICBpZiAoJChcIi5zaWRlYmFyXCIpLmhhc0NsYXNzKFwidG9nZ2xlZFwiKSkge1xuICAgICAgJCgnLnNpZGViYXIgLmNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICB9O1xuICB9XG4gIHRvZ2dsZVNpZGViYXIoKTtcbiAgLy8gVG9nZ2xlIHRoZSBzaWRlIG5hdmlnYXRpb25cbiAgJChcIiNzaWRlYmFyVG9nZ2xlLCAjc2lkZWJhclRvZ2dsZVRvcFwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHRvZ2dsZVNpZGViYXIoKTtcbiAgICAvLyAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcInNpZGViYXItdG9nZ2xlZFwiKTtcbiAgICAvLyAkKFwiLnNpZGViYXJcIikudG9nZ2xlQ2xhc3MoXCJ0b2dnbGVkXCIpO1xuICAgIC8vIGlmICgkKFwiLnNpZGViYXJcIikuaGFzQ2xhc3MoXCJ0b2dnbGVkXCIpKSB7XG4gICAgLy8gICAkKCcuc2lkZWJhciAuY29sbGFwc2UnKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgIC8vIH07XG4gIH0pO1xuXG4gIC8vIENsb3NlIGFueSBvcGVuIG1lbnUgYWNjb3JkaW9ucyB3aGVuIHdpbmRvdyBpcyByZXNpemVkIGJlbG93IDc2OHB4XG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xuICAgICAgJCgnLnNpZGViYXIgLmNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBQcmV2ZW50IHRoZSBjb250ZW50IHdyYXBwZXIgZnJvbSBzY3JvbGxpbmcgd2hlbiB0aGUgZml4ZWQgc2lkZSBuYXZpZ2F0aW9uIGhvdmVyZWQgb3ZlclxuICAkKCdib2R5LmZpeGVkLW5hdiAuc2lkZWJhcicpLm9uKCdtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsIHdoZWVsJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA3NjgpIHtcbiAgICAgIHZhciBlMCA9IGUub3JpZ2luYWxFdmVudCxcbiAgICAgICAgZGVsdGEgPSBlMC53aGVlbERlbHRhIHx8IC1lMC5kZXRhaWw7XG4gICAgICB0aGlzLnNjcm9sbFRvcCArPSAoZGVsdGEgPCAwID8gMSA6IC0xKSAqIDMwO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2Nyb2xsIHRvIHRvcCBidXR0b24gYXBwZWFyXG4gICQoZG9jdW1lbnQpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbERpc3RhbmNlID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcbiAgICBpZiAoc2Nyb2xsRGlzdGFuY2UgPiAxMDApIHtcbiAgICAgICQoJy5zY3JvbGwtdG8tdG9wJykuZmFkZUluKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5zY3JvbGwtdG8tdG9wJykuZmFkZU91dCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU21vb3RoIHNjcm9sbGluZyB1c2luZyBqUXVlcnkgZWFzaW5nXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdhLnNjcm9sbC10by10b3AnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkYW5jaG9yID0gJCh0aGlzKTtcbiAgICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgc2Nyb2xsVG9wOiAoJCgkYW5jaG9yLmF0dHIoJ2hyZWYnKSkub2Zmc2V0KCkudG9wKVxuICAgIH0sIDEwMDAsICdlYXNlSW5PdXRFeHBvJyk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcblxufSkoalF1ZXJ5KTsgLy8gRW5kIG9mIHVzZSBzdHJpY3RcbiJdLCJzb3VyY2VSb290IjoiIn0=