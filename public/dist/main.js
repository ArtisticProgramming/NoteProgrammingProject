!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t,o){"use strict";o.r(t),o.d(t,"noteJsModel",function(){return n});var n={test:{name:"mostafa"},getNotes:function(e){return axios.get("/GetNotes?page="+e.page+"&perPage="+e.perPage+e.title+e.bookMark+e.noteType+e.projectName+e.technology+e.specificSubject)},deleteNote:function(e){return axios.get("/DeleteNote?id="+e)}}},function(e,t,o){"use strict";o.r(t),o.d(t,"codeMirrorComponent",function(){return n});const n=Vue.component("code-mirror",{template:"<textarea>{{body}}</textarea>",props:["body","lang","index"],methods:{methodThatForcesUpdate(){}},mounted:function(){var e=this,t=$(this.$el);CodeMirror.fromTextArea(t[0],{mode:this.lang,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0}).on("change",t=>{e.$emit("input-text-area",{index:e.index,value:t.getValue()})})},beforeDestroy:function(){let e=0;for(e=0;e<$(".CodeMirror").length;e++){var t=$(".CodeMirror")[e];void 0!==t&&(t.CodeMirror.setOption("mode","text/x-csrc"),t.CodeMirror.getWrapperElement().parentNode.removeChild(t.CodeMirror.getWrapperElement()),t.CodeMirror=null)}},destroyed:function(){}})},function(e,t,o){"use strict";o.r(t),o.d(t,"select2",function(){return n});const n=Vue.component("select2",{props:["options","value","url","multi"],data:()=>({selectValue:"1234"}),template:"<input /> ",mounted:function(){var e=this;n=$(this.$el).select2({placeholder:"Select a state",allowClear:!0,tags:"true"===e.multi?[]:void 0,maximumInputLength:30,maximumSelectionSize:1,initSelection:function(e,t){},ajax:{url:e.url,dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(console.log(),0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","true"===e.multi?[]:"").on("change",function(t){var o=$(this).select2("data");"true"===e.multi&&(o=$(this).select2("data")[0]),console.log("-----------------select 2 Data----------------------------"),console.log(o),null!=o?e.$emit("input-data",o):e.$emit("input-data",{text:"",id:""})})},watch:{value:function(e){console.log(e),""==e&&$(this.$el).select2("val","")},options:function(e){console.log(e)}},destroyed:function(){$(this.$el).off().select2("destroy")}})},function(e,t,o){"use strict";o.r(t),o.d(t,"utility",function(){return n});let n={getUrlParameter:function(e){var t,o,n=window.location.search.substring(1).split("&");for(o=0;o<n.length;o++)if((t=n[o].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}}},function(e,t,o){"use strict";o.r(t),o.d(t,"dropdowns",function(){return n});let n={enableNoteType:function(e){$("#nType").select2({initSelection:function(e,t){},ajax:{url:"/GetNoteTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","").on("change",function(t){var o=$(this).select2("data");console.log(o),void 0!==o&&(e.nodeModel.noteType.text=o.text,e.nodeModel.noteType.id=o.id)})},enableProject:function(e){$("#project").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetProjectTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){e.projectType="";var o=$(this).select2("data")[0];console.log(o),void 0!==o&&(e.nodeModel.projectType.text=o.text,e.nodeModel.projectType.id=o.id),console.log(e.projectType)})},enableGeneralSubject:function(e){$("#technology").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetTechnologies",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){var o=$(this).select2("data")[0];void 0!==o&&(e.nodeModel.technologyType.text=o.text,e.nodeModel.technologyType.id=o.id)})},enableSpecificSubject:function(e){$("#specificSubject").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetSpecificSubject",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){var o=$(this).select2("data")[0];void 0!==o&&(e.nodeModel.specificSubject.text=o.text,e.nodeModel.specificSubject.id=o.id)})}}},function(e,t,o){o(6),o(7),o(8),o(9),o(10),o(0),o(1),o(2),o(3),e.exports=o(4)},function(e,t,o){"use strict";o.r(t);o(0);var n=o(1),i=o(2);window.EnableAddNode=function(){var e=new Vue({el:"#anapp",data:{selectedProject:"",selectedSpecificSubject:"",selectedGeneralSubject:"",selectedNoteType:"",message:"Create a Note",nodeModel:{bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}]},componentKey:1},components:{codeMirrorComponent:n.codeMirrorComponent,select2:i.select2},updated:function(){},methods:{submit(){axios.post("/PostAddNote",{model:this.nodeModel}).then(e=>{this.nodeModel={bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}],componentKey:1},this.componentKey+=1,this.selectedProject="",this.selectedNoteType="",this.selectedSpecificSubject="",this.selectedGeneralSubject=""}).catch(e=>{alert(e)})},getNoteTypeSelectValue(e){this.nodeModel.noteType.text=e.text,this.nodeModel.noteType.id=e.id,this.selectedNoteType=e.text},getProjectSelectValue(t){e.nodeModel.projectType.text=t.text,e.nodeModel.projectType.id=t.id,this.selectedProject=t.text},getGeneralSubjectSelectValue(t){e.nodeModel.technologyType.text=t.text,e.nodeModel.technologyType.id=t.id,this.selectedGeneralSubject=t.text},getSpecificSubjectSelectValue(t){e.nodeModel.specificSubject.text=t.text,e.nodeModel.specificSubject.id=t.id,this.selectedSpecificSubject=t.text},updateType(e){},updateTechnology(e){},updateProjectType(e){console.log(e),this.nodeModel.projectType=e},updateCodeMirrorText(e){console.log(e),this.nodeModel.model[e.index].mainbody=e.value},add(){this.nodeModel.model.push({mainbody:"",desc:"",lang:""})}},beforeCreate(){console.log("Nothing gets called before me!")},created(){console.log("created ")},mounted(){}})}},function(e,t,o){"use strict";o.r(t);var n=o(0),i=o(1),l=o(3),c=(o(4),o(2));window.EnableVusJs=function(){console.log(n.noteJsModel.test.name);var e="inactive",t=1,o=new Vue({el:"#app",data:{noteType:{},message:"Hello Vue!",searchModel:{searchTextBox:"",bookMark:!1,noteType:"",projectName:"",technology:"",specificSubject:""},boxmodel:[],deleteModalNote:{id:0,index:0,text:""},componentKey:0},components:{codeMirrorComponent:i.codeMirrorComponent,select2:c.select2},updated:function(){},methods:{getNoteTypeSelectValue(e){this.searchModel.noteType=e.text},getProjectSelectValue(e){this.searchModel.projectName=e.text},getGeneralSubjectSelectValue(e){this.searchModel.technology=e.text},getSpecificSubjectSelectValue(e){this.searchModel.specificSubject=e.text},search:function(){t=1,this.loadNote(t,!0)},loadNote(t,o){console.log("LLLLLLLLLLLLLLLLOOODDD");var i={page:t,perPage:8,title:"",bookMark:"",noteType:"",projectName:"",technology:"",specificSubject:""};console.log(this.searchModel.searchTextBox),void 0!==this.searchModel.searchTextBox&&""!=this.searchModel.searchTextBox&&(i.title="&title="+this.searchModel.searchTextBox),void 0!==this.searchModel.bookMark&&0!=this.searchModel.bookMark&&(i.bookMark="&bookMark="+this.searchModel.bookMark),void 0!==this.searchModel.noteType&&0!=this.searchModel.noteType&&(i.noteType="&noteType="+this.searchModel.noteType),void 0!==this.searchModel.projectName&&0!=this.searchModel.projectName&&(i.projectName="&projectName="+this.searchModel.projectName),void 0!==this.searchModel.technology&&0!=this.searchModel.technology&&(i.technology="&technology="+this.searchModel.technology),void 0!==this.searchModel.specificSubject&&0!=this.searchModel.specificSubject&&(i.specificSubject="&specificSubject="+this.searchModel.specificSubject),n.noteJsModel.getNotes(i).then(t=>{o?(this.boxmodel=[],this.boxmodel=t.data.model):t.data.model.forEach(e=>{this.boxmodel.push(e)}),e="inactive",this.$nextTick(function(){this.componentKey+=1})})},OpenCloseNote(e){$("#oc-"+e),console.log($(this).parent().parent().children(".cardHeigth"));var t=$("#oc-"+e),o=$(t).parent().parent();return"100px"==$(t).css("height")?($(t).css("height","auto"),$(t).css("overflow-y","hidden"),$(o).removeClass("col-lg-6"),$(o).addClass("col-lg-12")):($(t).css("height","100px"),$(t).css("overflow-y","scroll"),$(o).removeClass("col-lg-12"),$(o).addClass("col-lg-6")),!1},openDeleteModal(e,t){console.log(e),this.deleteModalNote.id=e,this.deleteModalNote.index=t,this.$nextTick(function(){$("#deleteModal").modal("toggle")})},deleteNote(e,t){n.noteJsModel.deleteNote(e).then(e=>{this.$delete(this.boxmodel,t),this.$nextTick(function(){$("#deleteModal").modal("hide"),this.componentKey+=1})})}},created:function(){},mounted(){console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),console.log("page=>"),console.log(l.utility.getUrlParameter("project")),this.loadNote(t)}});$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-5&&"inactive"==e&&(e="active",setTimeout(function(){t+=1,o.loadNote(t)},500))}),$(document).ready(function(){$("#searchTxt").focus()}),$("body").on("click",".OpenCloseNote",function(){})}},function(e,t){!function(){window.noteUtilityJs=window.noteUtilityJs||{};var e=[];for(i=0;i<document.getElementsByClassName("mirrorCode").length;i++){var t=$($(".mirrorCode")[i]).attr("lang");console.log("lang = "+t);var o=CodeMirror.fromTextArea(document.getElementsByClassName("mirrorCode")[i],{mode:t,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});e.push(o)}$(document).ready(function(){$("#example thead tr").clone(!0).appendTo("#example thead"),$("#example thead tr:eq(1) th").each(function(t){var o=$(this).text();$(this).html('<input type="text" placeholder="Search '+o+'" />'),$("input",this).on("keyup change",function(){e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})});var e=$("#example").DataTable({orderCellsTop:!0,fixedHeader:!0})})}()},function(e,t){!function(e){"use strict";var t=1;function o(){e("body").toggleClass("sidebar-toggled"),e(".sidebar").toggleClass("toggled"),e(".sidebar").hasClass("toggled")&&e(".sidebar .collapse").collapse("hide")}e("body").on("click","#addprogrammingnotebody",function(){let o="code"+t;var n='<div class="form-group note-body">\n                          <textarea id="'+o+'" rows="8" name=\'code['+t+'][body]\' style="margin: 10px; "\n                          value="" class="code form-control"></textarea>\n                      </div',i='<div class="row">\n            <div class="form-group col-md-9"><input id="exampleInputEmail1" \n                type="text" aria-describedby="emailHelp"\n                    placeholder="Title" name="code['+t+'][desc]" class="form-control"></div>\n            <div box-id="'+o+'"  class="form-group col-md-3 selectlang">\n            <select class="form-control form-control" name="code['+t+'][codelang]">\n                    <option value="htmlmixed">Html</option>\n                    <option value="text/css"> CSS</option>\n                    <option value="text/javascript"> JavaScript</option>\n                    <option value="text/x-sql"> SQl</option>\n                    <option value="text/x-csharp"> C#</option>\n                    <option value="text/x-python"> Python</option>\n                    <option value="text/x-java"> Java</option>\n                    <option value="text/x-php"> PHP</option>\n                    <option value="text/x-c++src"> C++</option>\n                    <option value="text/x-csrc"> C</option>\n                    <option value="text/x-go"> Go</option>\n                    <option value="text/x-rsrc"> R</option>\n                    <option value="application/x-powershell"> PowerShell</option>\n                </select></div>\n            </div>';e(".note-body").last().after(i+n);CodeMirror.fromTextArea(document.getElementById(o),{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});t+=1}),e("body").on("change",".selectlang",function(){e(this).attr("box-id"),e(this).val()}),e("#searchBoxBtn").click(function(){var t=e("#searchBox").val();location.href="/Notes?title="+t}),o(),e("#sidebarToggle, #sidebarToggleTop").on("click",function(e){o()}),e(window).resize(function(){e(window).width()<768&&e(".sidebar .collapse").collapse("hide")}),e("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(t){if(e(window).width()>768){var o=t.originalEvent,n=o.wheelDelta||-o.detail;this.scrollTop+=30*(n<0?1:-1),t.preventDefault()}}),e(document).on("scroll",function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e(document).on("click","a.scroll-to-top",function(t){var o=e(this);e("html, body").stop().animate({scrollTop:e(o.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()})}(jQuery)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9tb2RlbC9ub3RlSnNNb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvc2VsZWN0Mi5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbW1vbi91dGlsaXR5SnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9jb21tb24vZHJvcGRvd25zSnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9BZGROb3RlSnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9Ob3Rlc0pzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvTm90ZVV0aWxpdHlKcy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3NiLWFkbWluLTIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwibm90ZUpzTW9kZWwiLCJ0ZXN0IiwiZ2V0Tm90ZXMiLCJwYXJhbSIsImF4aW9zIiwicGFnZSIsInBlclBhZ2UiLCJ0aXRsZSIsImJvb2tNYXJrIiwibm90ZVR5cGUiLCJwcm9qZWN0TmFtZSIsInRlY2hub2xvZ3kiLCJzcGVjaWZpY1N1YmplY3QiLCJkZWxldGVOb3RlIiwiaWQiLCJjb2RlTWlycm9yQ29tcG9uZW50IiwiVnVlIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJwcm9wcyIsIm1ldGhvZHMiLCJbb2JqZWN0IE9iamVjdF0iLCJtb3VudGVkIiwidm0iLCJ0aGlzIiwiZWxlbWVudCIsIiQiLCIkZWwiLCJDb2RlTWlycm9yIiwiZnJvbVRleHRBcmVhIiwibGFuZyIsImxpbmVOdW1iZXJzIiwic3R5bGVBY3RpdmVMaW5lIiwibWF0Y2hCcmFja2V0cyIsInZpZXdwb3J0TWFyZ2luIiwiSW5maW5pdHkiLCJvbiIsImVkaXRvciIsIiRlbWl0IiwiaW5kZXgiLCJnZXRWYWx1ZSIsImJlZm9yZURlc3Ryb3kiLCJsZW5ndGgiLCJjbSIsInVuZGVmaW5lZCIsInNldE9wdGlvbiIsImdldFdyYXBwZXJFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZGVzdHJveWVkIiwic2VsZWN0MiIsImRhdGEiLCJzZWxlY3RWYWx1ZSIsInBsYWNlaG9sZGVyIiwiYWxsb3dDbGVhciIsInRhZ3MiLCJtdWx0aSIsIm1heGltdW1JbnB1dExlbmd0aCIsIm1heGltdW1TZWxlY3Rpb25TaXplIiwiaW5pdFNlbGVjdGlvbiIsImNhbGxiYWNrIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwicXVpZXRNaWxsaXMiLCJ0ZXJtIiwicXVlcnkiLCJyZXN1bHRzIiwibW9kZWwiLCJjcmVhdGVTZWFyY2hDaG9pY2UiLCJjb25zb2xlIiwibG9nIiwiZmlsdGVyIiwidGV4dCIsImxvY2FsZUNvbXBhcmUiLCJlIiwid2F0Y2giLCJvcHRpb25zIiwib2ZmIiwidXRpbGl0eSIsImdldFVybFBhcmFtZXRlciIsInNQYXJhbSIsInNQYXJhbWV0ZXJOYW1lIiwic1VSTFZhcmlhYmxlcyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJkcm9wZG93bnMiLCJlbmFibGVOb3RlVHlwZSIsImFwcCIsIm5vZGVNb2RlbCIsImVuYWJsZVByb2plY3QiLCJtdWx0aXBsZSIsInByb2plY3RUeXBlIiwiZW5hYmxlR2VuZXJhbFN1YmplY3QiLCJ0ZWNobm9sb2d5VHlwZSIsImVuYWJsZVNwZWNpZmljU3ViamVjdCIsIkVuYWJsZUFkZE5vZGUiLCJlbCIsInNlbGVjdGVkUHJvamVjdCIsInNlbGVjdGVkU3BlY2lmaWNTdWJqZWN0Iiwic2VsZWN0ZWRHZW5lcmFsU3ViamVjdCIsInNlbGVjdGVkTm90ZVR5cGUiLCJtZXNzYWdlIiwibWFpbmJvZHkiLCJkZXNjIiwiY29tcG9uZW50S2V5IiwiY29tcG9uZW50cyIsIl9jb21wb25lbnRzX2NvZGVNaXJyb3JDb21wb25lbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9jb21wb25lbnRzX3NlbGVjdDJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsInVwZGF0ZWQiLCJwb3N0IiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJlcnJvciIsImFsZXJ0IiwidmFyaWFibGUiLCJpdGVtIiwicHVzaCIsIl9tb2RlbF9ub3RlSnNNb2RlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2NvbW1vbl91dGlsaXR5SnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9jb21wb25lbnRzX3NlbGVjdDJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIkVuYWJsZVZ1c0pzIiwiYWN0aW9uIiwic2VhcmNoTW9kZWwiLCJzZWFyY2hUZXh0Qm94IiwiYm94bW9kZWwiLCJkZWxldGVNb2RhbE5vdGUiLCJsb2FkTm90ZSIsInJlc2V0IiwiZm9yRWFjaCIsIiRuZXh0VGljayIsInBhcmVudCIsImNoaWxkcmVuIiwic2VsY3RvciIsInNlbGUiLCJjc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwibW9kYWwiLCIkZGVsZXRlIiwiY3JlYXRlZCIsInNjcm9sbCIsInNjcm9sbFRvcCIsImhlaWdodCIsImRvY3VtZW50Iiwic2V0VGltZW91dCIsInJlYWR5IiwiZm9jdXMiLCJub3RlVXRpbGl0eUpzIiwiZWRpdEFyciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhdHRyIiwiY2xvbmUiLCJhcHBlbmRUbyIsImVhY2giLCJodG1sIiwidGFibGUiLCJjb2x1bW4iLCJkcmF3IiwiRGF0YVRhYmxlIiwib3JkZXJDZWxsc1RvcCIsImZpeGVkSGVhZGVyIiwiaWRjIiwidG9nZ2xlU2lkZWJhciIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJjb2xsYXBzZSIsInRleHRBcmVhQm9keSIsInJvdyIsImxhc3QiLCJhZnRlciIsImdldEVsZW1lbnRCeUlkIiwidmFsIiwiY2xpY2siLCJyZXN1bHQiLCJocmVmIiwicmVzaXplIiwid2lkdGgiLCJlMCIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YSIsIndoZWVsRGVsdGEiLCJkZXRhaWwiLCJwcmV2ZW50RGVmYXVsdCIsImZhZGVJbiIsImZhZGVPdXQiLCIkYW5jaG9yIiwic3RvcCIsImFuaW1hdGUiLCJvZmZzZXQiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtB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RUFBQUcsYUFBQUgsRUFBQUksT0FDQW5LLEtBQUEySCxXQUFBLElBQUFzQyxFQUFBLFFBQ0E5RyxFQUFBaUgsb0JBS0FsSyxFQUFBMkgsVUFBQWpILEdBQUEsb0JBQ0FWLEVBQUFGLE1BQUEySCxZQUNBLElBQ0F6SCxFQUFBLGtCQUFBbUssU0FFQW5LLEVBQUEsa0JBQUFvSyxZQUtBcEssRUFBQTJILFVBQUFqSCxHQUFBLG1DQUFBdUMsR0FDQSxJQUFBb0gsRUFBQXJLLEVBQUFGLE1BQ0FFLEVBQUEsY0FBQXNLLE9BQUFDLFFBQUEsQ0FDQTlDLFVBQUF6SCxFQUFBcUssRUFBQW5DLEtBQUEsU0FBQXNDLFNBQUEsS0FDSyxxQkFDTHZILEVBQUFpSCxtQkFqSEEsQ0FvSENPIiwiZmlsZSI6ImRpc3QvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsInZhciBub3RlSnNNb2RlbCA9IHtcclxuICAgIHRlc3Q6IHtcclxuICAgICAgICBuYW1lOiBcIm1vc3RhZmFcIlxyXG4gICAgfSxcclxuICAgIGdldE5vdGVzOiBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvR2V0Tm90ZXM/cGFnZT0nICtwYXJhbS5wYWdlICsgXCImcGVyUGFnZT1cIlxyXG4gICAgICAgICArIHBhcmFtLnBlclBhZ2UgXHJcbiAgICAgICAgICsgcGFyYW0udGl0bGUgXHJcbiAgICAgICAgICsgcGFyYW0uYm9va01hcmsgXHJcbiAgICAgICAgICsgcGFyYW0ubm90ZVR5cGVcclxuICAgICAgICAgKyBwYXJhbS5wcm9qZWN0TmFtZVxyXG4gICAgICAgICArIHBhcmFtLnRlY2hub2xvZ3lcclxuICAgICAgICAgKyBwYXJhbS5zcGVjaWZpY1N1YmplY3RcclxuICAgICAgICAgKVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZU5vdGU6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9EZWxldGVOb3RlP2lkPScgKyBpZClcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IG5vdGVKc01vZGVsIH07IiwiXHJcbmV4cG9ydCBjb25zdCBjb2RlTWlycm9yQ29tcG9uZW50ID1WdWUuY29tcG9uZW50KCdjb2RlLW1pcnJvcicsIHtcclxuICB0ZW1wbGF0ZTogJzx0ZXh0YXJlYT57e2JvZHl9fTwvdGV4dGFyZWE+JyxcclxuICBwcm9wczogWydib2R5JywgXCJsYW5nXCIsXCJpbmRleFwiXSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBtZXRob2RUaGF0Rm9yY2VzVXBkYXRlKCkge1xyXG4gICAgICAvLyAuLi5cclxuICAgICAgLy8gTm90aWNlIHdlIGhhdmUgdG8gdXNlIGEgJCBoZXJlXHJcbiAgICAgIC8vIC4uLlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHZtPSB0aGlzO1xyXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5sYW5nKVxyXG4gICAgdmFyIGVsZW1lbnQgPSAkKHRoaXMuJGVsKVxyXG4gICAgdmFyIGNvZGUgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShlbGVtZW50WzBdLCB7XHJcbiAgICAgIG1vZGU6IHRoaXMubGFuZyxcclxuICAgICAgbGluZU51bWJlcnM6IHRydWUsXHJcbiAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSxcclxuICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSxcclxuICAgICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LFxyXG4gICAgfSkub24oJ2NoYW5nZScsIGVkaXRvciA9PiB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGVkaXRvci5nZXRWYWx1ZSgpKTtcclxuICAgICAgdm0uJGVtaXQoXCJpbnB1dC10ZXh0LWFyZWFcIiwge1wiaW5kZXhcIjp2bS5pbmRleCxcInZhbHVlXCI6ZWRpdG9yLmdldFZhbHVlKCl9KTtcclxuICAgIH0pO1xyXG5cclxuICB9LFxyXG4gIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGNtKVxyXG4gICAgbGV0IGk9MDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCAkKCcuQ29kZU1pcnJvcicpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBjbSA9ICQoJy5Db2RlTWlycm9yJylbaV07XHJcbiAgICAgIGlmIChjbSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgY20uQ29kZU1pcnJvci5zZXRPcHRpb24oXCJtb2RlXCIsIFwidGV4dC94LWNzcmNcIik7XHJcbiAgICAgICAgY20uQ29kZU1pcnJvci5nZXRXcmFwcGVyRWxlbWVudCgpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY20uQ29kZU1pcnJvci5nZXRXcmFwcGVyRWxlbWVudCgpKTtcclxuICAgICAgICBjbS5Db2RlTWlycm9yID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH1cclxufSk7XHJcbiIsImV4cG9ydCBjb25zdCBzZWxlY3QyID0gVnVlLmNvbXBvbmVudCgnc2VsZWN0MicsIHtcclxuICBwcm9wczogWydvcHRpb25zJywgJ3ZhbHVlJywgJ3VybCcsICdtdWx0aSddLFxyXG4gIGRhdGEoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzZWxlY3RWYWx1ZTogJzEyMzQnLFxyXG4gICAgfTtcclxuICB9LFxyXG4gIFxyXG4gIHRlbXBsYXRlOiBgPGlucHV0IC8+IGAsXHJcblxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgdm0gPSB0aGlzXHJcbiAgICBzZWxlY3QyID0gJCh0aGlzLiRlbCkuc2VsZWN0Mih7XHJcbiAgICAgIHBsYWNlaG9sZGVyOiBcIlNlbGVjdCBhIHN0YXRlXCIsXHJcbiAgICAgIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICB0YWdzOiB2bS5tdWx0aT09PVwidHJ1ZVwiID8gW106ICB1bmRlZmluZWQsXHJcbiAgICAgICBtYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgICAgbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgIC8vIHZhciBkYXRhID0geyBpZDogMSwgdGV4dDogJ2luaXRTZWxlY3Rpb24gdGVzdCcgfTtcclxuICAgICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFwcC5wcm9qZWN0VHlwZSlcclxuICAgICAgfSxcclxuICAgICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgIC8vbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgICAgLy8gbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgICB1cmw6IHZtLnVybCxcclxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgIHF1aWV0TWlsbGlzOiAxMDAsXHJcbiAgICAgICAgZGF0YTogZnVuY3Rpb24gKHRlcm0sIHBhZ2UpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHF1ZXJ5OiB0ZXJtLCAvLyBzZWFyY2ggdGVybVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYWdlKSB7IC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyLlxyXG4gICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHVzaW5nIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9ucyB3ZSBkbyBub3QgbmVlZCB0byBhbHRlciB0aGUgcmVtb3RlIEpTT04gZGF0YVxyXG4gICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gY2FjaGU6IHRydWVcclxuICAgICAgfSxcclxuICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBmdW5jdGlvbiAodGVybSwgZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKClcclxuICAgICAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5sb2NhbGVDb21wYXJlKHRlcm0pID09PSAwO1xyXG4gICAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAvL211bHRpcGxlOiB0cnVlLFxyXG4gICAgfSkuc2VsZWN0MigndmFsJywgIHZtLm11bHRpPT09XCJ0cnVlXCIgPyBbXTogICcnKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpO1xyXG4gICAgICBpZiAodm0ubXVsdGk9PT1cInRydWVcIilcclxuICAgICAge1xyXG4gICAgICAgIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKVswXTtcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tc2VsZWN0IDIgRGF0YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIilcclxuICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCAmJiBkYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgdm0uJGVtaXQoXCJpbnB1dC1kYXRhXCIsIGRhdGEpO1xyXG4gICAgICAgIC8vICAgYXBwLm5vZGVNb2RlbC5ub3RlVHlwZS50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgIC8vICAgYXBwLm5vZGVNb2RlbC5ub3RlVHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICB2bS4kZW1pdChcImlucHV0LWRhdGFcIiwge3RleHQ6XCJcIixpZDpcIlwifSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KVxyXG5cclxuICBcclxuXHJcbiAgXHJcbiAgfSxcclxuICB3YXRjaDoge1xyXG4gICAgdmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyh2YWx1ZSlcclxuICAgICAgaWYgKHZhbHVlID09IFwiXCIpIHtcclxuICAgICAgICAkKHRoaXMuJGVsKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgb3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgY29uc29sZS5sb2cob3B0aW9ucylcclxuICAgIH1cclxuICB9LFxyXG4gIGRlc3Ryb3llZDogZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzLiRlbCkub2ZmKCkuc2VsZWN0MignZGVzdHJveScpXHJcbiAgfVxyXG59KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyBleHBvcnQgY29uc3Qgc2VsZWN0aXplID0gVnVlLmNvbXBvbmVudCgnc2VsZWN0aXplJywge1xyXG4vLyAgICAgcHJvcHM6IFsnb3B0aW9ucycsICd2YWx1ZSddLFxyXG4vLyAgICAgdGVtcGxhdGU6IGAgIFxyXG4vLyAgICAgPHNlbGVjdD5cclxuLy8gICAgIDxzbG90Pjwvc2xvdD5cclxuLy8gICAgIDwvc2VsZWN0PmAsXHJcbi8vICAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgZGVidWdnZXJcclxuLy8gICAgICAgICB2YXIgdm0gPSB0aGlzXHJcbi8vICAgICAgICAgJCh0aGlzLiRlbCkuc2VsZWN0aXplKHtcclxuLy8gICAgICAgICAgICAgbWF4SXRlbXM6IDQsXHJcbi8vICAgICAgICAgICAgIGRlbGltaXRlcjogJywnLFxyXG4vLyAgICAgICAgICAgICBwZXJzaXN0OiBmYWxzZSxcclxuLy8gICAgICAgICAgICAgLy8gIG9wdGlvbnM6IFtcclxuLy8gICAgICAgICAgICAgLy8gICAgIHtlbWFpbDogJ2JyaWFuQHRoaXJkcm91dGUuY29tJywgdGV4dDogJ0JyaWFuIFJlYXZpcyd9LFxyXG4vLyAgICAgICAgICAgICAvLyAgICAge2VtYWlsOiAnbmlrb2xhQHRlc2xhLmNvbScsIHRleHQ6ICdOaWtvbGEgVGVzbGEnfSxcclxuLy8gICAgICAgICAgICAgLy8gXSxcclxuLy8gICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoaW5wdXQpIHtcclxuLy8gICAgICAgICAgICAgICByZXR1cm4ge1xyXG4vLyAgICAgICAgICAgICAgICAgdmFsdWU6IGlucHV0LFxyXG4vLyAgICAgICAgICAgICAgICAgdGV4dDogaW5wdXRcclxuLy8gICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgIH0pLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7ICAgXHJcbi8vICAgICAgICAgICAgIGFsZXJ0KFwic2Rmc2RcIikgXHJcbi8vICAgICAgICAgICAvLyAkKCcjbXlTZWxlY3QnKS5hdHRyKCdzaXplJywnMScpO1xyXG4vLyAgICAgICAgICAgLy8gJCgnI215U2VsZWN0JykudHJpZ2dlcignYmx1cicpO1xyXG4vLyAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgIC8vICAgJChzeikub24oJ2NoYW5nZScsZnVuY3Rpb24oKXsgICBcclxuLy8gICAgICAgICAvLyAgICAgICBhbGVydChcInNkZnNkXCIpIFxyXG4vLyAgICAgICAgIC8vICAgICAvLyAkKCcjbXlTZWxlY3QnKS5hdHRyKCdzaXplJywnMScpO1xyXG4vLyAgICAgICAgIC8vICAgICAvLyAkKCcjbXlTZWxlY3QnKS50cmlnZ2VyKCdibHVyJyk7XHJcbi8vICAgICAgICAgLy8gICAgICB9KTtcclxuLy8gICAgICAgICAgICAgLy8gaW5pdCBzZWxlY3QyXHJcbi8vICAgICAgICAgICAgIC8vIC5zZWxlY3QyKHsgXHJcbi8vICAgICAgICAgICAgIC8vICAgICBkYXRhOiB0aGlzLm9wdGlvbnMsXHJcbi8vICAgICAgICAgICAgIC8vICAgICAgdGhlbWU6IFwiYm9vdHN0cmFwNFwiICxtdWx0aXBsZTogdHJ1ZSx9KVxyXG4vLyAgICAgICAgICAgICAvLyAudmFsKHRoaXMudmFsdWUpXHJcbi8vICAgICAgICAgICAgIC8vIC50cmlnZ2VyKCdjaGFuZ2UnKVxyXG4vLyAgICAgICAgICAgICAvLyAvLyBlbWl0IGV2ZW50IG9uIGNoYW5nZS5cclxuLy8gICAgICAgICAgICAgLy8gLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgIC8vICAgICB2bS4kZW1pdCgnaW5wdXQnLCB0aGlzLnZhbHVlKVxyXG4vLyAgICAgICAgICAgICAvLyB9KVxyXG4vLyAgICAgfSxcclxuLy8gICAgIHdhdGNoOiB7XHJcbi8vICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNmZGRzZlwiKVxyXG4vLyAgICAgICAgICAgICAvLyB1cGRhdGUgdmFsdWVcclxuLy8gICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJIZWxsb1wiKVxyXG4vLyAgICAgICAgICAgICAvLyAkKHRoaXMuJGVsKVxyXG4vLyAgICAgICAgICAgICAvLyAgICAgLnZhbCh2YWx1ZSlcclxuLy8gICAgICAgICAgICAgLy8gICAgIC50cmlnZ2VyKCdjaGFuZ2UnKVxyXG4vLyAgICAgICAgIH0sXHJcbi8vICAgICAgICAgb3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuLy8gICAgICAgICAgICAgLy8gdXBkYXRlIG9wdGlvbnNcclxuLy8gICAgICAgICAgICAgLy8gJCh0aGlzLiRlbCkuZW1wdHkoKS5zZWxlY3QyKHsgZGF0YTogb3B0aW9ucyB9KVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0sXHJcbi8vICAgICBkZXN0cm95ZWQ6IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAvLyAkKHRoaXMuJGVsKS5vZmYoKS5zZWxlY3QyKCdkZXN0cm95JylcclxuLy8gICAgIH1cclxuLy8gfSlcclxuIiwibGV0IHV0aWxpdHkgPSB7XHJcbiAgICBnZXRVcmxQYXJhbWV0ZXIgOiBmdW5jdGlvbiBnZXRVcmxQYXJhbWV0ZXIoc1BhcmFtKSB7XHJcbiAgICAgICAgdmFyIHNQYWdlVVJMID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXHJcbiAgICAgICAgICAgIHNVUkxWYXJpYWJsZXMgPSBzUGFnZVVSTC5zcGxpdCgnJicpLFxyXG4gICAgICAgICAgICBzUGFyYW1ldGVyTmFtZSxcclxuICAgICAgICAgICAgaTtcclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNVUkxWYXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc1BhcmFtZXRlck5hbWVbMF0gPT09IHNQYXJhbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNQYXJhbWV0ZXJOYW1lWzFdID09PSB1bmRlZmluZWQgPyB0cnVlIDogZGVjb2RlVVJJQ29tcG9uZW50KHNQYXJhbWV0ZXJOYW1lWzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgeyB1dGlsaXR5IH07IiwibGV0IGRyb3Bkb3ducyA9IHtcclxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tTm90ZVR5cGUtLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGVuYWJsZU5vdGVUeXBlIDogZnVuY3Rpb24gKGFwcCkge1xyXG4gICAgICAgICQoXCIjblR5cGVcIikuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgIC8vIHRhZ3M6IFtdLFxyXG4gICAgICAgICAgICAvLyBhbGxvd0NsZWFyOiB0cnVlLFxyXG4gICAgICAgICAgICBpbml0U2VsZWN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAgICAgICAgICAgLy8gY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAgICAgLy8gYXBwLnByb2plY3RUeXBlID0gZGF0YTtcclxuICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhcHAucHJvamVjdFR5cGUpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgICAgICAgICAvL21heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgICAgICAgICAgIC8vIG1heGltdW1TZWxlY3Rpb25TaXplOiAxLFxyXG4gICAgICAgICAgICBhamF4OiB7IC8vIGluc3RlYWQgb2Ygd3JpdGluZyB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB0aGUgcmVxdWVzdCB3ZSB1c2UgU2VsZWN0MidzIGNvbnZlbmllbnQgaGVscGVyXHJcbiAgICAgICAgICAgICAgdXJsOiBcIi9HZXROb3RlVHlwZXNcIixcclxuICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgIHF1aWV0TWlsbGlzOiAxMDAsXHJcbiAgICAgICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHRlcm0sIHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB0ZXJtLCAvLyBzZWFyY2ggdGVybVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHJlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYWdlKSB7IC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyLlxyXG4gICAgICAgICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHVzaW5nIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9ucyB3ZSBkbyBub3QgbmVlZCB0byBhbHRlciB0aGUgcmVtb3RlIEpTT04gZGF0YVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgLy8gY2FjaGU6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBmdW5jdGlvbiAodGVybSwgZGF0YSkge1xyXG4gICAgICAgICAgICAgIGlmICgkKGRhdGEpLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICAgICAgICAgICAgfSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBpZDogXCIkKk5ld1RhZyokXCIsIHRleHQ6IHRlcm0gfTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgICB9KS5zZWxlY3QyKCd2YWwnLCAnJykub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICAgICAgLy8gYWxlcnQoXCJlbmFibGVOb3RlVHlwZVwiKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgIGFwcC5ub2RlTW9kZWwubm90ZVR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICAgICAgICBhcHAubm9kZU1vZGVsLm5vdGVUeXBlLmlkID0gZGF0YS5pZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Qcm9qZWN0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgZW5hYmxlUHJvamVjdDpmdW5jdGlvbihhcHApe1xyXG4gICAgICAkKFwiI3Byb2plY3RcIikuc2VsZWN0Mih7XHJcbiAgICAgICAgdGFnczogW10sXHJcbiAgICAgICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgICAgICBpbml0U2VsZWN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgIC8vIHZhciBkYXRhID0geyBpZDogMSwgdGV4dDogJ2luaXRTZWxlY3Rpb24gdGVzdCcgfTtcclxuICAgICAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgLy8gYXBwLnByb2plY3RUeXBlID0gZGF0YTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFwcC5wcm9qZWN0VHlwZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgICAgIG1heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgICAgICAgbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICAgICAgYWpheDogeyAvLyBpbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHJlcXVlc3Qgd2UgdXNlIFNlbGVjdDIncyBjb252ZW5pZW50IGhlbHBlclxyXG4gICAgICAgICAgdXJsOiBcIi9HZXRQcm9qZWN0VHlwZXNcIixcclxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICBxdWlldE1pbGxpczogMTAwLFxyXG4gICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHRlcm0sIHBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBxdWVyeTogdGVybSwgLy8gc2VhcmNoIHRlcm1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFnZSkgeyAvLyBwYXJzZSB0aGUgcmVzdWx0cyBpbnRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgU2VsZWN0Mi5cclxuICAgICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHVzaW5nIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9ucyB3ZSBkbyBub3QgbmVlZCB0byBhbHRlciB0aGUgcmVtb3RlIEpTT04gZGF0YVxyXG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgLy8gY2FjaGU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZVNlYXJjaENob2ljZTogZnVuY3Rpb24gKHRlcm0sIGRhdGEpIHtcclxuICAgICAgICAgIGlmICgkKGRhdGEpLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHQubG9jYWxlQ29tcGFyZSh0ZXJtKSA9PT0gMDtcclxuICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBpZDogXCIkKk5ld1RhZyokXCIsIHRleHQ6IHRlcm0gfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgICB9KS5zZWxlY3QyKCd2YWwnLCBbXSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBhcHAucHJvamVjdFR5cGUgPSBcIlwiO1xyXG4gICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZWxlY3QyKCdkYXRhJylbMF07XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBhcHAubm9kZU1vZGVsLnByb2plY3RUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgICBhcHAubm9kZU1vZGVsLnByb2plY3RUeXBlLmlkID0gZGF0YS5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coYXBwLnByb2plY3RUeXBlKVxyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1HZW5lcmFsU3ViamVjdC0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBlbmFibGVHZW5lcmFsU3ViamVjdDpmdW5jdGlvbihhcHApe1xyXG4gICAgICAkKFwiI3RlY2hub2xvZ3lcIikuc2VsZWN0Mih7XHJcbiAgICAgICAgdGFnczogW10sXHJcbiAgICAgICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgICAgICBpbml0U2VsZWN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgIC8vIHZhciBkYXRhID0geyBpZDogMSwgdGV4dDogJ2luaXRTZWxlY3Rpb24gdGVzdCcgfTtcclxuICAgICAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgLy8gYXBwLnByb2plY3RUeXBlID0gZGF0YTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgICAgIG1heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgICAgICAgbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICAgICAgYWpheDogeyAvLyBpbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHJlcXVlc3Qgd2UgdXNlIFNlbGVjdDIncyBjb252ZW5pZW50IGhlbHBlclxyXG4gICAgICAgICAgdXJsOiBcIi9HZXRUZWNobm9sb2dpZXNcIixcclxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICBxdWlldE1pbGxpczogMTAwLFxyXG4gICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHRlcm0sIHBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBxdWVyeTogdGVybSwgLy8gc2VhcmNoIHRlcm1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFnZSkgeyAvLyBwYXJzZSB0aGUgcmVzdWx0cyBpbnRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgU2VsZWN0Mi5cclxuICAgICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHVzaW5nIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9ucyB3ZSBkbyBub3QgbmVlZCB0byBhbHRlciB0aGUgcmVtb3RlIEpTT04gZGF0YVxyXG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgLy8gY2FjaGU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZVNlYXJjaENob2ljZTogZnVuY3Rpb24gKHRlcm0sIGRhdGEpIHtcclxuICAgICAgICAgIGlmICgkKGRhdGEpLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHQubG9jYWxlQ29tcGFyZSh0ZXJtKSA9PT0gMDtcclxuICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBpZDogXCIkKk5ld1RhZyokXCIsIHRleHQ6IHRlcm0gfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgICB9KS5zZWxlY3QyKCd2YWwnLCBbXSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgIFxyXG4gICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZWxlY3QyKCdkYXRhJylbMF07XHJcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgYXBwLm5vZGVNb2RlbC50ZWNobm9sb2d5VHlwZS50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgICAgYXBwLm5vZGVNb2RlbC50ZWNobm9sb2d5VHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgIH0pO1xyXG4gICAgXHJcbiAgICB9LFxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVNwZWNpZmljU3ViamVjdC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgZW5hYmxlU3BlY2lmaWNTdWJqZWN0OmZ1bmN0aW9uKGFwcCl7XHJcbiAgICAgICQoXCIjc3BlY2lmaWNTdWJqZWN0XCIpLnNlbGVjdDIoe1xyXG4gICAgICAgIHRhZ3M6IFtdLFxyXG4gICAgICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAvLyB2YXIgZGF0YSA9IHsgaWQ6IDEsIHRleHQ6ICdpbml0U2VsZWN0aW9uIHRlc3QnIH07XHJcbiAgICAgICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgIC8vIGFwcC5wcm9qZWN0VHlwZSA9IGRhdGE7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgICBtYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgICAgIG1heGltdW1TZWxlY3Rpb25TaXplOiAxLFxyXG4gICAgICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgICAgIHVybDogXCIvR2V0U3BlY2lmaWNTdWJqZWN0XCIsXHJcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uICh0ZXJtLCBwYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGFcclxuICAgICAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8vIGNhY2hlOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgICAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICAgICAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgfSkuc2VsZWN0MigndmFsJywgW10pLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIFxyXG4gICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZWxlY3QyKCdkYXRhJylbMF07XHJcbiAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgYXBwLm5vZGVNb2RlbC5zcGVjaWZpY1N1YmplY3QudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICAgIGFwcC5ub2RlTW9kZWwuc3BlY2lmaWNTdWJqZWN0LmlkID0gZGF0YS5pZDtcclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxufVxyXG5leHBvcnQgeyBkcm9wZG93bnMgfTsiLCJcclxuaW1wb3J0IHsgbm90ZUpzTW9kZWwgfSBmcm9tIFwiLi9tb2RlbC9ub3RlSnNNb2RlbFwiXHJcbmltcG9ydCB7IGNvZGVNaXJyb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvZGVNaXJyb3JDb21wb25lbnRcIlxyXG5pbXBvcnQgeyBzZWxlY3QyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9zZWxlY3QyXCJcclxuXHJcblxyXG53aW5kb3cuRW5hYmxlQWRkTm9kZSA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgYXBwID0gbmV3IFZ1ZSh7XHJcbiAgICBlbDogJyNhbmFwcCcsXHJcbiAgICAvLyB0ZW1wbGF0ZTogJyNkZW1vLXRlbXBsYXRlJyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgc2VsZWN0ZWRQcm9qZWN0OiBcIlwiLFxyXG4gICAgICBzZWxlY3RlZFNwZWNpZmljU3ViamVjdDogXCJcIixcclxuICAgICAgc2VsZWN0ZWRHZW5lcmFsU3ViamVjdDogXCJcIixcclxuICAgICAgc2VsZWN0ZWROb3RlVHlwZTogXCJcIixcclxuICAgICAgbWVzc2FnZTogJ0NyZWF0ZSBhIE5vdGUnLFxyXG4gICAgICBub2RlTW9kZWw6IHtcclxuICAgICAgICBib29rTWFyazogZmFsc2UsXHJcbiAgICAgICAgdGl0bGU6IFwiXCIsXHJcbiAgICAgICAgcHJvamVjdFR5cGU6IHt9LFxyXG4gICAgICAgIHRlY2hub2xvZ3lUeXBlOiB7fSxcclxuICAgICAgICBzcGVjaWZpY1N1YmplY3Q6IHt9LFxyXG4gICAgICAgIG5vdGVUeXBlOiB7fSxcclxuICAgICAgICBtb2RlbDogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBtYWluYm9keTogXCJcIixcclxuICAgICAgICAgICAgZGVzYzogXCJcIixcclxuICAgICAgICAgICAgbGFuZzogXCJodG1sbWl4ZWRcIlxyXG4gICAgICAgICAgfV1cclxuICAgICAgfSxcclxuICAgICAgY29tcG9uZW50S2V5OiAxLFxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgY29kZU1pcnJvckNvbXBvbmVudCxcclxuICAgICAgc2VsZWN0MlxyXG4gICAgfSxcclxuICAgIHVwZGF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICBzdWJtaXQoKSB7XHJcblxyXG4gICAgICAgIC8vIHZhciBub2RlTW9kZWwgPSBjb25zb2xlLmxvZyh0aGlzLm5vZGVNb2RlbC5tb2RlbCk7XHJcbiAgICAgICAgYXhpb3MucG9zdCgnL1Bvc3RBZGROb3RlJywgeyBtb2RlbDogdGhpcy5ub2RlTW9kZWwgfSlcclxuICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGVNb2RlbCA9IHtcclxuICAgICAgICAgICAgICBib29rTWFyazogZmFsc2UsXHJcbiAgICAgICAgICAgICAgdGl0bGU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgcHJvamVjdFR5cGU6IHt9LFxyXG4gICAgICAgICAgICAgIHRlY2hub2xvZ3lUeXBlOiB7fSxcclxuICAgICAgICAgICAgICBzcGVjaWZpY1N1YmplY3Q6IHt9LFxyXG4gICAgICAgICAgICAgIG5vdGVUeXBlOiB7fSxcclxuICAgICAgICAgICAgICBtb2RlbDogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBtYWluYm9keTogXCJcIixcclxuICAgICAgICAgICAgICAgICAgZGVzYzogXCJcIixcclxuICAgICAgICAgICAgICAgICAgbGFuZzogXCJodG1sbWl4ZWRcIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgY29tcG9uZW50S2V5OiAxLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50S2V5ICs9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9qZWN0PSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTm90ZVR5cGU9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTcGVjaWZpY1N1YmplY3Q9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRHZW5lcmFsU3ViamVjdD0gXCJcIjtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGFsZXJ0KGVycm9yKVxyXG4gICAgICAgICAgfSlcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIGdldE5vdGVUeXBlU2VsZWN0VmFsdWUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMubm9kZU1vZGVsLm5vdGVUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgdGhpcy5ub2RlTW9kZWwubm90ZVR5cGUuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWROb3RlVHlwZSA9IGRhdGEudGV4dDtcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIGdldFByb2plY3RTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgYXBwLm5vZGVNb2RlbC5wcm9qZWN0VHlwZS50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgIGFwcC5ub2RlTW9kZWwucHJvamVjdFR5cGUuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9qZWN0PSBkYXRhLnRleHQ7XHJcblxyXG4gICAgICB9LFxyXG4gICAgICBnZXRHZW5lcmFsU3ViamVjdFNlbGVjdFZhbHVlKGRhdGEpIHtcclxuICAgICAgICBhcHAubm9kZU1vZGVsLnRlY2hub2xvZ3lUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgYXBwLm5vZGVNb2RlbC50ZWNobm9sb2d5VHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEdlbmVyYWxTdWJqZWN0PSBkYXRhLnRleHQ7XHJcblxyXG4gICAgICB9LCAgICAgIFxyXG4gICAgICBnZXRTcGVjaWZpY1N1YmplY3RTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgYXBwLm5vZGVNb2RlbC5zcGVjaWZpY1N1YmplY3QudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICBhcHAubm9kZU1vZGVsLnNwZWNpZmljU3ViamVjdC5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNwZWNpZmljU3ViamVjdD0gZGF0YS50ZXh0O1xyXG5cclxuICAgICAgfSxcclxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAgIHVwZGF0ZVR5cGUodmFyaWFibGUpIHtcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZVRlY2hub2xvZ3kodmFyaWFibGUpIHtcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZVByb2plY3RUeXBlKHZhcmlhYmxlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codmFyaWFibGUpXHJcbiAgICAgICAgdGhpcy5ub2RlTW9kZWwucHJvamVjdFR5cGUgPSB2YXJpYWJsZTtcclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlQ29kZU1pcnJvclRleHQoaXRlbSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pXHJcbiAgICAgICAgdGhpcy5ub2RlTW9kZWwubW9kZWxbaXRlbS5pbmRleF0ubWFpbmJvZHkgPSBpdGVtLnZhbHVlXHJcbiAgICAgIH0sXHJcbiAgICAgIGFkZCgpIHtcclxuICAgICAgICB0aGlzLm5vZGVNb2RlbC5tb2RlbC5wdXNoKHtcclxuICAgICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgICAgZGVzYzogXCJcIixcclxuICAgICAgICAgIGxhbmc6IFwiXCJcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGJlZm9yZUNyZWF0ZSgpIHtcclxuICAgICAgY29uc29sZS5sb2coJ05vdGhpbmcgZ2V0cyBjYWxsZWQgYmVmb3JlIG1lIScpXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZCgpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2NyZWF0ZWQgJylcclxuICAgIH0sXHJcbiAgICBtb3VudGVkKCkge1xyXG4gICAgIC8vICQoXCIuY2FyZEhlaWd0aFwiKS5ibHVyKCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuIFxyXG59IiwiaW1wb3J0IHsgbm90ZUpzTW9kZWwgfSBmcm9tIFwiLi9tb2RlbC9ub3RlSnNNb2RlbFwiXHJcbmltcG9ydCB7IGNvZGVNaXJyb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvZGVNaXJyb3JDb21wb25lbnRcIlxyXG5pbXBvcnQgeyB1dGlsaXR5IH0gZnJvbSBcIi4vY29tbW9uL3V0aWxpdHlKc1wiXHJcbmltcG9ydCB7IGRyb3Bkb3ducyB9IGZyb20gXCIuL2NvbW1vbi9kcm9wZG93bnNKc1wiO1xyXG5pbXBvcnQgeyBzZWxlY3QyIH0gZnJvbSBcIi4vY29tcG9uZW50cy9zZWxlY3QyXCJcclxuXHJcblxyXG53aW5kb3cuRW5hYmxlVnVzSnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc29sZS5sb2cobm90ZUpzTW9kZWwudGVzdC5uYW1lKTtcclxuXHJcbiAgdmFyIGFjdGlvbiA9ICdpbmFjdGl2ZSc7XHJcbiAgdmFyIHBhZ2UgPSAxO1xyXG4gIHZhciBhcHAgPSBuZXcgVnVlKHtcclxuICAgIGVsOiAnI2FwcCcsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIG5vdGVUeXBlOiB7fSxcclxuICAgICAgbWVzc2FnZTogJ0hlbGxvIFZ1ZSEnLFxyXG4gICAgICBzZWFyY2hNb2RlbDoge1xyXG4gICAgICAgIHNlYXJjaFRleHRCb3g6IFwiXCIsXHJcbiAgICAgICAgYm9va01hcms6IGZhbHNlLFxyXG4gICAgICAgIG5vdGVUeXBlOiBcIlwiLFxyXG4gICAgICAgIHByb2plY3ROYW1lOiBcIlwiLFxyXG4gICAgICAgIHRlY2hub2xvZ3k6IFwiXCIsXHJcbiAgICAgICAgc3BlY2lmaWNTdWJqZWN0OiBcIlwiLFxyXG4gICAgICB9LFxyXG5cclxuICAgICAgYm94bW9kZWw6IFtdLFxyXG4gICAgICBkZWxldGVNb2RhbE5vdGU6IHtcclxuICAgICAgICBpZDogMCxcclxuICAgICAgICBpbmRleDogMCxcclxuICAgICAgICB0ZXh0OiBcIlwiXHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbXBvbmVudEtleTogMCxcclxuXHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50czoge1xyXG4gICAgICBjb2RlTWlycm9yQ29tcG9uZW50LFxyXG4gICAgICBzZWxlY3QyXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgIGdldE5vdGVUeXBlU2VsZWN0VmFsdWUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoTW9kZWwubm90ZVR5cGUgPSBkYXRhLnRleHQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldFByb2plY3RTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hNb2RlbC5wcm9qZWN0TmFtZSA9IGRhdGEudGV4dDtcclxuICAgICAgfSxcclxuICAgICAgZ2V0R2VuZXJhbFN1YmplY3RTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hNb2RlbC50ZWNobm9sb2d5ID0gZGF0YS50ZXh0O1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRTcGVjaWZpY1N1YmplY3RTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hNb2RlbC5zcGVjaWZpY1N1YmplY3QgPSBkYXRhLnRleHQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIHNlYXJjaDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBhZ2UgPSAxO1xyXG4gICAgICAgIHRoaXMubG9hZE5vdGUocGFnZSwgdHJ1ZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxvYWROb3RlKHBhZ2UsIHJlc2V0KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJMTExMTExMTExMTExMTExMT09PREREXCIpXHJcbiAgICAgICAgdmFyIHBhcmFtID0ge1xyXG4gICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgIHBlclBhZ2U6IDgsXHJcbiAgICAgICAgICB0aXRsZTogXCJcIixcclxuICAgICAgICAgIGJvb2tNYXJrOiBcIlwiLFxyXG4gICAgICAgICAgbm90ZVR5cGU6IFwiXCIsXHJcbiAgICAgICAgICBwcm9qZWN0TmFtZTogXCJcIixcclxuICAgICAgICAgIHRlY2hub2xvZ3k6IFwiXCIsXHJcbiAgICAgICAgICBzcGVjaWZpY1N1YmplY3Q6IFwiXCIsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlYXJjaE1vZGVsLnNlYXJjaFRleHRCb3gpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaE1vZGVsLnNlYXJjaFRleHRCb3ggIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLnNlYXJjaFRleHRCb3ggIT0gXCJcIilcclxuICAgICAgICAgIHBhcmFtLnRpdGxlID0gXCImdGl0bGU9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLnNlYXJjaFRleHRCb3g7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaE1vZGVsLmJvb2tNYXJrICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWFyY2hNb2RlbC5ib29rTWFyayAhPSBmYWxzZSlcclxuICAgICAgICAgIHBhcmFtLmJvb2tNYXJrID0gXCImYm9va01hcms9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLmJvb2tNYXJrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hNb2RlbC5ub3RlVHlwZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwubm90ZVR5cGUgIT0gZmFsc2UpXHJcbiAgICAgICAgICBwYXJhbS5ub3RlVHlwZSA9IFwiJm5vdGVUeXBlPVwiICsgdGhpcy5zZWFyY2hNb2RlbC5ub3RlVHlwZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwucHJvamVjdE5hbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLnByb2plY3ROYW1lICE9IGZhbHNlKVxyXG4gICAgICAgICAgcGFyYW0ucHJvamVjdE5hbWUgPSBcIiZwcm9qZWN0TmFtZT1cIiArIHRoaXMuc2VhcmNoTW9kZWwucHJvamVjdE5hbWU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaE1vZGVsLnRlY2hub2xvZ3kgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLnRlY2hub2xvZ3kgIT0gZmFsc2UpXHJcbiAgICAgICAgICBwYXJhbS50ZWNobm9sb2d5ID0gXCImdGVjaG5vbG9neT1cIiArIHRoaXMuc2VhcmNoTW9kZWwudGVjaG5vbG9neTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwuc3BlY2lmaWNTdWJqZWN0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWFyY2hNb2RlbC5zcGVjaWZpY1N1YmplY3QgIT0gZmFsc2UpXHJcbiAgICAgICAgICBwYXJhbS5zcGVjaWZpY1N1YmplY3QgPSBcIiZzcGVjaWZpY1N1YmplY3Q9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLnNwZWNpZmljU3ViamVjdDtcclxuXHJcblxyXG4gICAgICAgIG5vdGVKc01vZGVsLmdldE5vdGVzKHBhcmFtKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzZXQpIHtcclxuICAgICAgICAgICAgICB0aGlzLmJveG1vZGVsID0gW107XHJcbiAgICAgICAgICAgICAgdGhpcy5ib3htb2RlbCA9IHJlc3BvbnNlLmRhdGEubW9kZWxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLm1vZGVsLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJveG1vZGVsLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWN0aW9uID0gJ2luYWN0aXZlJztcclxuICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIC8vIERPTSBpcyBub3cgdXBkYXRlZFxyXG4gICAgICAgICAgICAgIC8vIGB0aGlzYCBpcyBib3VuZCB0byB0aGUgY3VycmVudCBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50S2V5ICs9IDE7XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICB9LFxyXG4gICAgICBPcGVuQ2xvc2VOb3RlKGlkKSB7XHJcbiAgICAgICAgdmFyIGhlaWd0aCA9IFwiMTAwcHhcIjtcclxuICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAkKFwiI29jLVwiICsgaWQpXHJcbiAgICAgICAgY29uc29sZS5sb2coJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5jaGlsZHJlbihcIi5jYXJkSGVpZ3RoXCIpKVxyXG4gICAgICAgIHZhciBzZWxjdG9yID0gJChcIiNvYy1cIiArIGlkKTtcclxuICAgICAgICB2YXIgc2VsZSA9ICQoc2VsY3RvcikucGFyZW50KCkucGFyZW50KClcclxuICAgICAgICB2YXIgaCA9ICQoc2VsY3RvcikuY3NzKFwiaGVpZ2h0XCIpO1xyXG4gICAgICAgIGlmIChoID09IGhlaWd0aCkge1xyXG4gICAgICAgICAgJChzZWxjdG9yKS5jc3MoJ2hlaWdodCcsICdhdXRvJyk7XHJcbiAgICAgICAgICAkKHNlbGN0b3IpLmNzcygnb3ZlcmZsb3cteScsICdoaWRkZW4nKTtcclxuICAgICAgICAgICQoc2VsZSkucmVtb3ZlQ2xhc3MoXCJjb2wtbGctNlwiKVxyXG4gICAgICAgICAgJChzZWxlKS5hZGRDbGFzcyhcImNvbC1sZy0xMlwiKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKHNlbGN0b3IpLmNzcygnaGVpZ2h0JywgaGVpZ3RoKTtcclxuICAgICAgICAgICQoc2VsY3RvcikuY3NzKCdvdmVyZmxvdy15JywgJ3Njcm9sbCcpO1xyXG4gICAgICAgICAgJChzZWxlKS5yZW1vdmVDbGFzcyhcImNvbC1sZy0xMlwiKVxyXG4gICAgICAgICAgJChzZWxlKS5hZGRDbGFzcyhcImNvbC1sZy02XCIpXHJcbiAgICAgICAgICAvLyAkKHNlbGN0b3IpLmFuaW1hdGUoe2hlaWdodDpcIjEwMHB4XCJ9LCA0MDAsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgLy8gICAgIC8vIEFuaW1hdGlvbiBjb21wbGV0ZS5cclxuICAgICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSxcclxuICAgICAgb3BlbkRlbGV0ZU1vZGFsKGlkLCBpbmRleCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGlkKVxyXG4gICAgICAgIHRoaXMuZGVsZXRlTW9kYWxOb3RlLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5kZWxldGVNb2RhbE5vdGUuaW5kZXggPSBpbmRleDtcclxuICAgICAgICBpbmRleFxyXG4gICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICQoJyNkZWxldGVNb2RhbCcpLm1vZGFsKCd0b2dnbGUnKTtcclxuICAgICAgICB9KVxyXG4gICAgICB9LFxyXG4gICAgICBkZWxldGVOb3RlKGlkLCBpbmRleCkge1xyXG4gICAgICAgIC8vIGlmIChjb25maXJtKFwiV2FubmEgRGVsZXRlP1wiKSkge1xyXG4gICAgICAgIG5vdGVKc01vZGVsLmRlbGV0ZU5vdGUoaWQpXHJcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICB0aGlzLiRkZWxldGUodGhpcy5ib3htb2RlbCwgaW5kZXgpXHJcbiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAkKCcjZGVsZXRlTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgIC8vVXBkYXRlIENvbXBvbmVudHMgYW5kIGV2ZXJ5VGhpbmdcclxuICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudEtleSArPSAxO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy8gYWxlcnQoXCJkc2Rmc1wiKVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoKSB7XHJcbiAgICAgIC8vIGRyb3Bkb3ducy5lbmFibGVOb3RlVHlwZShhcHApO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIiQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkXCIpXHJcbiAgICAgIGNvbnNvbGUubG9nKFwicGFnZT0+XCIpXHJcbiAgICAgIGNvbnNvbGUubG9nKHV0aWxpdHkuZ2V0VXJsUGFyYW1ldGVyKFwicHJvamVjdFwiKSlcclxuICAgICAgdGhpcy5sb2FkTm90ZShwYWdlKTtcclxuXHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKCgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCkgPiAkKGRvY3VtZW50KS5oZWlnaHQoKSAtIDUpICYmIGFjdGlvbiA9PSAnaW5hY3RpdmUnKSB7XHJcbiAgICAgIGFjdGlvbiA9ICdhY3RpdmUnO1xyXG4gICAgICAvLyAgc3RhcnQgPSBzdGFydCArIGxpbWl0O1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYWdlID0gcGFnZSArIDE7XHJcbiAgICAgICAgYXBwLmxvYWROb3RlKHBhZ2UpO1xyXG4gICAgICB9LCA1MDApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIjc2VhcmNoVHh0XCIpLmZvY3VzKCk7XHJcbiAgfSk7XHJcblxyXG5cclxuICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5PcGVuQ2xvc2VOb3RlJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICB9KTtcclxuXHJcbn0iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gSW5pdGlhbGl6ZSBuYW1lc3BhY2UgJ3V0aWxpdGllcycgKG9yIHVzZSBleGlzdGluZyBvbmUgaWYgcHJlc2VudClcclxuICAgIHdpbmRvdy5ub3RlVXRpbGl0eUpzID0gd2luZG93Lm5vdGVVdGlsaXR5SnMgfHwge307XHJcbiAgXHJcblxyXG4gICAgdmFyIGVkaXRBcnIgPSBbXTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWlycm9yQ29kZVwiKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgbGFuZyA9ICQoJChcIi5taXJyb3JDb2RlXCIpW2ldKS5hdHRyKFwibGFuZ1wiKTtcclxuICAgICAgY29uc29sZS5sb2coXCJsYW5nID0gXCIgKyBsYW5nKTtcclxuICAgICAgdmFyIGVkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtaXJyb3JDb2RlXCIpW2ldLCB7XHJcbiAgICAgICAgbW9kZTogbGFuZyxcclxuICAgICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcclxuICAgICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsXHJcbiAgICAgICAgbWF0Y2hCcmFja2V0czogdHJ1ZSxcclxuICAgICAgICB2aWV3cG9ydE1hcmdpbjogSW5maW5pdHksXHJcbiAgICAgIH0pO1xyXG4gICAgICBlZGl0QXJyLnB1c2goZWRpdG9yKVxyXG4gICAgfVxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFNldHVwIC0gYWRkIGEgdGV4dCBpbnB1dCB0byBlYWNoIGZvb3RlciBjZWxsXHJcbiAgICAgICAgJCgnI2V4YW1wbGUgdGhlYWQgdHInKS5jbG9uZSh0cnVlKS5hcHBlbmRUbyggJyNleGFtcGxlIHRoZWFkJyApO1xyXG4gICAgICAgICQoJyNleGFtcGxlIHRoZWFkIHRyOmVxKDEpIHRoJykuZWFjaCggZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgdmFyIHRpdGxlID0gJCh0aGlzKS50ZXh0KCk7XHJcbiAgICAgICAgICAgICQodGhpcykuaHRtbCggJzxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoICcrdGl0bGUrJ1wiIC8+JyApO1xyXG4gICAgIFxyXG4gICAgICAgICAgICAkKCAnaW5wdXQnLCB0aGlzICkub24oICdrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHRhYmxlLmNvbHVtbihpKS5zZWFyY2goKSAhPT0gdGhpcy52YWx1ZSApIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29sdW1uKGkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZWFyY2goIHRoaXMudmFsdWUgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgfSApO1xyXG4gICAgIFxyXG4gICAgICAgIHZhciB0YWJsZSA9ICQoJyNleGFtcGxlJykuRGF0YVRhYmxlKCB7XHJcbiAgICAgICAgICAgIG9yZGVyQ2VsbHNUb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGZpeGVkSGVhZGVyOiB0cnVlXHJcbiAgICAgICAgfSApO1xyXG4gICAgfSApO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoJCkge1xuICBcInVzZSBzdHJpY3RcIjsgLy8gU3RhcnQgb2YgdXNlIHN0cmljdFxuICB2YXIgaWRjID0gMTtcbiAgJCgnYm9keScpLm9uKCdjbGljaycsICcjYWRkcHJvZ3JhbW1pbmdub3RlYm9keScsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBhbGVydChcInNcIilcbiAgICBkZWJ1Z2dlcjtcbiAgICBsZXQgaWQgPSBcImNvZGVcIiArIGlkY1xuICAgIGxldCBpZFNlbGVjdCA9IFwiY29kZVwiICsgaWRjXG5cbiAgICB2YXIgdGV4dEFyZWFCb2R5ID0gYDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIG5vdGUtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJgKyBpZCArIGBcIiByb3dzPVwiOFwiIG5hbWU9J2NvZGVbYCArIGlkYyArIGBdW2JvZHldJyBzdHlsZT1cIm1hcmdpbjogMTBweDsgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCJcIiBjbGFzcz1cImNvZGUgZm9ybS1jb250cm9sXCI+PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2RpdmBcblxuICAgIHZhciByb3cgPSBgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgY29sLW1kLTlcIj48aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRFbWFpbDFcIiBcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIGFyaWEtZGVzY3JpYmVkYnk9XCJlbWFpbEhlbHBcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlRpdGxlXCIgbmFtZT1cImNvZGVbYCsgaWRjICsgYF1bZGVzY11cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBib3gtaWQ9XCJgKyBpZCArIGBcIiAgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC0zIHNlbGVjdGxhbmdcIj5cbiAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sXCIgbmFtZT1cImNvZGVbYCsgaWRjICsgYF1bY29kZWxhbmddXCI+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJodG1sbWl4ZWRcIj5IdG1sPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L2Nzc1wiPiBDU1M8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQvamF2YXNjcmlwdFwiPiBKYXZhU2NyaXB0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtc3FsXCI+IFNRbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWNzaGFycFwiPiBDIzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LXB5dGhvblwiPiBQeXRob248L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1qYXZhXCI+IEphdmE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1waHBcIj4gUEhQPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtYysrc3JjXCI+IEMrKzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWNzcmNcIj4gQzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWdvXCI+IEdvPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtcnNyY1wiPiBSPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhcHBsaWNhdGlvbi94LXBvd2Vyc2hlbGxcIj4gUG93ZXJTaGVsbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YFxuXG4gICAgJChcIi5ub3RlLWJvZHlcIikubGFzdCgpLmFmdGVyKHJvdyArIHRleHRBcmVhQm9keSk7XG5cbiAgICB2YXIgZWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLCB7XG4gICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcbiAgICAgIHN0eWxlQWN0aXZlTGluZTogdHJ1ZSxcbiAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXG4gICAgICB2aWV3cG9ydE1hcmdpbjogSW5maW5pdHksXG4gICAgICAvLyBtb2RlOiBcImh0bWxtaXhlZFwiXG4gICAgfSk7XG4gICAgLy8gZWRpdEFyci5wdXNoKGVkaXRvcilcbiAgICBpZGMgPSBpZGMgKyAxO1xuICB9KTtcblxuICAkKCdib2R5Jykub24oJ2NoYW5nZScsICcuc2VsZWN0bGFuZycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcyA9ICQodGhpcykuYXR0cihcImJveC1pZFwiKVxuICAgIHZhciB2ID0gJCh0aGlzKS52YWwoKVxuICAgIC8vIGFsZXJ0KHMrdik7XG4gIH0pO1xuXG4gICQoXCIjc2VhcmNoQm94QnRuXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gJChcIiNzZWFyY2hCb3hcIikudmFsKCk7XG4gICAgbG9jYXRpb24uaHJlZiA9IFwiL05vdGVzP3RpdGxlPVwiK3Jlc3VsdDtcbiAgfSk7XG5cblxuXG4gIGZ1bmN0aW9uIHRvZ2dsZVNpZGViYXIoKSB7XG4gICAgJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJzaWRlYmFyLXRvZ2dsZWRcIik7XG4gICAgJChcIi5zaWRlYmFyXCIpLnRvZ2dsZUNsYXNzKFwidG9nZ2xlZFwiKTtcbiAgICBpZiAoJChcIi5zaWRlYmFyXCIpLmhhc0NsYXNzKFwidG9nZ2xlZFwiKSkge1xuICAgICAgJCgnLnNpZGViYXIgLmNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICB9O1xuICB9XG4gIHRvZ2dsZVNpZGViYXIoKTtcbiAgLy8gVG9nZ2xlIHRoZSBzaWRlIG5hdmlnYXRpb25cbiAgJChcIiNzaWRlYmFyVG9nZ2xlLCAjc2lkZWJhclRvZ2dsZVRvcFwiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgIHRvZ2dsZVNpZGViYXIoKTtcbiAgICAvLyAkKFwiYm9keVwiKS50b2dnbGVDbGFzcyhcInNpZGViYXItdG9nZ2xlZFwiKTtcbiAgICAvLyAkKFwiLnNpZGViYXJcIikudG9nZ2xlQ2xhc3MoXCJ0b2dnbGVkXCIpO1xuICAgIC8vIGlmICgkKFwiLnNpZGViYXJcIikuaGFzQ2xhc3MoXCJ0b2dnbGVkXCIpKSB7XG4gICAgLy8gICAkKCcuc2lkZWJhciAuY29sbGFwc2UnKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgIC8vIH07XG4gIH0pO1xuXG4gIC8vIENsb3NlIGFueSBvcGVuIG1lbnUgYWNjb3JkaW9ucyB3aGVuIHdpbmRvdyBpcyByZXNpemVkIGJlbG93IDc2OHB4XG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDc2OCkge1xuICAgICAgJCgnLnNpZGViYXIgLmNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBQcmV2ZW50IHRoZSBjb250ZW50IHdyYXBwZXIgZnJvbSBzY3JvbGxpbmcgd2hlbiB0aGUgZml4ZWQgc2lkZSBuYXZpZ2F0aW9uIGhvdmVyZWQgb3ZlclxuICAkKCdib2R5LmZpeGVkLW5hdiAuc2lkZWJhcicpLm9uKCdtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsIHdoZWVsJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA3NjgpIHtcbiAgICAgIHZhciBlMCA9IGUub3JpZ2luYWxFdmVudCxcbiAgICAgICAgZGVsdGEgPSBlMC53aGVlbERlbHRhIHx8IC1lMC5kZXRhaWw7XG4gICAgICB0aGlzLnNjcm9sbFRvcCArPSAoZGVsdGEgPCAwID8gMSA6IC0xKSAqIDMwO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2Nyb2xsIHRvIHRvcCBidXR0b24gYXBwZWFyXG4gICQoZG9jdW1lbnQpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbERpc3RhbmNlID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcbiAgICBpZiAoc2Nyb2xsRGlzdGFuY2UgPiAxMDApIHtcbiAgICAgICQoJy5zY3JvbGwtdG8tdG9wJykuZmFkZUluKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5zY3JvbGwtdG8tdG9wJykuZmFkZU91dCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU21vb3RoIHNjcm9sbGluZyB1c2luZyBqUXVlcnkgZWFzaW5nXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdhLnNjcm9sbC10by10b3AnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkYW5jaG9yID0gJCh0aGlzKTtcbiAgICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgc2Nyb2xsVG9wOiAoJCgkYW5jaG9yLmF0dHIoJ2hyZWYnKSkub2Zmc2V0KCkudG9wKVxuICAgIH0sIDEwMDAsICdlYXNlSW5PdXRFeHBvJyk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcblxufSkoalF1ZXJ5KTsgLy8gRW5kIG9mIHVzZSBzdHJpY3RcbiJdLCJzb3VyY2VSb290IjoiIn0=