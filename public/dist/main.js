!function(e){var t={};function o(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t,o){"use strict";o.r(t),o.d(t,"noteJsModel",function(){return n});var n={test:{name:"mostafa"},getNotes:function(e,t,o,n){return axios.get("/GetNotes?page="+e+"&perPage="+t+o+n)},deleteNote:function(e){return axios.get("/DeleteNote?id="+e)}}},function(e,t,o){"use strict";o.r(t),o.d(t,"codeMirrorComponent",function(){return n});const n=Vue.component("code-mirror",{template:"<textarea>{{body}}</textarea>",props:["body","lang","index"],methods:{methodThatForcesUpdate(){}},mounted:function(){var e=this;console.log(this.lang);var t=$(this.$el);CodeMirror.fromTextArea(t[0],{mode:this.lang,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0}).on("change",t=>{e.$emit("input-text-area",{index:e.index,value:t.getValue()})})},beforeDestroy:function(){console.log(t);let e=0;for(e=0;e<$(".CodeMirror").length;e++){var t=$(".CodeMirror")[e];void 0!==t&&(t.CodeMirror.setOption("mode","text/x-csrc"),t.CodeMirror.getWrapperElement().parentNode.removeChild(t.CodeMirror.getWrapperElement()),t.CodeMirror=null)}},destroyed:function(){}})},function(e,t,o){"use strict";o.r(t),o.d(t,"selectize",function(){return n});const n=Vue.component("selectize",{props:["options","value","url"],data:()=>({selectValue:"1234"}),template:"  \n    <select >\n    <slot></slot>\n    </select>",mounted:function(){var e=this,t=$(this.$el).selectize({maxItems:1,delimiter:",",persist:!1,items:["sdf","sdfsdf"],renderCache:!1,create:function(e){return console.log("Create"),{newTag:!0,value:e,text:e}},load:function(t,o){if(console.log("---LOAD---"),!t.length)return o();this.clear(),this.clearOptions(),$.ajax({url:e.url+"?query="+t,cache:!1,type:"GET",error:function(){o()},success:function(e){console.log(e.model),o(e.model.slice(0,10))}})}});$(t).on("change",function(){var o=t[0].selectize;console.log(t[0].selectize.getValue()),console.log(t[0].selectize.getItem()),console.log(t[0].selectize.items);$.map(o.items,function(e){return console.log(o.options[e]),o.options[e]});this.selectValue=t[0].selectize.items[0],console.log(t[0].selectize),e.$emit("input-data",this.selectValue)})},watch:{value:function(e){console.log(e)},options:function(e){console.log(e)}},destroyed:function(){}})},function(e,t,o){o(4),o(5),o(6),o(7),o(8),o(0),o(1),e.exports=o(2)},function(e,t,o){"use strict";o.r(t);o(0);var n=o(1),l=o(2),i=new Vue({el:"#anapp",data:{message:"Create a Note",nodeModel:{bookMark:!1,title:"",projectType:{},technologyType:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}]},componentKey:1},components:{codeMirrorComponent:n.codeMirrorComponent,selectize:l.selectize},updated:function(){},methods:{submit(){axios.post("/PostAddNote",{model:this.nodeModel}).then(e=>{this.nodeModel={bookMark:!1,title:"",projectType:{},technologyType:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}],componentKey:1},this.componentKey+=1,$("#technology").select2("val",""),$("#project").select2("val",""),$("#nType").select2("val","")}).catch(e=>{alert(e)})},updateType(e){},updateTechnology(e){},updateProjectType(e){console.log(e),this.nodeModel.projectType=e},updateCodeMirrorText(e){console.log(e),this.nodeModel.model[e.index].mainbody=e.value},add(){this.nodeModel.model.push({mainbody:"",desc:"",lang:""})}},mounted(){}});$(document).ready(function(){window.getProjectValue=function(){var e=$("#project").select2("data");return console.log(e),e[0].text},$("#project").select2({tags:[],initSelection:function(e,t){console.log(i.projectType)},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetProjectTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(e){i.projectType="";var t=$(this).select2("data")[0];console.log(t),void 0!==t&&(i.nodeModel.projectType.text=t.text,i.nodeModel.projectType.id=t.id),console.log(i.projectType)}),$("#technology").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetTechnologies",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(e){var t=$(this).select2("data")[0];void 0!==t&&(i.nodeModel.technologyType.text=t.text,i.nodeModel.technologyType.id=t.id)}),$("#nType").select2({initSelection:function(e,t){},ajax:{url:"/GetNoteTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","").on("change",function(e){var t=$(this).select2("data");console.log(t),void 0!==t&&(i.nodeModel.noteType.text=t.text,i.nodeModel.noteType.id=t.id)})})},function(e,t,o){"use strict";o.r(t);var n=o(0),l=o(1);console.log(n.noteJsModel.test.name);var i="inactive";let r=1;var a=new Vue({el:"#app",data:{message:"Hello Vue!",searchModel:{searchTextBox:"",bookMark:!1},boxmodel:[],deleteModalNote:{id:0,index:0,text:""},componentKey:0},components:{codeMirrorComponent:l.codeMirrorComponent},updated:function(){},methods:{search:function(){r=1,this.loadNote(r,!0)},loadNote(e,t){let o="",l="";console.log(this.searchModel.searchTextBox),void 0!==this.searchModel.searchTextBox&&""!=this.searchModel.searchTextBox&&(o="&title="+this.searchModel.searchTextBox),void 0!==this.searchModel.bookMark&&0!=this.searchModel.bookMark&&(l="&bookMark="+this.searchModel.bookMark),n.noteJsModel.getNotes(e,8,o,l).then(e=>{t?(this.boxmodel=[],this.boxmodel=e.data.model):e.data.model.forEach(e=>{this.boxmodel.push(e)}),i="inactive",this.$nextTick(function(){this.componentKey+=1})})},OpenCloseNote(e){$("#oc-"+e),console.log($(this).parent().parent().children(".cardHeigth"));var t=$("#oc-"+e),o=$(t).parent().parent();return"100px"==$(t).css("height")?($(t).css("height","auto"),$(t).css("overflow-y","hidden"),$(o).removeClass("col-lg-6"),$(o).addClass("col-lg-12")):($(t).css("height","100px"),$(t).css("overflow-y","scroll"),$(o).removeClass("col-lg-12"),$(o).addClass("col-lg-6")),!1},openDeleteModal(e,t){console.log(e),this.deleteModalNote.id=e,this.deleteModalNote.index=t,this.$nextTick(function(){$("#deleteModal").modal("toggle")})},deleteNote(e,t){n.noteJsModel.deleteNote(e).then(e=>{this.$delete(this.boxmodel,t),this.$nextTick(function(){$("#deleteModal").modal("hide"),this.componentKey+=1})})}},mounted(){this.loadNote(r)}});$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-5&&"inactive"==i&&(i="active",setTimeout(function(){r+=1,a.loadNote(r)},500))}),$("body").on("click",".OpenCloseNote",function(){})},function(e,t){!function(){window.noteUtilityJs=window.noteUtilityJs||{};var e=[];for(i=0;i<document.getElementsByClassName("mirrorCode").length;i++){var t=$($(".mirrorCode")[i]).attr("lang");console.log("lang = "+t);var o=CodeMirror.fromTextArea(document.getElementsByClassName("mirrorCode")[i],{mode:t,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});e.push(o)}$(document).ready(function(){$("#example thead tr").clone(!0).appendTo("#example thead"),$("#example thead tr:eq(1) th").each(function(t){var o=$(this).text();$(this).html('<input type="text" placeholder="Search '+o+'" />'),$("input",this).on("keyup change",function(){e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})});var e=$("#example").DataTable({orderCellsTop:!0,fixedHeader:!0})})}()},function(e,t){!function(e){"use strict";var t=1;function o(){e("body").toggleClass("sidebar-toggled"),e(".sidebar").toggleClass("toggled"),e(".sidebar").hasClass("toggled")&&e(".sidebar .collapse").collapse("hide")}e("body").on("click","#addprogrammingnotebody",function(){let o="code"+t;var n='<div class="form-group note-body">\n                          <textarea id="'+o+'" rows="8" name=\'code['+t+'][body]\' style="margin: 10px; "\n                          value="" class="code form-control"></textarea>\n                      </div',l='<div class="row">\n            <div class="form-group col-md-9"><input id="exampleInputEmail1" \n                type="text" aria-describedby="emailHelp"\n                    placeholder="Title" name="code['+t+'][desc]" class="form-control"></div>\n            <div box-id="'+o+'"  class="form-group col-md-3 selectlang">\n            <select class="form-control form-control" name="code['+t+'][codelang]">\n                    <option value="htmlmixed">Html</option>\n                    <option value="text/css"> CSS</option>\n                    <option value="text/javascript"> JavaScript</option>\n                    <option value="text/x-sql"> SQl</option>\n                    <option value="text/x-csharp"> C#</option>\n                    <option value="text/x-python"> Python</option>\n                    <option value="text/x-java"> Java</option>\n                    <option value="text/x-php"> PHP</option>\n                    <option value="text/x-c++src"> C++</option>\n                    <option value="text/x-csrc"> C</option>\n                    <option value="text/x-go"> Go</option>\n                    <option value="text/x-rsrc"> R</option>\n                    <option value="application/x-powershell"> PowerShell</option>\n                </select></div>\n            </div>';e(".note-body").last().after(l+n);CodeMirror.fromTextArea(document.getElementById(o),{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});t+=1}),e("body").on("change",".selectlang",function(){e(this).attr("box-id"),e(this).val()}),e("#searchBoxBtn").click(function(){var t=e("#searchBox").val();location.href="/Notes?title="+t}),o(),e("#sidebarToggle, #sidebarToggleTop").on("click",function(e){o()}),e(window).resize(function(){e(window).width()<768&&e(".sidebar .collapse").collapse("hide")}),e("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(t){if(e(window).width()>768){var o=t.originalEvent,n=o.wheelDelta||-o.detail;this.scrollTop+=30*(n<0?1:-1),t.preventDefault()}}),e(document).on("scroll",function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e(document).on("click","a.scroll-to-top",function(t){var o=e(this);e("html, body").stop().animate({scrollTop:e(o.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()})}(jQuery)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9tb2RlbC9ub3RlSnNNb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvc2VsZWN0aXplLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvQWRkTm90ZUpzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvTm90ZXNKcy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL05vdGVVdGlsaXR5SnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9zYi1hZG1pbi0yLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIm5vdGVKc01vZGVsIiwidGVzdCIsImdldE5vdGVzIiwicGFnZSIsInBlclBhZ2UiLCJ0aXRsZSIsImJvb2tNYXJrIiwiYXhpb3MiLCJkZWxldGVOb3RlIiwiaWQiLCJjb2RlTWlycm9yQ29tcG9uZW50IiwiVnVlIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJwcm9wcyIsIm1ldGhvZHMiLCJbb2JqZWN0IE9iamVjdF0iLCJtb3VudGVkIiwidm0iLCJ0aGlzIiwiY29uc29sZSIsImxvZyIsImxhbmciLCJlbGVtZW50IiwiJCIsIiRlbCIsIkNvZGVNaXJyb3IiLCJmcm9tVGV4dEFyZWEiLCJsaW5lTnVtYmVycyIsInN0eWxlQWN0aXZlTGluZSIsIm1hdGNoQnJhY2tldHMiLCJ2aWV3cG9ydE1hcmdpbiIsIkluZmluaXR5Iiwib24iLCJlZGl0b3IiLCIkZW1pdCIsImluZGV4IiwiZ2V0VmFsdWUiLCJiZWZvcmVEZXN0cm95IiwiY20iLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJzZXRPcHRpb24iLCJnZXRXcmFwcGVyRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImRlc3Ryb3llZCIsInNlbGVjdGl6ZSIsImRhdGEiLCJzZWxlY3RWYWx1ZSIsIm1heEl0ZW1zIiwiZGVsaW1pdGVyIiwicGVyc2lzdCIsIml0ZW1zIiwicmVuZGVyQ2FjaGUiLCJpbnB1dCIsIm5ld1RhZyIsInRleHQiLCJsb2FkIiwicXVlcnkiLCJjYWxsYmFjayIsImNsZWFyIiwiY2xlYXJPcHRpb25zIiwiYWpheCIsInVybCIsImNhY2hlIiwidHlwZSIsImVycm9yIiwic3VjY2VzcyIsInJlcyIsIm1vZGVsIiwic2xpY2UiLCJnZXRJdGVtIiwibWFwIiwib3B0aW9ucyIsIndhdGNoIiwiYXBwIiwiZWwiLCJtZXNzYWdlIiwibm9kZU1vZGVsIiwicHJvamVjdFR5cGUiLCJ0ZWNobm9sb2d5VHlwZSIsIm5vdGVUeXBlIiwibWFpbmJvZHkiLCJkZXNjIiwiY29tcG9uZW50S2V5IiwiY29tcG9uZW50cyIsIl9jb21wb25lbnRzX2NvZGVNaXJyb3JDb21wb25lbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9jb21wb25lbnRzX3NlbGVjdGl6ZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fIiwidXBkYXRlZCIsInBvc3QiLCJ0aGVuIiwicmVzcG9uc2UiLCJzZWxlY3QyIiwiY2F0Y2giLCJhbGVydCIsInZhcmlhYmxlIiwiaXRlbSIsInB1c2giLCJkb2N1bWVudCIsInJlYWR5Iiwid2luZG93IiwiZ2V0UHJvamVjdFZhbHVlIiwidGFncyIsImluaXRTZWxlY3Rpb24iLCJtYXhpbXVtSW5wdXRMZW5ndGgiLCJtYXhpbXVtU2VsZWN0aW9uU2l6ZSIsImRhdGFUeXBlIiwicXVpZXRNaWxsaXMiLCJ0ZXJtIiwicmVzdWx0cyIsImNyZWF0ZVNlYXJjaENob2ljZSIsImZpbHRlciIsImxvY2FsZUNvbXBhcmUiLCJtdWx0aXBsZSIsImUiLCJfbW9kZWxfbm90ZUpzTW9kZWxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImFjdGlvbiIsInNlYXJjaE1vZGVsIiwic2VhcmNoVGV4dEJveCIsImJveG1vZGVsIiwiZGVsZXRlTW9kYWxOb3RlIiwic2VhcmNoIiwibG9hZE5vdGUiLCJyZXNldCIsImZvckVhY2giLCIkbmV4dFRpY2siLCJwYXJlbnQiLCJjaGlsZHJlbiIsInNlbGN0b3IiLCJzZWxlIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm1vZGFsIiwiJGRlbGV0ZSIsInNjcm9sbCIsInNjcm9sbFRvcCIsImhlaWdodCIsInNldFRpbWVvdXQiLCJub3RlVXRpbGl0eUpzIiwiZWRpdEFyciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhdHRyIiwiY2xvbmUiLCJhcHBlbmRUbyIsImVhY2giLCJodG1sIiwidGFibGUiLCJjb2x1bW4iLCJkcmF3IiwiRGF0YVRhYmxlIiwib3JkZXJDZWxsc1RvcCIsImZpeGVkSGVhZGVyIiwiaWRjIiwidG9nZ2xlU2lkZWJhciIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJjb2xsYXBzZSIsInRleHRBcmVhQm9keSIsInJvdyIsImxhc3QiLCJhZnRlciIsImdldEVsZW1lbnRCeUlkIiwidmFsIiwiY2xpY2siLCJyZXN1bHQiLCJsb2NhdGlvbiIsImhyZWYiLCJyZXNpemUiLCJ3aWR0aCIsImUwIiwib3JpZ2luYWxFdmVudCIsImRlbHRhIiwid2hlZWxEZWx0YSIsImRldGFpbCIsInByZXZlbnREZWZhdWx0IiwiZmFkZUluIiwiZmFkZU91dCIsIiRhbmNob3IiLCJzdG9wIiwiYW5pbWF0ZSIsIm9mZnNldCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxP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b0JBS0F4SixFQUFBMkUsVUFBQWxFLEdBQUEsb0JBQ0FULEVBQUFMLE1BQUFzSCxZQUNBLElBQ0FqSCxFQUFBLGtCQUFBeUosU0FFQXpKLEVBQUEsa0JBQUEwSixZQUtBMUosRUFBQTJFLFVBQUFsRSxHQUFBLG1DQUFBa0YsR0FDQSxJQUFBZ0UsRUFBQTNKLEVBQUFMLE1BQ0FLLEVBQUEsY0FBQTRKLE9BQUFDLFFBQUEsQ0FDQTVDLFVBQUFqSCxFQUFBMkosRUFBQXBDLEtBQUEsU0FBQXVDLFNBQUEsS0FDSyxxQkFDTG5FLEVBQUE2RCxtQkFqSEEsQ0FvSENPIiwiZmlsZSI6ImRpc3QvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsInZhciBub3RlSnNNb2RlbCA9IHtcclxuICAgIHRlc3Q6IHtcclxuICAgICAgICBuYW1lOiBcIm1vc3RhZmFcIlxyXG4gICAgfSxcclxuICAgIGdldE5vdGVzOiBmdW5jdGlvbiAocGFnZSwgcGVyUGFnZSwgdGl0bGUsYm9va01hcmspIHtcclxuICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvR2V0Tm90ZXM/cGFnZT0nICsgcGFnZSArIFwiJnBlclBhZ2U9XCIgKyBwZXJQYWdlICsgdGl0bGUgKyBib29rTWFyaylcclxuICAgIH0sXHJcbiAgICBkZWxldGVOb3RlOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCcvRGVsZXRlTm90ZT9pZD0nICsgaWQpXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBub3RlSnNNb2RlbCB9OyIsIlxyXG5leHBvcnQgY29uc3QgY29kZU1pcnJvckNvbXBvbmVudCA9VnVlLmNvbXBvbmVudCgnY29kZS1taXJyb3InLCB7XHJcbiAgdGVtcGxhdGU6ICc8dGV4dGFyZWE+e3tib2R5fX08L3RleHRhcmVhPicsXHJcbiAgcHJvcHM6IFsnYm9keScsIFwibGFuZ1wiLFwiaW5kZXhcIl0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgbWV0aG9kVGhhdEZvcmNlc1VwZGF0ZSgpIHtcclxuICAgICAgLy8gLi4uXHJcbiAgICAgIC8vIE5vdGljZSB3ZSBoYXZlIHRvIHVzZSBhICQgaGVyZVxyXG4gICAgICAvLyAuLi5cclxuICAgIH1cclxuICB9LFxyXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB2bT0gdGhpcztcclxuICAgIGNvbnNvbGUubG9nKHRoaXMubGFuZylcclxuICAgIHZhciBlbGVtZW50ID0gJCh0aGlzLiRlbClcclxuICAgIHZhciBjb2RlID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZWxlbWVudFswXSwge1xyXG4gICAgICBtb2RlOiB0aGlzLmxhbmcsXHJcbiAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLFxyXG4gICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsXHJcbiAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXHJcbiAgICAgIHZpZXdwb3J0TWFyZ2luOiBJbmZpbml0eSxcclxuICAgIH0pLm9uKCdjaGFuZ2UnLCBlZGl0b3IgPT4ge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZyhlZGl0b3IuZ2V0VmFsdWUoKSk7XHJcbiAgICAgIHZtLiRlbWl0KFwiaW5wdXQtdGV4dC1hcmVhXCIsIHtcImluZGV4XCI6dm0uaW5kZXgsXCJ2YWx1ZVwiOmVkaXRvci5nZXRWYWx1ZSgpfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfSxcclxuICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhjbSlcclxuICAgIGxldCBpPTA7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgJCgnLkNvZGVNaXJyb3InKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgY20gPSAkKCcuQ29kZU1pcnJvcicpW2ldO1xyXG4gICAgICBpZiAoY20gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNtLkNvZGVNaXJyb3Iuc2V0T3B0aW9uKFwibW9kZVwiLCBcInRleHQveC1jc3JjXCIpO1xyXG4gICAgICAgIGNtLkNvZGVNaXJyb3IuZ2V0V3JhcHBlckVsZW1lbnQoKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNtLkNvZGVNaXJyb3IuZ2V0V3JhcHBlckVsZW1lbnQoKSk7XHJcbiAgICAgICAgY20uQ29kZU1pcnJvciA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIGRlc3Ryb3llZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICB9XHJcbn0pO1xyXG4iLCJleHBvcnQgY29uc3Qgc2VsZWN0aXplID0gVnVlLmNvbXBvbmVudCgnc2VsZWN0aXplJywge1xyXG4gICAgcHJvcHM6IFsnb3B0aW9ucycsICd2YWx1ZScsJ3VybCddLFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzZWxlY3RWYWx1ZTogJzEyMzQnLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGU6IGAgIFxyXG4gICAgPHNlbGVjdCA+XHJcbiAgICA8c2xvdD48L3Nsb3Q+XHJcbiAgICA8L3NlbGVjdD5gLFxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXNcclxuICAgICAgICB2YXIgcyA9ICQodGhpcy4kZWwpLnNlbGVjdGl6ZSh7XHJcbiAgICAgICAgICAgIG1heEl0ZW1zOiAxLFxyXG4gICAgICAgICAgICBkZWxpbWl0ZXI6ICcsJyxcclxuICAgICAgICAgICAgcGVyc2lzdDogZmFsc2UsXHJcbiAgICAgICAgICAgIGl0ZW1zOiBbXCJzZGZcIiwgXCJzZGZzZGZcIl0sXHJcbiAgICAgICAgICAgIHJlbmRlckNhY2hlOmZhbHNlLFxyXG4gICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDcmVhdGVcIilcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VGFnOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dCxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBpbnB1dFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb2FkOiBmdW5jdGlvbihxdWVyeSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tTE9BRC0tLVwiKVxyXG4gICAgICAgICAgICAgICAgaWYgKCFxdWVyeS5sZW5ndGgpIHJldHVybiBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB2bS51cmwgKyBcIj9xdWVyeT1cIitxdWVyeSxcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZTpmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLm1vZGVsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXMubW9kZWwuc2xpY2UoMCwxMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAkKHMpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRlYnVnZ2VyO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCBzWzBdLnNlbGVjdGl6ZSlcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGl6ZSA9IHNbMF0uc2VsZWN0aXplO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzWzBdLnNlbGVjdGl6ZS5pdGVtc1swXSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc1swXS5zZWxlY3RpemUuZ2V0VmFsdWUoKSlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc1swXS5zZWxlY3RpemUuZ2V0SXRlbSgpKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzWzBdLnNlbGVjdGl6ZS5pdGVtcylcclxuXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZF9vYmplY3RzID0gJC5tYXAoc2VsZWN0aXplLml0ZW1zLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGl6ZS5vcHRpb25zW3ZhbHVlXSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RpemUub3B0aW9uc1t2YWx1ZV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFZhbHVlID0gc1swXS5zZWxlY3RpemUuaXRlbXNbMF07XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHNbMF0uc2VsZWN0aXplKVxyXG5cclxuICAgICAgICAgICAgdm0uJGVtaXQoXCJpbnB1dC1kYXRhXCIsIHRoaXMuc2VsZWN0VmFsdWUpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICB3YXRjaDoge1xyXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmFsdWUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvcHRpb25zOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvcHRpb25zKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZXN0cm95ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAkKHRoaXMuJGVsKS5vZmYoKS5zZWxlY3QyKCdkZXN0cm95JylcclxuICAgIH1cclxufSlcclxuIiwiXHJcbmltcG9ydCB7IG5vdGVKc01vZGVsIH0gZnJvbSBcIi4vbW9kZWwvbm90ZUpzTW9kZWxcIlxyXG5pbXBvcnQgeyBjb2RlTWlycm9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb2RlTWlycm9yQ29tcG9uZW50XCJcclxuaW1wb3J0IHsgc2VsZWN0aXplIH0gZnJvbSBcIi4vY29tcG9uZW50cy9zZWxlY3RpemVcIlxyXG5cclxudmFyIGFwcCA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI2FuYXBwJyxcclxuICAvLyB0ZW1wbGF0ZTogJyNkZW1vLXRlbXBsYXRlJyxcclxuICBkYXRhOiB7XHJcbiAgICBtZXNzYWdlOiAnQ3JlYXRlIGEgTm90ZScsXHJcbiAgICBub2RlTW9kZWw6IHtcclxuICAgICAgYm9va01hcms6IGZhbHNlLFxyXG4gICAgICB0aXRsZTogXCJcIixcclxuICAgICAgcHJvamVjdFR5cGU6IHt9LFxyXG4gICAgICB0ZWNobm9sb2d5VHlwZToge30sXHJcbiAgICAgIG5vdGVUeXBlOiB7fSxcclxuICAgICAgbW9kZWw6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBtYWluYm9keTogXCJcIixcclxuICAgICAgICAgIGRlc2M6IFwiXCIsXHJcbiAgICAgICAgICBsYW5nOiBcImh0bWxtaXhlZFwiXHJcbiAgICAgICAgfV1cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnRLZXk6IDEsXHJcbiAgfSxcclxuICBjb21wb25lbnRzOiB7XHJcbiAgICBjb2RlTWlycm9yQ29tcG9uZW50LFxyXG4gICAgc2VsZWN0aXplXHJcbiAgfSxcclxuICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgc3VibWl0KCkge1xyXG5cclxuICAgICAgLy8gdmFyIG5vZGVNb2RlbCA9IGNvbnNvbGUubG9nKHRoaXMubm9kZU1vZGVsLm1vZGVsKTtcclxuICAgICAgYXhpb3MucG9zdCgnL1Bvc3RBZGROb3RlJywgeyBtb2RlbDogdGhpcy5ub2RlTW9kZWwgfSlcclxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgIHRoaXMubm9kZU1vZGVsID0ge1xyXG4gICAgICAgICAgICBib29rTWFyazogZmFsc2UsXHJcbiAgICAgICAgICAgIHRpdGxlOiBcIlwiLFxyXG4gICAgICAgICAgICBwcm9qZWN0VHlwZToge30sXHJcbiAgICAgICAgICAgIHRlY2hub2xvZ3lUeXBlOiB7fSxcclxuICAgICAgICAgICAgbm90ZVR5cGU6IHt9LFxyXG4gICAgICAgICAgICBtb2RlbDogW1xyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgZGVzYzogXCJcIixcclxuICAgICAgICAgICAgICAgIGxhbmc6IFwiaHRtbG1peGVkXCJcclxuICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgY29tcG9uZW50S2V5OiAxLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTtcclxuICAgICAgICAgICQoXCIjdGVjaG5vbG9neVwiKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xyXG4gICAgICAgICAgJChcIiNwcm9qZWN0XCIpLnNlbGVjdDIoXCJ2YWxcIiwgXCJcIik7XHJcbiAgICAgICAgICAkKFwiI25UeXBlXCIpLnNlbGVjdDIoXCJ2YWxcIiwgXCJcIik7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgYWxlcnQoZXJyb3IpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlVHlwZSh2YXJpYWJsZSkge1xyXG5cclxuICAgIH0sXHJcbiAgICB1cGRhdGVUZWNobm9sb2d5KHZhcmlhYmxlKSB7XHJcblxyXG4gICAgfSxcclxuICAgIHVwZGF0ZVByb2plY3RUeXBlKHZhcmlhYmxlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHZhcmlhYmxlKVxyXG4gICAgICB0aGlzLm5vZGVNb2RlbC5wcm9qZWN0VHlwZSA9IHZhcmlhYmxlO1xyXG4gICAgfSxcclxuICAgIHVwZGF0ZUNvZGVNaXJyb3JUZXh0KGl0ZW0pIHtcclxuICAgICAgY29uc29sZS5sb2coaXRlbSlcclxuICAgICAgdGhpcy5ub2RlTW9kZWwubW9kZWxbaXRlbS5pbmRleF0ubWFpbmJvZHkgPSBpdGVtLnZhbHVlXHJcbiAgICB9LFxyXG4gICAgYWRkKCkge1xyXG4gICAgICB0aGlzLm5vZGVNb2RlbC5tb2RlbC5wdXNoKHtcclxuICAgICAgICBtYWluYm9keTogXCJcIixcclxuICAgICAgICBkZXNjOiBcIlwiLFxyXG4gICAgICAgIGxhbmc6IFwiXCJcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9LFxyXG4gIG1vdW50ZWQoKSB7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgd2luZG93LmdldFByb2plY3RWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGRlYnVnZ2VyO1xyXG4gICAgdmFyIHMgPSAkKCcjcHJvamVjdCcpLnNlbGVjdDIoJ2RhdGEnKVxyXG4gICAgY29uc29sZS5sb2cocyk7XHJcbiAgICB2YXIgc3NzID0gc1swXS50ZXh0O1xyXG4gICAgcmV0dXJuIHNzcztcclxuICB9XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUHJvamVjdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAkKFwiI3Byb2plY3RcIikuc2VsZWN0Mih7XHJcbiAgICB0YWdzOiBbXSxcclxuICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICBpbml0U2VsZWN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgLy8gYXBwLnByb2plY3RUeXBlID0gZGF0YTtcclxuICAgICAgY29uc29sZS5sb2coYXBwLnByb2plY3RUeXBlKVxyXG4gICAgfSxcclxuICAgIC8vIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgIG1heGltdW1TZWxlY3Rpb25TaXplOiAxLFxyXG4gICAgYWpheDogeyAvLyBpbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHJlcXVlc3Qgd2UgdXNlIFNlbGVjdDIncyBjb252ZW5pZW50IGhlbHBlclxyXG4gICAgICB1cmw6IFwiL0dldFByb2plY3RUeXBlc1wiLFxyXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICBxdWlldE1pbGxpczogMTAwLFxyXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBxdWVyeTogdGVybSwgLy8gc2VhcmNoIHRlcm1cclxuICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICByZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFnZSkgeyAvLyBwYXJzZSB0aGUgcmVzdWx0cyBpbnRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgU2VsZWN0Mi5cclxuICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgcmV0dXJuIHsgcmVzdWx0czogZGF0YS5tb2RlbCB9O1xyXG4gICAgICB9LFxyXG4gICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZVNlYXJjaENob2ljZTogZnVuY3Rpb24gKHRlcm0sIGRhdGEpIHtcclxuICAgICAgaWYgKCQoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiB7IGlkOiBcIiQqTmV3VGFnKiRcIiwgdGV4dDogdGVybSB9O1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgfSkuc2VsZWN0MigndmFsJywgW10pLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBhcHAucHJvamVjdFR5cGUgPSBcIlwiO1xyXG4gICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKVswXTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGFwcC5ub2RlTW9kZWwucHJvamVjdFR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgYXBwLm5vZGVNb2RlbC5wcm9qZWN0VHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYXBwLnByb2plY3RUeXBlKVxyXG4gIH0pO1xyXG5cclxuXHJcbiAgLy8rKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrX1RlY2hub2xvZ3lfKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK1xyXG4gIC8vZGVsZXRlID0+ICAkKFwiI3RlY2hub2xvZ3lcIikuc2VsZWN0MihcInZhbFwiLCBcIlwiKTtcclxuICAkKFwiI3RlY2hub2xvZ3lcIikuc2VsZWN0Mih7XHJcbiAgICB0YWdzOiBbXSxcclxuICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICBpbml0U2VsZWN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgLy8gYXBwLnByb2plY3RUeXBlID0gZGF0YTtcclxuICAgIH0sXHJcbiAgICAvLyBtdWx0aXBsZTogdHJ1ZSxcclxuICAgIG1heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgICBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgdXJsOiBcIi9HZXRUZWNobm9sb2dpZXNcIixcclxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgZGF0YTogZnVuY3Rpb24gKHRlcm0sIHBhZ2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHVzaW5nIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9ucyB3ZSBkbyBub3QgbmVlZCB0byBhbHRlciB0aGUgcmVtb3RlIEpTT04gZGF0YVxyXG4gICAgICAgIHJldHVybiB7IHJlc3VsdHM6IGRhdGEubW9kZWwgfTtcclxuICAgICAgfSxcclxuICAgICAgLy8gY2FjaGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgIGlmICgkKGRhdGEpLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5sb2NhbGVDb21wYXJlKHRlcm0pID09PSAwO1xyXG4gICAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4geyBpZDogXCIkKk5ld1RhZyokXCIsIHRleHQ6IHRlcm0gfTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG11bHRpcGxlOiB0cnVlLFxyXG4gIH0pLnNlbGVjdDIoJ3ZhbCcsIFtdKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZWxlY3QyKCdkYXRhJylbMF07XHJcbiAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGFwcC5ub2RlTW9kZWwudGVjaG5vbG9neVR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgYXBwLm5vZGVNb2RlbC50ZWNobm9sb2d5VHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICB9XHJcblxyXG4gIH0pO1xyXG5cclxuICAvL0BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQF9Ob3RlVHlwZV9AQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAMlxyXG5cclxuXHJcblxyXG4gICQoXCIjblR5cGVcIikuc2VsZWN0Mih7XHJcbiAgICAvLyB0YWdzOiBbXSxcclxuICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICBpbml0U2VsZWN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgLy8gYXBwLnByb2plY3RUeXBlID0gZGF0YTtcclxuICAgICAgLy8gY29uc29sZS5sb2coYXBwLnByb2plY3RUeXBlKVxyXG4gICAgfSxcclxuICAgIC8vIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgLy9tYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgLy8gbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICBhamF4OiB7IC8vIGluc3RlYWQgb2Ygd3JpdGluZyB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB0aGUgcmVxdWVzdCB3ZSB1c2UgU2VsZWN0MidzIGNvbnZlbmllbnQgaGVscGVyXHJcbiAgICAgIHVybDogXCIvR2V0Tm90ZVR5cGVzXCIsXHJcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgIHF1aWV0TWlsbGlzOiAxMDAsXHJcbiAgICAgIGRhdGE6IGZ1bmN0aW9uICh0ZXJtLCBwYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHF1ZXJ5OiB0ZXJtLCAvLyBzZWFyY2ggdGVybVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYWdlKSB7IC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyLlxyXG4gICAgICAgIC8vIHNpbmNlIHdlIGFyZSB1c2luZyBjdXN0b20gZm9ybWF0dGluZyBmdW5jdGlvbnMgd2UgZG8gbm90IG5lZWQgdG8gYWx0ZXIgdGhlIHJlbW90ZSBKU09OIGRhdGFcclxuICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vIGNhY2hlOiB0cnVlXHJcbiAgICB9LFxyXG4gICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBmdW5jdGlvbiAodGVybSwgZGF0YSkge1xyXG4gICAgICBpZiAoJChkYXRhKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQubG9jYWxlQ29tcGFyZSh0ZXJtKSA9PT0gMDtcclxuICAgICAgfSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgaWQ6IFwiJCpOZXdUYWcqJFwiLCB0ZXh0OiB0ZXJtIH07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvL211bHRpcGxlOiB0cnVlLFxyXG4gIH0pLnNlbGVjdDIoJ3ZhbCcsICcnKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcblxyXG4gICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBhcHAubm9kZU1vZGVsLm5vdGVUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgIGFwcC5ub2RlTW9kZWwubm90ZVR5cGUuaWQgPSBkYXRhLmlkO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcblxyXG5cclxuICAvLyAkKFwiI1wiKS5zZWxlY3QyKHtcclxuICAvLyAgIHRhZ3M6IFtcInJlZFwiLCBcImdyZWVuXCIsIFwiYmx1ZVwiXSxcclxuICAvLyAgIG1heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgLy8gICBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMVxyXG5cclxuICAvLyB9KTtcclxuICAvLyAkKFwiI25vdGVcIikuc2VsZWN0Mih7XHJcbiAgLy8gICB0YWdzOiBbXCJyZWRcIiwgXCJncmVlblwiLCBcImJsdWVcIl0sXHJcbiAgLy8gICBtYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gIC8vICAgbWF4aW11bVNlbGVjdGlvblNpemU6IDFcclxuICAvLyB9KTtcclxuXHJcblxyXG4gIC8vICQoJy5tb3JlQ29udGVudCcpLm1vcmVDb250ZW50KCk7XHJcblxyXG5cclxuXHJcbiAgLy8gdmFyIHByZWxvYWRfZGF0YSA9IFtcclxuICAvLyAgIHsgaWQ6ICd1c2VyMCcsIHRleHQ6ICdEaXNhYmxlZCBVc2VyJywgbG9ja2VkOiB0cnVlIH1cclxuICAvLyAgICwgeyBpZDogJ3VzZXIxJywgdGV4dDogJ0phbmUgRG9lJyB9XHJcbiAgLy8gICAsIHsgaWQ6ICd1c2VyMicsIHRleHQ6ICdKb2huIERvZScsIGxvY2tlZDogdHJ1ZSB9XHJcbiAgLy8gICAsIHsgaWQ6ICd1c2VyMycsIHRleHQ6ICdSb2JlcnQgUGF1bHNvbicsIGxvY2tlZDogdHJ1ZSB9XHJcbiAgLy8gICAsIHsgaWQ6ICd1c2VyNScsIHRleHQ6ICdTcG9uZ2Vib2IgU3F1YXJlcGFudHMnIH1cclxuICAvLyAgICwgeyBpZDogJ3VzZXI2JywgdGV4dDogJ1BsYW5ldCBCb2InIH1cclxuICAvLyAgICwgeyBpZDogJ3VzZXI3JywgdGV4dDogJ0luaWdvIE1vbnRveWEnIH1cclxuICAvLyBdO1xyXG5cclxuXHJcbiAgLy8gJCgnI3cyJykuc2VsZWN0Mih7XHJcbiAgLy8gICB0aGVtZTogXCJib290c3RyYXA0XCIsIHRhZ3M6IHRydWUsIG11bHRpcGxlOiB0cnVlXHJcbiAgLy8gfSk7XHJcbiAgLy8gLy8gJCgnI3cnKS5zZWxlY3QyKHsgdGFnczogW1wicmVkXCIsIFwiZ3JlZW5cIiwgXCJibHVlXCJdIH0pO1xyXG4gIC8vIHZhciBsYXN0UmVzdWx0cyA9IFtdO1xyXG4gIC8vIHZhciBkYXRhID0gW3tcclxuICAvLyAgIFwiaWRcIjogMSxcclxuICAvLyAgIFwidGV4dFwiOiBcInRhZzFcIixcclxuICAvLyB9LCB7XHJcbiAgLy8gICBcImlkXCI6IDIsXHJcbiAgLy8gICBcInRleHRcIjogXCJ0YWcyXCIsXHJcbiAgLy8gfSwge1xyXG4gIC8vICAgXCJpZFwiOiAzLFxyXG4gIC8vICAgXCJ0ZXh0XCI6IFwiZ2FtZVwiLFxyXG4gIC8vIH0sIHtcclxuICAvLyAgIFwiaWRcIjogNCxcclxuICAvLyAgIFwidGV4dFwiOiBcImV4YW1wbGVcIixcclxuICAvLyB9LCB7XHJcbiAgLy8gICBcImlkXCI6IDUsXHJcbiAgLy8gICBcInRleHRcIjogXCJ0ZXN0XCIsXHJcbiAgLy8gfV07XHJcblxyXG4gIC8vICQoJyN3MicpLnNlbGVjdDIoe1xyXG4gIC8vICAgcGxhY2Vob2xkZXI6IFwiUHJvYmxlbSBUYWdzXCIsXHJcbiAgLy8gICBhbGxvd0NsZWFyOiB0cnVlLFxyXG4gIC8vICAgbWluaW11bUlucHV0TGVuZ3RoOiAyLFxyXG4gIC8vICAgdGFnczogdHJ1ZSxcclxuICAvLyAgIG11bHRpcGxlOiB0cnVlLFxyXG4gIC8vICAgd2lkdGg6IFwiMzAwcHhcIixcclxuICAvLyAgIHRhZ3M6IGRhdGEsXHJcbiAgLy8gICBjcmVhdGVUYWc6IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAvLyAgICAgdmFyIHRlcm0gPSAkLnRyaW0ocGFyYW1zLnRlcm0pO1xyXG4gIC8vICAgICBpZiAodGVybSA9PT0gJycpIHtcclxuICAvLyAgICAgICByZXR1cm4gbnVsbDtcclxuICAvLyAgICAgfVxyXG4gIC8vICAgICByZXR1cm4ge1xyXG4gIC8vICAgICAgIGlkOiB0ZXJtLFxyXG4gIC8vICAgICAgIHRleHQ6IHRlcm0sXHJcbiAgLy8gICAgICAgbmV3VGFnOiB0cnVlIC8vIGFkZCBhZGRpdGlvbmFsIHBhcmFtZXRlcnNcclxuICAvLyAgICAgfVxyXG4gIC8vICAgfVxyXG4gIC8vIH0pO1xyXG5cclxuICAvLyBpbml0aWFsIHZhbHVlc1xyXG4gIC8vICQoJy5hZGRUYWdzJykudmFsKFsnMicsICc1J10pLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cclxuICAvLyAkKFwiI2UxMlwiKS5zZWxlY3QyKHsgdGFnczogW1wicmVkXCIsIFwiZ3JlZW5cIiwgXCJibHVlXCJdLCB0aGVtZTogXCJib290c3RyYXA0XCIgfSk7XHJcblxyXG4gIC8vICQoJyN0YWdzJykuc2VsZWN0Mih7XHJcbiAgLy8gICBkYXRhOiBbXCJDbGFyZVwiLFwiQ29ya1wiLFwiU291dGggRHVibGluXCJdLFxyXG4gIC8vICAgICB0YWdzOiB0cnVlLFxyXG4gIC8vICAgICB0b2tlblNlcGFyYXRvcnM6IFsnLCddLCBcclxuICAvLyAgICAgcGxhY2Vob2xkZXI6IFwiQWRkIHlvdXIgdGFncyBoZXJlXCJcclxuICAvLyB9KTtcclxuXHJcbiAgLy8gJCgnI3Byb2plY3RUeXBlJykuc2VsZWN0aXplKHtcclxuICAvLyAgIG1heEl0ZW1zOiAxLFxyXG4gIC8vICAgZGVsaW1pdGVyOiAnLCcsXHJcbiAgLy8gICBwZXJzaXN0OiBmYWxzZSxcclxuICAvLyAgIC8vICBvcHRpb25zOiBbXHJcbiAgLy8gICAvLyAgICAge2VtYWlsOiAnYnJpYW5AdGhpcmRyb3V0ZS5jb20nLCB0ZXh0OiAnQnJpYW4gUmVhdmlzJ30sXHJcbiAgLy8gICAvLyAgICAge2VtYWlsOiAnbmlrb2xhQHRlc2xhLmNvbScsIHRleHQ6ICdOaWtvbGEgVGVzbGEnfSxcclxuICAvLyAgIC8vIF0sXHJcbiAgLy8gICBjcmVhdGU6IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gIC8vICAgICByZXR1cm4ge1xyXG4gIC8vICAgICAgIHZhbHVlOiBpbnB1dCxcclxuICAvLyAgICAgICB0ZXh0OiBpbnB1dFxyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9XHJcbiAgLy8gfSk7XHJcblxyXG4gIC8vICQoJyN0ZWNobm9sb2d5Jykuc2VsZWN0aXplKHtcclxuICAvLyAgIG1heEl0ZW1zOiAxLFxyXG4gIC8vICAgZGVsaW1pdGVyOiAnLCcsXHJcbiAgLy8gICBwZXJzaXN0OiBmYWxzZSxcclxuICAvLyAgIC8vICBvcHRpb25zOiBbXHJcbiAgLy8gICAvLyAgICAge2VtYWlsOiAnYnJpYW5AdGhpcmRyb3V0ZS5jb20nLCB0ZXh0OiAnQnJpYW4gUmVhdmlzJ30sXHJcbiAgLy8gICAvLyAgICAge2VtYWlsOiAnbmlrb2xhQHRlc2xhLmNvbScsIHRleHQ6ICdOaWtvbGEgVGVzbGEnfSxcclxuICAvLyAgIC8vIF0sXHJcbiAgLy8gICBjcmVhdGU6IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gIC8vICAgICByZXR1cm4ge1xyXG4gIC8vICAgICAgIHZhbHVlOiBpbnB1dCxcclxuICAvLyAgICAgICB0ZXh0OiBpbnB1dFxyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9XHJcbiAgLy8gfSk7XHJcblxyXG4gIC8vICQoJyN0eXBlJykuc2VsZWN0aXplKHtcclxuICAvLyAgIG1heEl0ZW1zOiAxLFxyXG4gIC8vICAgZGVsaW1pdGVyOiAnLCcsXHJcbiAgLy8gICBwZXJzaXN0OiBmYWxzZSxcclxuICAvLyAgIC8vICBvcHRpb25zOiBbXHJcbiAgLy8gICAvLyAgICAge2VtYWlsOiAnYnJpYW5AdGhpcmRyb3V0ZS5jb20nLCB0ZXh0OiAnQnJpYW4gUmVhdmlzJ30sXHJcbiAgLy8gICAvLyAgICAge2VtYWlsOiAnbmlrb2xhQHRlc2xhLmNvbScsIHRleHQ6ICdOaWtvbGEgVGVzbGEnfSxcclxuICAvLyAgIC8vIF0sXHJcbiAgLy8gICBjcmVhdGU6IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gIC8vICAgICByZXR1cm4ge1xyXG4gIC8vICAgICAgIHZhbHVlOiBpbnB1dCxcclxuICAvLyAgICAgICB0ZXh0OiBpbnB1dFxyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9XHJcbiAgLy8gfSk7XHJcblxyXG5cclxuICAvLyBcclxuICAvLyBcclxufSlcclxuIiwiaW1wb3J0IHsgbm90ZUpzTW9kZWwgfSBmcm9tIFwiLi9tb2RlbC9ub3RlSnNNb2RlbFwiXHJcbmltcG9ydCB7IGNvZGVNaXJyb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvZGVNaXJyb3JDb21wb25lbnRcIlxyXG5jb25zb2xlLmxvZyhub3RlSnNNb2RlbC50ZXN0Lm5hbWUpO1xyXG5cclxudmFyIGFjdGlvbiA9ICdpbmFjdGl2ZSc7XHJcbmxldCBwYWdlID0gMTtcclxudmFyIGFwcCA9IG5ldyBWdWUoe1xyXG4gIGVsOiAnI2FwcCcsXHJcbiAgZGF0YToge1xyXG4gICAgbWVzc2FnZTogJ0hlbGxvIFZ1ZSEnLFxyXG4gICAgc2VhcmNoTW9kZWw6IHtcclxuICAgICAgc2VhcmNoVGV4dEJveDogXCJcIixcclxuICAgICAgYm9va01hcms6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgYm94bW9kZWw6IFtdLFxyXG4gICAgZGVsZXRlTW9kYWxOb3RlOiB7XHJcbiAgICAgIGlkOiAwLFxyXG4gICAgICBpbmRleDogMCxcclxuICAgICAgdGV4dDogXCJcIlxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudEtleTogMCxcclxuXHJcbiAgfSxcclxuICBjb21wb25lbnRzOiB7XHJcbiAgICBjb2RlTWlycm9yQ29tcG9uZW50XHJcbiAgfSxcclxuICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgc2VhcmNoOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHBhZ2UgPSAxO1xyXG4gICAgICB0aGlzLmxvYWROb3RlKHBhZ2UsIHRydWUpO1xyXG4gICAgfSxcclxuICAgIGxvYWROb3RlKHBhZ2UsIHJlc2V0KSB7XHJcbiAgICAgIHZhciBwZXJQYWdlID0gODtcclxuICAgICAgbGV0IHRpdGxlID0gXCJcIjtcclxuICAgICAgbGV0IGJvb2tNYXJrID0gXCJcIjtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoTW9kZWwuc2VhcmNoVGV4dEJveClcclxuICAgICAgXHJcbiAgICAgIGlmICh0aGlzLnNlYXJjaE1vZGVsLnNlYXJjaFRleHRCb3ggIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLnNlYXJjaFRleHRCb3ggIT0gXCJcIilcclxuICAgICAgICB0aXRsZSA9IFwiJnRpdGxlPVwiICsgdGhpcy5zZWFyY2hNb2RlbC5zZWFyY2hUZXh0Qm94O1xyXG5cclxuICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwuYm9va01hcmsgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLmJvb2tNYXJrICE9IGZhbHNlKVxyXG4gICAgICAgIGJvb2tNYXJrID0gXCImYm9va01hcms9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLmJvb2tNYXJrO1xyXG5cclxuXHJcbiAgICAgIG5vdGVKc01vZGVsLmdldE5vdGVzKHBhZ2UsIHBlclBhZ2UsIHRpdGxlLCBib29rTWFyaylcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzZXQpIHtcclxuICAgICAgICAgICAgdGhpcy5ib3htb2RlbCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmJveG1vZGVsID0gcmVzcG9uc2UuZGF0YS5tb2RlbFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEubW9kZWwuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmJveG1vZGVsLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYWN0aW9uID0gJ2luYWN0aXZlJztcclxuICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gRE9NIGlzIG5vdyB1cGRhdGVkXHJcbiAgICAgICAgICAgIC8vIGB0aGlzYCBpcyBib3VuZCB0byB0aGUgY3VycmVudCBpbnN0YW5jZVxyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudEtleSArPSAxO1xyXG5cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9LFxyXG4gICAgT3BlbkNsb3NlTm90ZShpZCkge1xyXG4gICAgICB2YXIgaGVpZ3RoID0gXCIxMDBweFwiO1xyXG4gICAgICBkZWJ1Z2dlcjtcclxuICAgICAgJChcIiNvYy1cIiArIGlkKVxyXG4gICAgICBjb25zb2xlLmxvZygkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmNoaWxkcmVuKFwiLmNhcmRIZWlndGhcIikpXHJcbiAgICAgIHZhciBzZWxjdG9yID0gJChcIiNvYy1cIiArIGlkKTtcclxuICAgICAgdmFyIHNlbGUgPSAkKHNlbGN0b3IpLnBhcmVudCgpLnBhcmVudCgpXHJcbiAgICAgIHZhciBoID0gJChzZWxjdG9yKS5jc3MoXCJoZWlnaHRcIik7XHJcbiAgICAgIGlmIChoID09IGhlaWd0aCkge1xyXG4gICAgICAgICQoc2VsY3RvcikuY3NzKCdoZWlnaHQnLCAnYXV0bycpO1xyXG4gICAgICAgICQoc2VsY3RvcikuY3NzKCdvdmVyZmxvdy15JywgJ2hpZGRlbicpO1xyXG4gICAgICAgICQoc2VsZSkucmVtb3ZlQ2xhc3MoXCJjb2wtbGctNlwiKVxyXG4gICAgICAgICQoc2VsZSkuYWRkQ2xhc3MoXCJjb2wtbGctMTJcIilcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKHNlbGN0b3IpLmNzcygnaGVpZ2h0JywgaGVpZ3RoKTtcclxuICAgICAgICAkKHNlbGN0b3IpLmNzcygnb3ZlcmZsb3cteScsICdzY3JvbGwnKTtcclxuICAgICAgICAkKHNlbGUpLnJlbW92ZUNsYXNzKFwiY29sLWxnLTEyXCIpXHJcbiAgICAgICAgJChzZWxlKS5hZGRDbGFzcyhcImNvbC1sZy02XCIpXHJcbiAgICAgICAgLy8gJChzZWxjdG9yKS5hbmltYXRlKHtoZWlnaHQ6XCIxMDBweFwifSwgNDAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgLy8gQW5pbWF0aW9uIGNvbXBsZXRlLlxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuICAgIG9wZW5EZWxldGVNb2RhbChpZCwgaW5kZXgpIHtcclxuICAgICAgY29uc29sZS5sb2coaWQpXHJcbiAgICAgIHRoaXMuZGVsZXRlTW9kYWxOb3RlLmlkID0gaWQ7XHJcbiAgICAgIHRoaXMuZGVsZXRlTW9kYWxOb3RlLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgIGluZGV4XHJcbiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKCcjZGVsZXRlTW9kYWwnKS5tb2RhbCgndG9nZ2xlJyk7XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZGVsZXRlTm90ZShpZCwgaW5kZXgpIHtcclxuICAgICAgLy8gaWYgKGNvbmZpcm0oXCJXYW5uYSBEZWxldGU/XCIpKSB7XHJcbiAgICAgIG5vdGVKc01vZGVsLmRlbGV0ZU5vdGUoaWQpXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgICB0aGlzLiRkZWxldGUodGhpcy5ib3htb2RlbCwgaW5kZXgpXHJcbiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyNkZWxldGVNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIC8vVXBkYXRlIENvbXBvbmVudHMgYW5kIGV2ZXJ5VGhpbmdcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgLy8gfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgbW91bnRlZCgpIHtcclxuICAgIC8vIGFsZXJ0KFwibW91bnRlZFwiKVxyXG4gICAgdGhpcy5sb2FkTm90ZShwYWdlKTtcclxuICB9XHJcbn0pO1xyXG5cclxuXHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG5cclxuICBpZiAoKCQod2luZG93KS5zY3JvbGxUb3AoKSArICQod2luZG93KS5oZWlnaHQoKSA+ICQoZG9jdW1lbnQpLmhlaWdodCgpIC0gNSkgJiYgYWN0aW9uID09ICdpbmFjdGl2ZScpIHtcclxuICAgIGFjdGlvbiA9ICdhY3RpdmUnO1xyXG4gICAgLy8gIHN0YXJ0ID0gc3RhcnQgKyBsaW1pdDtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBwYWdlID0gcGFnZSArIDE7XHJcbiAgICAgIGFwcC5sb2FkTm90ZShwYWdlKTtcclxuICAgIH0sIDUwMCk7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG4kKCdib2R5Jykub24oJ2NsaWNrJywgJy5PcGVuQ2xvc2VOb3RlJywgZnVuY3Rpb24gKCkge1xyXG5cclxufSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIEluaXRpYWxpemUgbmFtZXNwYWNlICd1dGlsaXRpZXMnIChvciB1c2UgZXhpc3Rpbmcgb25lIGlmIHByZXNlbnQpXHJcbiAgICB3aW5kb3cubm90ZVV0aWxpdHlKcyA9IHdpbmRvdy5ub3RlVXRpbGl0eUpzIHx8IHt9O1xyXG4gIFxyXG5cclxuICAgIHZhciBlZGl0QXJyID0gW107XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1pcnJvckNvZGVcIikubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGxhbmcgPSAkKCQoXCIubWlycm9yQ29kZVwiKVtpXSkuYXR0cihcImxhbmdcIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibGFuZyA9IFwiICsgbGFuZyk7XHJcbiAgICAgIHZhciBlZGl0b3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWlycm9yQ29kZVwiKVtpXSwge1xyXG4gICAgICAgIG1vZGU6IGxhbmcsXHJcbiAgICAgICAgbGluZU51bWJlcnM6IHRydWUsXHJcbiAgICAgICAgc3R5bGVBY3RpdmVMaW5lOiB0cnVlLFxyXG4gICAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXHJcbiAgICAgICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LFxyXG4gICAgICB9KTtcclxuICAgICAgZWRpdEFyci5wdXNoKGVkaXRvcilcclxuICAgIH1cclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBTZXR1cCAtIGFkZCBhIHRleHQgaW5wdXQgdG8gZWFjaCBmb290ZXIgY2VsbFxyXG4gICAgICAgICQoJyNleGFtcGxlIHRoZWFkIHRyJykuY2xvbmUodHJ1ZSkuYXBwZW5kVG8oICcjZXhhbXBsZSB0aGVhZCcgKTtcclxuICAgICAgICAkKCcjZXhhbXBsZSB0aGVhZCB0cjplcSgxKSB0aCcpLmVhY2goIGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgIHZhciB0aXRsZSA9ICQodGhpcykudGV4dCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmh0bWwoICc8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCAnK3RpdGxlKydcIiAvPicgKTtcclxuICAgICBcclxuICAgICAgICAgICAgJCggJ2lucHV0JywgdGhpcyApLm9uKCAna2V5dXAgY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0YWJsZS5jb2x1bW4oaSkuc2VhcmNoKCkgIT09IHRoaXMudmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbHVtbihpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VhcmNoKCB0aGlzLnZhbHVlIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSApO1xyXG4gICAgICAgIH0gKTtcclxuICAgICBcclxuICAgICAgICB2YXIgdGFibGUgPSAkKCcjZXhhbXBsZScpLkRhdGFUYWJsZSgge1xyXG4gICAgICAgICAgICBvcmRlckNlbGxzVG9wOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXhlZEhlYWRlcjogdHJ1ZVxyXG4gICAgICAgIH0gKTtcclxuICAgIH0gKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7IC8vIFN0YXJ0IG9mIHVzZSBzdHJpY3RcbiAgdmFyIGlkYyA9IDE7XG4gICQoJ2JvZHknKS5vbignY2xpY2snLCAnI2FkZHByb2dyYW1taW5nbm90ZWJvZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gYWxlcnQoXCJzXCIpXG4gICAgZGVidWdnZXI7XG4gICAgbGV0IGlkID0gXCJjb2RlXCIgKyBpZGNcbiAgICBsZXQgaWRTZWxlY3QgPSBcImNvZGVcIiArIGlkY1xuXG4gICAgdmFyIHRleHRBcmVhQm9keSA9IGA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBub3RlLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPVwiYCsgaWQgKyBgXCIgcm93cz1cIjhcIiBuYW1lPSdjb2RlW2AgKyBpZGMgKyBgXVtib2R5XScgc3R5bGU9XCJtYXJnaW46IDEwcHg7IFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiXCIgY2xhc3M9XCJjb2RlIGZvcm0tY29udHJvbFwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXZgXG5cbiAgICB2YXIgcm93ID0gYDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC05XCI+PGlucHV0IGlkPVwiZXhhbXBsZUlucHV0RW1haWwxXCIgXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiZW1haWxIZWxwXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUaXRsZVwiIG5hbWU9XCJjb2RlW2ArIGlkYyArIGBdW2Rlc2NdXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgYm94LWlkPVwiYCsgaWQgKyBgXCIgIGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtMyBzZWxlY3RsYW5nXCI+XG4gICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbFwiIG5hbWU9XCJjb2RlW2ArIGlkYyArIGBdW2NvZGVsYW5nXVwiPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaHRtbG1peGVkXCI+SHRtbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC9jc3NcIj4gQ1NTPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L2phdmFzY3JpcHRcIj4gSmF2YVNjcmlwdDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LXNxbFwiPiBTUWw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1jc2hhcnBcIj4gQyM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1weXRob25cIj4gUHl0aG9uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtamF2YVwiPiBKYXZhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtcGhwXCI+IFBIUDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWMrK3NyY1wiPiBDKys8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1jc3JjXCI+IEM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1nb1wiPiBHbzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LXJzcmNcIj4gUjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYXBwbGljYXRpb24veC1wb3dlcnNoZWxsXCI+IFBvd2VyU2hlbGw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmBcblxuICAgICQoXCIubm90ZS1ib2R5XCIpLmxhc3QoKS5hZnRlcihyb3cgKyB0ZXh0QXJlYUJvZHkpO1xuXG4gICAgdmFyIGVkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSwge1xuICAgICAgbGluZU51bWJlcnM6IHRydWUsXG4gICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsXG4gICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxuICAgICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LFxuICAgICAgLy8gbW9kZTogXCJodG1sbWl4ZWRcIlxuICAgIH0pO1xuICAgIC8vIGVkaXRBcnIucHVzaChlZGl0b3IpXG4gICAgaWRjID0gaWRjICsgMTtcbiAgfSk7XG5cbiAgJCgnYm9keScpLm9uKCdjaGFuZ2UnLCAnLnNlbGVjdGxhbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHMgPSAkKHRoaXMpLmF0dHIoXCJib3gtaWRcIilcbiAgICB2YXIgdiA9ICQodGhpcykudmFsKClcbiAgICAvLyBhbGVydChzK3YpO1xuICB9KTtcblxuICAkKFwiI3NlYXJjaEJveEJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9ICQoXCIjc2VhcmNoQm94XCIpLnZhbCgpO1xuICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9Ob3Rlcz90aXRsZT1cIityZXN1bHQ7XG4gIH0pO1xuXG5cblxuICBmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xuICAgICQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwic2lkZWJhci10b2dnbGVkXCIpO1xuICAgICQoXCIuc2lkZWJhclwiKS50b2dnbGVDbGFzcyhcInRvZ2dsZWRcIik7XG4gICAgaWYgKCQoXCIuc2lkZWJhclwiKS5oYXNDbGFzcyhcInRvZ2dsZWRcIikpIHtcbiAgICAgICQoJy5zaWRlYmFyIC5jb2xsYXBzZScpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgfTtcbiAgfVxuICB0b2dnbGVTaWRlYmFyKCk7XG4gIC8vIFRvZ2dsZSB0aGUgc2lkZSBuYXZpZ2F0aW9uXG4gICQoXCIjc2lkZWJhclRvZ2dsZSwgI3NpZGViYXJUb2dnbGVUb3BcIikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICB0b2dnbGVTaWRlYmFyKCk7XG4gICAgLy8gJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJzaWRlYmFyLXRvZ2dsZWRcIik7XG4gICAgLy8gJChcIi5zaWRlYmFyXCIpLnRvZ2dsZUNsYXNzKFwidG9nZ2xlZFwiKTtcbiAgICAvLyBpZiAoJChcIi5zaWRlYmFyXCIpLmhhc0NsYXNzKFwidG9nZ2xlZFwiKSkge1xuICAgIC8vICAgJCgnLnNpZGViYXIgLmNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICAvLyB9O1xuICB9KTtcblxuICAvLyBDbG9zZSBhbnkgb3BlbiBtZW51IGFjY29yZGlvbnMgd2hlbiB3aW5kb3cgaXMgcmVzaXplZCBiZWxvdyA3NjhweFxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICQoJy5zaWRlYmFyIC5jb2xsYXBzZScpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gUHJldmVudCB0aGUgY29udGVudCB3cmFwcGVyIGZyb20gc2Nyb2xsaW5nIHdoZW4gdGhlIGZpeGVkIHNpZGUgbmF2aWdhdGlvbiBob3ZlcmVkIG92ZXJcbiAgJCgnYm9keS5maXhlZC1uYXYgLnNpZGViYXInKS5vbignbW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbCB3aGVlbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpID4gNzY4KSB7XG4gICAgICB2YXIgZTAgPSBlLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGRlbHRhID0gZTAud2hlZWxEZWx0YSB8fCAtZTAuZGV0YWlsO1xuICAgICAgdGhpcy5zY3JvbGxUb3AgKz0gKGRlbHRhIDwgMCA/IDEgOiAtMSkgKiAzMDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNjcm9sbCB0byB0b3AgYnV0dG9uIGFwcGVhclxuICAkKGRvY3VtZW50KS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxEaXN0YW5jZSA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG4gICAgaWYgKHNjcm9sbERpc3RhbmNlID4gMTAwKSB7XG4gICAgICAkKCcuc2Nyb2xsLXRvLXRvcCcpLmZhZGVJbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuc2Nyb2xsLXRvLXRvcCcpLmZhZGVPdXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNtb290aCBzY3JvbGxpbmcgdXNpbmcgalF1ZXJ5IGVhc2luZ1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnYS5zY3JvbGwtdG8tdG9wJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJGFuY2hvciA9ICQodGhpcyk7XG4gICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogKCQoJGFuY2hvci5hdHRyKCdocmVmJykpLm9mZnNldCgpLnRvcClcbiAgICB9LCAxMDAwLCAnZWFzZUluT3V0RXhwbycpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSk7XG5cbn0pKGpRdWVyeSk7IC8vIEVuZCBvZiB1c2Ugc3RyaWN0XG4iXSwic291cmNlUm9vdCI6IiJ9