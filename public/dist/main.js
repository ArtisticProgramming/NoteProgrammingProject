!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t,o){"use strict";o.r(t),o.d(t,"noteJsModel",function(){return n});var n={test:{name:"mostafa"},getNotes:function(e){return axios.get("/GetNotes?page="+e.page+"&perPage="+e.perPage+e.title+e.bookMark+e.noteType+e.projectName+e.technology+e.specificSubject)},deleteNote:function(e){return axios.get("/DeleteNote?id="+e)}}},function(e,t,o){"use strict";o.r(t),o.d(t,"codeMirrorComponent",function(){return n});const n=Vue.component("code-mirror",{template:"<textarea>{{body}}</textarea>",props:["body","lang","index"],methods:{methodThatForcesUpdate(){}},mounted:function(){var e=this,t=$(this.$el);CodeMirror.fromTextArea(t[0],{mode:this.lang,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0}).on("change",t=>{e.$emit("input-text-area",{index:e.index,value:t.getValue()})})},beforeDestroy:function(){let e=0;for(e=0;e<$(".CodeMirror").length;e++){var t=$(".CodeMirror")[e];void 0!==t&&(t.CodeMirror.setOption("mode","text/x-csrc"),t.CodeMirror.getWrapperElement().parentNode.removeChild(t.CodeMirror.getWrapperElement()),t.CodeMirror=null)}},destroyed:function(){}})},function(e,t,o){"use strict";o.r(t),o.d(t,"select2",function(){return n});const n=Vue.component("select2",{props:["options","value","url","multi"],data:()=>({selectValue:"1234"}),template:"<input /> ",mounted:function(){var e=this;n=$(this.$el).select2({placeholder:"Select a state",allowClear:!0,tags:"true"===e.multi?[]:void 0,maximumInputLength:30,maximumSelectionSize:1,initSelection:function(e,t){},ajax:{url:e.url,dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(console.log(),0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","true"===e.multi?[]:"").on("change",function(t){var o=$(this).select2("data");"true"===e.multi&&(o=$(this).select2("data")[0]),console.log("-----------------select 2 Data----------------------------"),console.log(o),null!=o?e.$emit("input-data",o):e.$emit("input-data",{text:"",id:""})})},watch:{value:function(e){console.log(e),""==e&&$(this.$el).select2("val","")},options:function(e){console.log(e)}},destroyed:function(){$(this.$el).off().select2("destroy")}})},function(e,t,o){"use strict";o.r(t),o.d(t,"utility",function(){return n});let n={getUrlParameter:function(e){var t,o,n=window.location.search.substring(1).split("&");for(o=0;o<n.length;o++)if((t=n[o].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}}},function(e,t,o){"use strict";o.r(t),o.d(t,"dropdowns",function(){return n});let n={enableNoteType:function(e){$("#nType").select2({initSelection:function(e,t){},ajax:{url:"/GetNoteTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}}}).select2("val","").on("change",function(t){var o=$(this).select2("data");console.log(o),void 0!==o&&(e.nodeModel.noteType.text=o.text,e.nodeModel.noteType.id=o.id)})},enableProject:function(e){$("#project").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetProjectTypes",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){e.projectType="";var o=$(this).select2("data")[0];console.log(o),void 0!==o&&(e.nodeModel.projectType.text=o.text,e.nodeModel.projectType.id=o.id),console.log(e.projectType)})},enableGeneralSubject:function(e){$("#technology").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetTechnologies",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){var o=$(this).select2("data")[0];void 0!==o&&(e.nodeModel.technologyType.text=o.text,e.nodeModel.technologyType.id=o.id)})},enableSpecificSubject:function(e){$("#specificSubject").select2({tags:[],initSelection:function(e,t){},maximumInputLength:30,maximumSelectionSize:1,ajax:{url:"/GetSpecificSubject",dataType:"json",quietMillis:100,data:function(e,t){return{query:e}},results:function(e,t){return{results:e.model}}},createSearchChoice:function(e,t){if(0===$(t).filter(function(){return 0===this.text.localeCompare(e)}).length)return{id:"$*NewTag*$",text:e}},multiple:!0}).select2("val",[]).on("change",function(t){var o=$(this).select2("data")[0];void 0!==o&&(e.nodeModel.specificSubject.text=o.text,e.nodeModel.specificSubject.id=o.id)})}}},function(e,t,o){o(6),o(7),o(8),o(9),o(10),o(0),o(1),o(2),o(3),e.exports=o(4)},function(e,t,o){"use strict";o.r(t);o(0);var n=o(1),i=o(2);window.EnableAddNode=function(){var e=new Vue({el:"#anapp",data:{selectedProject:"",selectedSpecificSubject:"",selectedGeneralSubject:"",selectedNoteType:"",message:"Create a Note",nodeModel:{bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}]},componentKey:1},components:{codeMirrorComponent:n.codeMirrorComponent,select2:i.select2},updated:function(){},methods:{submit(){axios.post("/PostAddNote",{model:this.nodeModel}).then(e=>{this.nodeModel={bookMark:!1,title:"",projectType:{},technologyType:{},specificSubject:{},noteType:{},model:[{mainbody:"",desc:"",lang:"htmlmixed"}],componentKey:1},this.componentKey+=1,this.selectedProject="",this.selectedNoteType="",this.selectedSpecificSubject="",this.selectedGeneralSubject=""}).catch(e=>{alert(e)})},getNoteTypeSelectValue(e){this.nodeModel.noteType.text=e.text,this.nodeModel.noteType.id=e.id,this.selectedNoteType=e.text},getProjectSelectValue(t){e.nodeModel.projectType.text=t.text,e.nodeModel.projectType.id=t.id,this.selectedProject=t.text},getGeneralSubjectSelectValue(t){e.nodeModel.technologyType.text=t.text,e.nodeModel.technologyType.id=t.id,this.selectedGeneralSubject=t.text},getSpecificSubjectSelectValue(t){e.nodeModel.specificSubject.text=t.text,e.nodeModel.specificSubject.id=t.id,this.selectedSpecificSubject=t.text},updateType(e){},updateTechnology(e){},updateProjectType(e){console.log(e),this.nodeModel.projectType=e},updateCodeMirrorText(e){console.log(e),this.nodeModel.model[e.index].mainbody=e.value},add(){this.nodeModel.model.push({mainbody:"",desc:"",lang:""})}},beforeCreate(){console.log("Nothing gets called before me!")},created(){console.log("created ")},mounted(){}})}},function(e,t,o){"use strict";o.r(t);var n=o(0),i=o(1),l=o(3),c=(o(4),o(2));window.EnableVusJs=function(){console.log(n.noteJsModel.test.name);var e="inactive",t=1,o=new Vue({el:"#app",data:{noteType:{},message:"Hello Vue!",searchModel:{searchTextBox:"",bookMark:!1,noteType:"",projectName:"",technology:"",specificSubject:""},boxmodel:[],deleteModalNote:{id:0,index:0,text:""},componentKey:0},components:{codeMirrorComponent:i.codeMirrorComponent,select2:c.select2},updated:function(){},methods:{getNoteTypeSelectValue(e){this.searchModel.noteType=e.text,this.search()},getProjectSelectValue(e){this.searchModel.projectName=e.text,this.search()},getGeneralSubjectSelectValue(e){this.searchModel.technology=e.text,this.search()},getSpecificSubjectSelectValue(e){this.searchModel.specificSubject=e.text,this.search()},search:function(){t=1,this.loadNote(t,!0)},loadNote(t,o){console.log("LLLLLLLLLLLLLLLLOOODDD");var i={page:t,perPage:8,title:"",bookMark:"",noteType:"",projectName:"",technology:"",specificSubject:""};console.log(this.searchModel.searchTextBox),void 0!==this.searchModel.searchTextBox&&""!=this.searchModel.searchTextBox&&(i.title="&title="+this.searchModel.searchTextBox),void 0!==this.searchModel.bookMark&&0!=this.searchModel.bookMark&&(i.bookMark="&bookMark="+this.searchModel.bookMark),void 0!==this.searchModel.noteType&&0!=this.searchModel.noteType&&(i.noteType="&noteType="+this.searchModel.noteType),void 0!==this.searchModel.projectName&&0!=this.searchModel.projectName&&(i.projectName="&projectName="+this.searchModel.projectName),void 0!==this.searchModel.technology&&0!=this.searchModel.technology&&(i.technology="&technology="+this.searchModel.technology),void 0!==this.searchModel.specificSubject&&0!=this.searchModel.specificSubject&&(i.specificSubject="&specificSubject="+this.searchModel.specificSubject),n.noteJsModel.getNotes(i).then(t=>{o?(this.boxmodel=[],this.boxmodel=t.data.model):t.data.model.forEach(e=>{this.boxmodel.push(e)}),e="inactive",this.$nextTick(function(){this.componentKey+=1})})},OpenCloseNote(e){$("#oc-"+e),console.log($(this).parent().parent().children(".cardHeigth"));var t=$("#oc-"+e),o=$(t).parent().parent();return"100px"==$(t).css("height")?($(t).css("height","auto"),$(t).css("overflow-y","hidden"),$(o).removeClass("col-lg-6"),$(o).addClass("col-lg-12")):($(t).css("height","100px"),$(t).css("overflow-y","scroll"),$(o).removeClass("col-lg-12"),$(o).addClass("col-lg-6")),!1},openDeleteModal(e,t){console.log(e),this.deleteModalNote.id=e,this.deleteModalNote.index=t,this.$nextTick(function(){$("#deleteModal").modal("toggle")})},deleteNote(e,t){n.noteJsModel.deleteNote(e).then(e=>{this.$delete(this.boxmodel,t),this.$nextTick(function(){$("#deleteModal").modal("hide"),this.componentKey+=1})})}},created:function(){},mounted(){console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),console.log("page=>"),console.log(l.utility.getUrlParameter("project")),this.loadNote(t)}});$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-5&&"inactive"==e&&(e="active",setTimeout(function(){t+=1,o.loadNote(t)},500))}),$(document).ready(function(){$("#searchTxt").focus()}),$("body").on("click",".OpenCloseNote",function(){})}},function(e,t){!function(){window.noteUtilityJs=window.noteUtilityJs||{};var e=[];for(i=0;i<document.getElementsByClassName("mirrorCode").length;i++){var t=$($(".mirrorCode")[i]).attr("lang");console.log("lang = "+t);var o=CodeMirror.fromTextArea(document.getElementsByClassName("mirrorCode")[i],{mode:t,lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});e.push(o)}$(document).ready(function(){$("#example thead tr").clone(!0).appendTo("#example thead"),$("#example thead tr:eq(1) th").each(function(t){var o=$(this).text();$(this).html('<input type="text" placeholder="Search '+o+'" />'),$("input",this).on("keyup change",function(){e.column(t).search()!==this.value&&e.column(t).search(this.value).draw()})});var e=$("#example").DataTable({orderCellsTop:!0,fixedHeader:!0})})}()},function(e,t){!function(e){"use strict";var t=1;function o(){e("body").toggleClass("sidebar-toggled"),e(".sidebar").toggleClass("toggled"),e(".sidebar").hasClass("toggled")&&e(".sidebar .collapse").collapse("hide")}e("body").on("click","#addprogrammingnotebody",function(){let o="code"+t;var n='<div class="form-group note-body">\n                          <textarea id="'+o+'" rows="8" name=\'code['+t+'][body]\' style="margin: 10px; "\n                          value="" class="code form-control"></textarea>\n                      </div',i='<div class="row">\n            <div class="form-group col-md-9"><input id="exampleInputEmail1" \n                type="text" aria-describedby="emailHelp"\n                    placeholder="Title" name="code['+t+'][desc]" class="form-control"></div>\n            <div box-id="'+o+'"  class="form-group col-md-3 selectlang">\n            <select class="form-control form-control" name="code['+t+'][codelang]">\n                    <option value="htmlmixed">Html</option>\n                    <option value="text/css"> CSS</option>\n                    <option value="text/javascript"> JavaScript</option>\n                    <option value="text/x-sql"> SQl</option>\n                    <option value="text/x-csharp"> C#</option>\n                    <option value="text/x-python"> Python</option>\n                    <option value="text/x-java"> Java</option>\n                    <option value="text/x-php"> PHP</option>\n                    <option value="text/x-c++src"> C++</option>\n                    <option value="text/x-csrc"> C</option>\n                    <option value="text/x-go"> Go</option>\n                    <option value="text/x-rsrc"> R</option>\n                    <option value="application/x-powershell"> PowerShell</option>\n                </select></div>\n            </div>';e(".note-body").last().after(i+n);CodeMirror.fromTextArea(document.getElementById(o),{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0});t+=1}),e("body").on("change",".selectlang",function(){e(this).attr("box-id"),e(this).val()}),e("#searchBoxBtn").click(function(){var t=e("#searchBox").val();location.href="/Notes?title="+t}),o(),e("#sidebarToggle, #sidebarToggleTop").on("click",function(e){o()}),e(window).resize(function(){e(window).width()<768&&e(".sidebar .collapse").collapse("hide")}),e("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(t){if(e(window).width()>768){var o=t.originalEvent,n=o.wheelDelta||-o.detail;this.scrollTop+=30*(n<0?1:-1),t.preventDefault()}}),e(document).on("scroll",function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()}),e(document).on("click","a.scroll-to-top",function(t){var o=e(this);e("html, body").stop().animate({scrollTop:e(o.attr("href")).offset().top},1e3,"easeInOutExpo"),t.preventDefault()})}(jQuery)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9tb2RlbC9ub3RlSnNNb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbXBvbmVudHMvc2VsZWN0Mi5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL2NvbW1vbi91dGlsaXR5SnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9jb21tb24vZHJvcGRvd25zSnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9BZGROb3RlSnMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2FwcC9Ob3Rlc0pzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9hcHAvTm90ZVV0aWxpdHlKcy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvYXBwL3NiLWFkbWluLTIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwibm90ZUpzTW9kZWwiLCJ0ZXN0IiwiZ2V0Tm90ZXMiLCJwYXJhbSIsImF4aW9zIiwicGFnZSIsInBlclBhZ2UiLCJ0aXRsZSIsImJvb2tNYXJrIiwibm90ZVR5cGUiLCJwcm9qZWN0TmFtZSIsInRlY2hub2xvZ3kiLCJzcGVjaWZpY1N1YmplY3QiLCJkZWxldGVOb3RlIiwiaWQiLCJjb2RlTWlycm9yQ29tcG9uZW50IiwiVnVlIiwiY29tcG9uZW50IiwidGVtcGxhdGUiLCJwcm9wcyIsIm1ldGhvZHMiLCJbb2JqZWN0IE9iamVjdF0iLCJtb3VudGVkIiwidm0iLCJ0aGlzIiwiZWxlbWVudCIsIiQiLCIkZWwiLCJDb2RlTWlycm9yIiwiZnJvbVRleHRBcmVhIiwibGFuZyIsImxpbmVOdW1iZXJzIiwic3R5bGVBY3RpdmVMaW5lIiwibWF0Y2hCcmFja2V0cyIsInZpZXdwb3J0TWFyZ2luIiwiSW5maW5pdHkiLCJvbiIsImVkaXRvciIsIiRlbWl0IiwiaW5kZXgiLCJnZXRWYWx1ZSIsImJlZm9yZURlc3Ryb3kiLCJsZW5ndGgiLCJjbSIsInVuZGVmaW5lZCIsInNldE9wdGlvbiIsImdldFdyYXBwZXJFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZGVzdHJveWVkIiwic2VsZWN0MiIsImRhdGEiLCJzZWxlY3RWYWx1ZSIsInBsYWNlaG9sZGVyIiwiYWxsb3dDbGVhciIsInRhZ3MiLCJtdWx0aSIsIm1heGltdW1JbnB1dExlbmd0aCIsIm1heGltdW1TZWxlY3Rpb25TaXplIiwiaW5pdFNlbGVjdGlvbiIsImNhbGxiYWNrIiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwicXVpZXRNaWxsaXMiLCJ0ZXJtIiwicXVlcnkiLCJyZXN1bHRzIiwibW9kZWwiLCJjcmVhdGVTZWFyY2hDaG9pY2UiLCJjb25zb2xlIiwibG9nIiwiZmlsdGVyIiwidGV4dCIsImxvY2FsZUNvbXBhcmUiLCJlIiwid2F0Y2giLCJvcHRpb25zIiwib2ZmIiwidXRpbGl0eSIsImdldFVybFBhcmFtZXRlciIsInNQYXJhbSIsInNQYXJhbWV0ZXJOYW1lIiwic1VSTFZhcmlhYmxlcyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJkcm9wZG93bnMiLCJlbmFibGVOb3RlVHlwZSIsImFwcCIsIm5vZGVNb2RlbCIsImVuYWJsZVByb2plY3QiLCJtdWx0aXBsZSIsInByb2plY3RUeXBlIiwiZW5hYmxlR2VuZXJhbFN1YmplY3QiLCJ0ZWNobm9sb2d5VHlwZSIsImVuYWJsZVNwZWNpZmljU3ViamVjdCIsIkVuYWJsZUFkZE5vZGUiLCJlbCIsInNlbGVjdGVkUHJvamVjdCIsInNlbGVjdGVkU3BlY2lmaWNTdWJqZWN0Iiwic2VsZWN0ZWRHZW5lcmFsU3ViamVjdCIsInNlbGVjdGVkTm90ZVR5cGUiLCJtZXNzYWdlIiwibWFpbmJvZHkiLCJkZXNjIiwiY29tcG9uZW50S2V5IiwiY29tcG9uZW50cyIsIl9jb21wb25lbnRzX2NvZGVNaXJyb3JDb21wb25lbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9jb21wb25lbnRzX3NlbGVjdDJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsInVwZGF0ZWQiLCJwb3N0IiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giLCJlcnJvciIsImFsZXJ0IiwidmFyaWFibGUiLCJpdGVtIiwicHVzaCIsIl9tb2RlbF9ub3RlSnNNb2RlbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX2NvbW1vbl91dGlsaXR5SnNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfXyIsIl9jb21wb25lbnRzX3NlbGVjdDJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfXyIsIkVuYWJsZVZ1c0pzIiwiYWN0aW9uIiwic2VhcmNoTW9kZWwiLCJzZWFyY2hUZXh0Qm94IiwiYm94bW9kZWwiLCJkZWxldGVNb2RhbE5vdGUiLCJsb2FkTm90ZSIsInJlc2V0IiwiZm9yRWFjaCIsIiRuZXh0VGljayIsInBhcmVudCIsImNoaWxkcmVuIiwic2VsY3RvciIsInNlbGUiLCJjc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwibW9kYWwiLCIkZGVsZXRlIiwiY3JlYXRlZCIsInNjcm9sbCIsInNjcm9sbFRvcCIsImhlaWdodCIsImRvY3VtZW50Iiwic2V0VGltZW91dCIsInJlYWR5IiwiZm9jdXMiLCJub3RlVXRpbGl0eUpzIiwiZWRpdEFyciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhdHRyIiwiY2xvbmUiLCJhcHBlbmRUbyIsImVhY2giLCJodG1sIiwidGFibGUiLCJjb2x1bW4iLCJkcmF3IiwiRGF0YVRhYmxlIiwib3JkZXJDZWxsc1RvcCIsImZpeGVkSGVhZGVyIiwiaWRjIiwidG9nZ2xlU2lkZWJhciIsInRvZ2dsZUNsYXNzIiwiaGFzQ2xhc3MiLCJjb2xsYXBzZSIsInRleHRBcmVhQm9keSIsInJvdyIsImxhc3QiLCJhZnRlciIsImdldEVsZW1lbnRCeUlkIiwidmFsIiwiY2xpY2siLCJyZXN1bHQiLCJocmVmIiwicmVzaXplIiwid2lkdGgiLCJlMCIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YSIsIndoZWVsRGVsdGEiLCJkZXRhaWwiLCJwcmV2ZW50RGVmYXVsdCIsImZhZGVJbiIsImZhZGVPdXQiLCIkYW5jaG9yIiwic3RvcCIsImFuaW1hdGUiLCJvZmZzZXQiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtB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RUFBQTBELFFBQUFrRyxRQUFBLEtBQ0EsSUFBQUMsRUFBQTVHLEVBQUE2RyxjQUNBQyxFQUFBRixFQUFBRyxhQUFBSCxFQUFBSSxPQUNBbkssS0FBQTJILFdBQUEsSUFBQXNDLEVBQUEsUUFDQTlHLEVBQUFpSCxvQkFLQWxLLEVBQUEySCxVQUFBakgsR0FBQSxvQkFDQVYsRUFBQUYsTUFBQTJILFlBQ0EsSUFDQXpILEVBQUEsa0JBQUFtSyxTQUVBbkssRUFBQSxrQkFBQW9LLFlBS0FwSyxFQUFBMkgsVUFBQWpILEdBQUEsbUNBQUF1QyxHQUNBLElBQUFvSCxFQUFBckssRUFBQUYsTUFDQUUsRUFBQSxjQUFBc0ssT0FBQUMsUUFBQSxDQUNBOUMsVUFBQXpILEVBQUFxSyxFQUFBbkMsS0FBQSxTQUFBc0MsU0FBQSxLQUNLLHFCQUNMdkgsRUFBQWlILG1CQWpIQSxDQW9IQ08iLCJmaWxlIjoiZGlzdC9tYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwidmFyIG5vdGVKc01vZGVsID0ge1xyXG4gICAgdGVzdDoge1xyXG4gICAgICAgIG5hbWU6IFwibW9zdGFmYVwiXHJcbiAgICB9LFxyXG4gICAgZ2V0Tm90ZXM6IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICAgIHJldHVybiBheGlvcy5nZXQoJy9HZXROb3Rlcz9wYWdlPScgK3BhcmFtLnBhZ2UgKyBcIiZwZXJQYWdlPVwiXHJcbiAgICAgICAgICsgcGFyYW0ucGVyUGFnZSBcclxuICAgICAgICAgKyBwYXJhbS50aXRsZSBcclxuICAgICAgICAgKyBwYXJhbS5ib29rTWFyayBcclxuICAgICAgICAgKyBwYXJhbS5ub3RlVHlwZVxyXG4gICAgICAgICArIHBhcmFtLnByb2plY3ROYW1lXHJcbiAgICAgICAgICsgcGFyYW0udGVjaG5vbG9neVxyXG4gICAgICAgICArIHBhcmFtLnNwZWNpZmljU3ViamVjdFxyXG4gICAgICAgICApXHJcbiAgICB9LFxyXG4gICAgZGVsZXRlTm90ZTogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnL0RlbGV0ZU5vdGU/aWQ9JyArIGlkKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHsgbm90ZUpzTW9kZWwgfTsiLCJcclxuZXhwb3J0IGNvbnN0IGNvZGVNaXJyb3JDb21wb25lbnQgPVZ1ZS5jb21wb25lbnQoJ2NvZGUtbWlycm9yJywge1xyXG4gIHRlbXBsYXRlOiAnPHRleHRhcmVhPnt7Ym9keX19PC90ZXh0YXJlYT4nLFxyXG4gIHByb3BzOiBbJ2JvZHknLCBcImxhbmdcIixcImluZGV4XCJdLFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIG1ldGhvZFRoYXRGb3JjZXNVcGRhdGUoKSB7XHJcbiAgICAgIC8vIC4uLlxyXG4gICAgICAvLyBOb3RpY2Ugd2UgaGF2ZSB0byB1c2UgYSAkIGhlcmVcclxuICAgICAgLy8gLi4uXHJcbiAgICB9XHJcbiAgfSxcclxuICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdm09IHRoaXM7XHJcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxhbmcpXHJcbiAgICB2YXIgZWxlbWVudCA9ICQodGhpcy4kZWwpXHJcbiAgICB2YXIgY29kZSA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGVsZW1lbnRbMF0sIHtcclxuICAgICAgbW9kZTogdGhpcy5sYW5nLFxyXG4gICAgICBsaW5lTnVtYmVyczogdHJ1ZSxcclxuICAgICAgc3R5bGVBY3RpdmVMaW5lOiB0cnVlLFxyXG4gICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxyXG4gICAgICB2aWV3cG9ydE1hcmdpbjogSW5maW5pdHksXHJcbiAgICB9KS5vbignY2hhbmdlJywgZWRpdG9yID0+IHtcclxuICAgICAgLy8gY29uc29sZS5sb2coZWRpdG9yLmdldFZhbHVlKCkpO1xyXG4gICAgICB2bS4kZW1pdChcImlucHV0LXRleHQtYXJlYVwiLCB7XCJpbmRleFwiOnZtLmluZGV4LFwidmFsdWVcIjplZGl0b3IuZ2V0VmFsdWUoKX0pO1xyXG4gICAgfSk7XHJcblxyXG4gIH0sXHJcbiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gY29uc29sZS5sb2coY20pXHJcbiAgICBsZXQgaT0wO1xyXG4gICAgZm9yIChpID0gMDsgaSA8ICQoJy5Db2RlTWlycm9yJykubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGNtID0gJCgnLkNvZGVNaXJyb3InKVtpXTtcclxuICAgICAgaWYgKGNtICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBjbS5Db2RlTWlycm9yLnNldE9wdGlvbihcIm1vZGVcIiwgXCJ0ZXh0L3gtY3NyY1wiKTtcclxuICAgICAgICBjbS5Db2RlTWlycm9yLmdldFdyYXBwZXJFbGVtZW50KCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbS5Db2RlTWlycm9yLmdldFdyYXBwZXJFbGVtZW50KCkpO1xyXG4gICAgICAgIGNtLkNvZGVNaXJyb3IgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfVxyXG59KTtcclxuIiwiZXhwb3J0IGNvbnN0IHNlbGVjdDIgPSBWdWUuY29tcG9uZW50KCdzZWxlY3QyJywge1xyXG4gIHByb3BzOiBbJ29wdGlvbnMnLCAndmFsdWUnLCAndXJsJywgJ211bHRpJ10sXHJcbiAgZGF0YSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNlbGVjdFZhbHVlOiAnMTIzNCcsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgXHJcbiAgdGVtcGxhdGU6IGA8aW5wdXQgLz4gYCxcclxuXHJcbiAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciB2bSA9IHRoaXNcclxuICAgIHNlbGVjdDIgPSAkKHRoaXMuJGVsKS5zZWxlY3QyKHtcclxuICAgICAgcGxhY2Vob2xkZXI6IFwiU2VsZWN0IGEgc3RhdGVcIixcclxuICAgICAgYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgICAgIHRhZ3M6IHZtLm11bHRpPT09XCJ0cnVlXCIgPyBbXTogIHVuZGVmaW5lZCxcclxuICAgICAgIG1heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgICAgICBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgICAgaW5pdFNlbGVjdGlvbjogZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgIC8vIGFwcC5wcm9qZWN0VHlwZSA9IGRhdGE7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYXBwLnByb2plY3RUeXBlKVxyXG4gICAgICB9LFxyXG4gICAgICAvLyBtdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgLy9tYXhpbXVtSW5wdXRMZW5ndGg6IDMwLFxyXG4gICAgICAvLyBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgICAgYWpheDogeyAvLyBpbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHJlcXVlc3Qgd2UgdXNlIFNlbGVjdDIncyBjb252ZW5pZW50IGhlbHBlclxyXG4gICAgICAgIHVybDogdm0udXJsLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coKVxyXG4gICAgICAgIGlmICgkKGRhdGEpLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0LmxvY2FsZUNvbXBhcmUodGVybSkgPT09IDA7XHJcbiAgICAgICAgfSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4geyBpZDogXCIkKk5ld1RhZyokXCIsIHRleHQ6IHRlcm0gfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vbXVsdGlwbGU6IHRydWUsXHJcbiAgICB9KS5zZWxlY3QyKCd2YWwnLCAgdm0ubXVsdGk9PT1cInRydWVcIiA/IFtdOiAgJycpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5zZWxlY3QyKCdkYXRhJyk7XHJcbiAgICAgIGlmICh2bS5tdWx0aT09PVwidHJ1ZVwiKVxyXG4gICAgICB7XHJcbiAgICAgICAgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpWzBdO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS1zZWxlY3QgMiBEYXRhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKVxyXG4gICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkICYmIGRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICB2bS4kZW1pdChcImlucHV0LWRhdGFcIiwgZGF0YSk7XHJcbiAgICAgICAgLy8gICBhcHAubm9kZU1vZGVsLm5vdGVUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgLy8gICBhcHAubm9kZU1vZGVsLm5vdGVUeXBlLmlkID0gZGF0YS5pZDtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIHZtLiRlbWl0KFwiaW5wdXQtZGF0YVwiLCB7dGV4dDpcIlwiLGlkOlwiXCJ9KTtcclxuICAgICAgfVxyXG5cclxuICAgIH0pXHJcblxyXG4gIFxyXG5cclxuICBcclxuICB9LFxyXG4gIHdhdGNoOiB7XHJcbiAgICB2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKVxyXG4gICAgICBpZiAodmFsdWUgPT0gXCJcIikge1xyXG4gICAgICAgICQodGhpcy4kZWwpLnNlbGVjdDIoXCJ2YWxcIiwgXCJcIik7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvcHRpb25zOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICBjb25zb2xlLmxvZyhvcHRpb25zKVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgZGVzdHJveWVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMuJGVsKS5vZmYoKS5zZWxlY3QyKCdkZXN0cm95JylcclxuICB9XHJcbn0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIGV4cG9ydCBjb25zdCBzZWxlY3RpemUgPSBWdWUuY29tcG9uZW50KCdzZWxlY3RpemUnLCB7XHJcbi8vICAgICBwcm9wczogWydvcHRpb25zJywgJ3ZhbHVlJ10sXHJcbi8vICAgICB0ZW1wbGF0ZTogYCAgXHJcbi8vICAgICA8c2VsZWN0PlxyXG4vLyAgICAgPHNsb3Q+PC9zbG90PlxyXG4vLyAgICAgPC9zZWxlY3Q+YCxcclxuLy8gICAgIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICBkZWJ1Z2dlclxyXG4vLyAgICAgICAgIHZhciB2bSA9IHRoaXNcclxuLy8gICAgICAgICAkKHRoaXMuJGVsKS5zZWxlY3RpemUoe1xyXG4vLyAgICAgICAgICAgICBtYXhJdGVtczogNCxcclxuLy8gICAgICAgICAgICAgZGVsaW1pdGVyOiAnLCcsXHJcbi8vICAgICAgICAgICAgIHBlcnNpc3Q6IGZhbHNlLFxyXG4vLyAgICAgICAgICAgICAvLyAgb3B0aW9uczogW1xyXG4vLyAgICAgICAgICAgICAvLyAgICAge2VtYWlsOiAnYnJpYW5AdGhpcmRyb3V0ZS5jb20nLCB0ZXh0OiAnQnJpYW4gUmVhdmlzJ30sXHJcbi8vICAgICAgICAgICAgIC8vICAgICB7ZW1haWw6ICduaWtvbGFAdGVzbGEuY29tJywgdGV4dDogJ05pa29sYSBUZXNsYSd9LFxyXG4vLyAgICAgICAgICAgICAvLyBdLFxyXG4vLyAgICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4vLyAgICAgICAgICAgICAgIHJldHVybiB7XHJcbi8vICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXQsXHJcbi8vICAgICAgICAgICAgICAgICB0ZXh0OiBpbnB1dFxyXG4vLyAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgfSkub24oJ2NoYW5nZScsZnVuY3Rpb24oKXsgICBcclxuLy8gICAgICAgICAgICAgYWxlcnQoXCJzZGZzZFwiKSBcclxuLy8gICAgICAgICAgIC8vICQoJyNteVNlbGVjdCcpLmF0dHIoJ3NpemUnLCcxJyk7XHJcbi8vICAgICAgICAgICAvLyAkKCcjbXlTZWxlY3QnKS50cmlnZ2VyKCdibHVyJyk7XHJcbi8vICAgICAgICAgICAgfSk7XHJcbi8vICAgICAgICAgLy8gICAkKHN6KS5vbignY2hhbmdlJyxmdW5jdGlvbigpeyAgIFxyXG4vLyAgICAgICAgIC8vICAgICAgIGFsZXJ0KFwic2Rmc2RcIikgXHJcbi8vICAgICAgICAgLy8gICAgIC8vICQoJyNteVNlbGVjdCcpLmF0dHIoJ3NpemUnLCcxJyk7XHJcbi8vICAgICAgICAgLy8gICAgIC8vICQoJyNteVNlbGVjdCcpLnRyaWdnZXIoJ2JsdXInKTtcclxuLy8gICAgICAgICAvLyAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICAvLyBpbml0IHNlbGVjdDJcclxuLy8gICAgICAgICAgICAgLy8gLnNlbGVjdDIoeyBcclxuLy8gICAgICAgICAgICAgLy8gICAgIGRhdGE6IHRoaXMub3B0aW9ucyxcclxuLy8gICAgICAgICAgICAgLy8gICAgICB0aGVtZTogXCJib290c3RyYXA0XCIgLG11bHRpcGxlOiB0cnVlLH0pXHJcbi8vICAgICAgICAgICAgIC8vIC52YWwodGhpcy52YWx1ZSlcclxuLy8gICAgICAgICAgICAgLy8gLnRyaWdnZXIoJ2NoYW5nZScpXHJcbi8vICAgICAgICAgICAgIC8vIC8vIGVtaXQgZXZlbnQgb24gY2hhbmdlLlxyXG4vLyAgICAgICAgICAgICAvLyAub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgLy8gICAgIHZtLiRlbWl0KCdpbnB1dCcsIHRoaXMudmFsdWUpXHJcbi8vICAgICAgICAgICAgIC8vIH0pXHJcbi8vICAgICB9LFxyXG4vLyAgICAgd2F0Y2g6IHtcclxuLy8gICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2ZkZHNmXCIpXHJcbi8vICAgICAgICAgICAgIC8vIHVwZGF0ZSB2YWx1ZVxyXG4vLyAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkhlbGxvXCIpXHJcbi8vICAgICAgICAgICAgIC8vICQodGhpcy4kZWwpXHJcbi8vICAgICAgICAgICAgIC8vICAgICAudmFsKHZhbHVlKVxyXG4vLyAgICAgICAgICAgICAvLyAgICAgLnRyaWdnZXIoJ2NoYW5nZScpXHJcbi8vICAgICAgICAgfSxcclxuLy8gICAgICAgICBvcHRpb25zOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4vLyAgICAgICAgICAgICAvLyB1cGRhdGUgb3B0aW9uc1xyXG4vLyAgICAgICAgICAgICAvLyAkKHRoaXMuJGVsKS5lbXB0eSgpLnNlbGVjdDIoeyBkYXRhOiBvcHRpb25zIH0pXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSxcclxuLy8gICAgIGRlc3Ryb3llZDogZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgIC8vICQodGhpcy4kZWwpLm9mZigpLnNlbGVjdDIoJ2Rlc3Ryb3knKVxyXG4vLyAgICAgfVxyXG4vLyB9KVxyXG4iLCJsZXQgdXRpbGl0eSA9IHtcclxuICAgIGdldFVybFBhcmFtZXRlciA6IGZ1bmN0aW9uIGdldFVybFBhcmFtZXRlcihzUGFyYW0pIHtcclxuICAgICAgICB2YXIgc1BhZ2VVUkwgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSxcclxuICAgICAgICAgICAgc1VSTFZhcmlhYmxlcyA9IHNQYWdlVVJMLnNwbGl0KCcmJyksXHJcbiAgICAgICAgICAgIHNQYXJhbWV0ZXJOYW1lLFxyXG4gICAgICAgICAgICBpO1xyXG5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc1VSTFZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzUGFyYW1ldGVyTmFtZSA9IHNVUkxWYXJpYWJsZXNbaV0uc3BsaXQoJz0nKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzUGFyYW1ldGVyTmFtZVswXSA9PT0gc1BhcmFtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc1BhcmFtZXRlck5hbWVbMV0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBkZWNvZGVVUklDb21wb25lbnQoc1BhcmFtZXRlck5hbWVbMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IHV0aWxpdHkgfTsiLCJsZXQgZHJvcGRvd25zID0ge1xyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Ob3RlVHlwZS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgZW5hYmxlTm90ZVR5cGUgOiBmdW5jdGlvbiAoYXBwKSB7XHJcbiAgICAgICAgJChcIiNuVHlwZVwiKS5zZWxlY3QyKHtcclxuICAgICAgICAgICAgLy8gdGFnczogW10sXHJcbiAgICAgICAgICAgIC8vIGFsbG93Q2xlYXI6IHRydWUsXHJcbiAgICAgICAgICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgIC8vIHZhciBkYXRhID0geyBpZDogMSwgdGV4dDogJ2luaXRTZWxlY3Rpb24gdGVzdCcgfTtcclxuICAgICAgICAgICAgICAvLyBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFwcC5wcm9qZWN0VHlwZSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgICAgIC8vbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgICAgICAgICAgLy8gbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICAgICAgICAgIGFqYXg6IHsgLy8gaW5zdGVhZCBvZiB3cml0aW5nIHRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHRoZSByZXF1ZXN0IHdlIHVzZSBTZWxlY3QyJ3MgY29udmVuaWVudCBoZWxwZXJcclxuICAgICAgICAgICAgICB1cmw6IFwiL0dldE5vdGVUeXBlc1wiLFxyXG4gICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgcXVpZXRNaWxsaXM6IDEwMCxcclxuICAgICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgcXVlcnk6IHRlcm0sIC8vIHNlYXJjaCB0ZXJtXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgcmVzdWx0czogZnVuY3Rpb24gKGRhdGEsIHBhZ2UpIHsgLy8gcGFyc2UgdGhlIHJlc3VsdHMgaW50byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IFNlbGVjdDIuXHJcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjcmVhdGVTZWFyY2hDaG9pY2U6IGZ1bmN0aW9uICh0ZXJtLCBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCQoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHQubG9jYWxlQ29tcGFyZSh0ZXJtKSA9PT0gMDtcclxuICAgICAgICAgICAgICB9KS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGlkOiBcIiQqTmV3VGFnKiRcIiwgdGV4dDogdGVybSB9O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy9tdWx0aXBsZTogdHJ1ZSxcclxuICAgICAgICAgIH0pLnNlbGVjdDIoJ3ZhbCcsICcnKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykuc2VsZWN0MignZGF0YScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICAvLyBhbGVydChcImVuYWJsZU5vdGVUeXBlXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgYXBwLm5vZGVNb2RlbC5ub3RlVHlwZS50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgICAgICAgIGFwcC5ub2RlTW9kZWwubm90ZVR5cGUuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVByb2plY3QtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBlbmFibGVQcm9qZWN0OmZ1bmN0aW9uKGFwcCl7XHJcbiAgICAgICQoXCIjcHJvamVjdFwiKS5zZWxlY3QyKHtcclxuICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAvLyBhbGxvd0NsZWFyOiB0cnVlLFxyXG4gICAgICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAgICAgLy8gY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coYXBwLnByb2plY3RUeXBlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgICAgICBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgICAgICBhamF4OiB7IC8vIGluc3RlYWQgb2Ygd3JpdGluZyB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB0aGUgcmVxdWVzdCB3ZSB1c2UgU2VsZWN0MidzIGNvbnZlbmllbnQgaGVscGVyXHJcbiAgICAgICAgICB1cmw6IFwiL0dldFByb2plY3RUeXBlc1wiLFxyXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgIHF1aWV0TWlsbGlzOiAxMDAsXHJcbiAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHF1ZXJ5OiB0ZXJtLCAvLyBzZWFyY2ggdGVybVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYWdlKSB7IC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyLlxyXG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IGRhdGEubW9kZWwgfTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBmdW5jdGlvbiAodGVybSwgZGF0YSkge1xyXG4gICAgICAgICAgaWYgKCQoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5sb2NhbGVDb21wYXJlKHRlcm0pID09PSAwO1xyXG4gICAgICAgICAgfSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBcIiQqTmV3VGFnKiRcIiwgdGV4dDogdGVybSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgIH0pLnNlbGVjdDIoJ3ZhbCcsIFtdKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGFwcC5wcm9qZWN0VHlwZSA9IFwiXCI7XHJcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKVswXTtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGFwcC5ub2RlTW9kZWwucHJvamVjdFR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICAgIGFwcC5ub2RlTW9kZWwucHJvamVjdFR5cGUuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhhcHAucHJvamVjdFR5cGUpXHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUdlbmVyYWxTdWJqZWN0LS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGVuYWJsZUdlbmVyYWxTdWJqZWN0OmZ1bmN0aW9uKGFwcCl7XHJcbiAgICAgICQoXCIjdGVjaG5vbG9neVwiKS5zZWxlY3QyKHtcclxuICAgICAgICB0YWdzOiBbXSxcclxuICAgICAgICAvLyBhbGxvd0NsZWFyOiB0cnVlLFxyXG4gICAgICAgIGluaXRTZWxlY3Rpb246IGZ1bmN0aW9uIChlbGVtZW50LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgLy8gdmFyIGRhdGEgPSB7IGlkOiAxLCB0ZXh0OiAnaW5pdFNlbGVjdGlvbiB0ZXN0JyB9O1xyXG4gICAgICAgICAgLy8gY2FsbGJhY2soZGF0YSk7XHJcbiAgICAgICAgICAvLyBhcHAucHJvamVjdFR5cGUgPSBkYXRhO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgbWF4aW11bUlucHV0TGVuZ3RoOiAzMCxcclxuICAgICAgICBtYXhpbXVtU2VsZWN0aW9uU2l6ZTogMSxcclxuICAgICAgICBhamF4OiB7IC8vIGluc3RlYWQgb2Ygd3JpdGluZyB0aGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB0aGUgcmVxdWVzdCB3ZSB1c2UgU2VsZWN0MidzIGNvbnZlbmllbnQgaGVscGVyXHJcbiAgICAgICAgICB1cmw6IFwiL0dldFRlY2hub2xvZ2llc1wiLFxyXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgIHF1aWV0TWlsbGlzOiAxMDAsXHJcbiAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSwgcGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHF1ZXJ5OiB0ZXJtLCAvLyBzZWFyY2ggdGVybVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHJlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYWdlKSB7IC8vIHBhcnNlIHRoZSByZXN1bHRzIGludG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBTZWxlY3QyLlxyXG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgdXNpbmcgY3VzdG9tIGZvcm1hdHRpbmcgZnVuY3Rpb25zIHdlIGRvIG5vdCBuZWVkIHRvIGFsdGVyIHRoZSByZW1vdGUgSlNPTiBkYXRhXHJcbiAgICAgICAgICAgIHJldHVybiB7IHJlc3VsdHM6IGRhdGEubW9kZWwgfTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyBjYWNoZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlU2VhcmNoQ2hvaWNlOiBmdW5jdGlvbiAodGVybSwgZGF0YSkge1xyXG4gICAgICAgICAgaWYgKCQoZGF0YSkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dC5sb2NhbGVDb21wYXJlKHRlcm0pID09PSAwO1xyXG4gICAgICAgICAgfSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBcIiQqTmV3VGFnKiRcIiwgdGV4dDogdGVybSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbXVsdGlwbGU6IHRydWUsXHJcbiAgICAgIH0pLnNlbGVjdDIoJ3ZhbCcsIFtdKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKVswXTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBhcHAubm9kZU1vZGVsLnRlY2hub2xvZ3lUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgICBhcHAubm9kZU1vZGVsLnRlY2hub2xvZ3lUeXBlLmlkID0gZGF0YS5pZDtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgIH0sXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tU3BlY2lmaWNTdWJqZWN0LS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBlbmFibGVTcGVjaWZpY1N1YmplY3Q6ZnVuY3Rpb24oYXBwKXtcclxuICAgICAgJChcIiNzcGVjaWZpY1N1YmplY3RcIikuc2VsZWN0Mih7XHJcbiAgICAgICAgdGFnczogW10sXHJcbiAgICAgICAgLy8gYWxsb3dDbGVhcjogdHJ1ZSxcclxuICAgICAgICBpbml0U2VsZWN0aW9uOiBmdW5jdGlvbiAoZWxlbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgIC8vIHZhciBkYXRhID0geyBpZDogMSwgdGV4dDogJ2luaXRTZWxlY3Rpb24gdGVzdCcgfTtcclxuICAgICAgICAgIC8vIGNhbGxiYWNrKGRhdGEpO1xyXG4gICAgICAgICAgLy8gYXBwLnByb2plY3RUeXBlID0gZGF0YTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgICAgIG1heGltdW1JbnB1dExlbmd0aDogMzAsXHJcbiAgICAgICAgbWF4aW11bVNlbGVjdGlvblNpemU6IDEsXHJcbiAgICAgICAgYWpheDogeyAvLyBpbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgdGhlIHJlcXVlc3Qgd2UgdXNlIFNlbGVjdDIncyBjb252ZW5pZW50IGhlbHBlclxyXG4gICAgICAgICAgdXJsOiBcIi9HZXRTcGVjaWZpY1N1YmplY3RcIixcclxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICBxdWlldE1pbGxpczogMTAwLFxyXG4gICAgICAgICAgZGF0YTogZnVuY3Rpb24gKHRlcm0sIHBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICBxdWVyeTogdGVybSwgLy8gc2VhcmNoIHRlcm1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICByZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFnZSkgeyAvLyBwYXJzZSB0aGUgcmVzdWx0cyBpbnRvIHRoZSBmb3JtYXQgZXhwZWN0ZWQgYnkgU2VsZWN0Mi5cclxuICAgICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIHVzaW5nIGN1c3RvbSBmb3JtYXR0aW5nIGZ1bmN0aW9ucyB3ZSBkbyBub3QgbmVlZCB0byBhbHRlciB0aGUgcmVtb3RlIEpTT04gZGF0YVxyXG4gICAgICAgICAgICByZXR1cm4geyByZXN1bHRzOiBkYXRhLm1vZGVsIH07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgLy8gY2FjaGU6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZVNlYXJjaENob2ljZTogZnVuY3Rpb24gKHRlcm0sIGRhdGEpIHtcclxuICAgICAgICAgIGlmICgkKGRhdGEpLmZpbHRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHQubG9jYWxlQ29tcGFyZSh0ZXJtKSA9PT0gMDtcclxuICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBpZDogXCIkKk5ld1RhZyokXCIsIHRleHQ6IHRlcm0gfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG11bHRpcGxlOiB0cnVlLFxyXG4gICAgICB9KS5zZWxlY3QyKCd2YWwnLCBbXSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgXHJcbiAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLnNlbGVjdDIoJ2RhdGEnKVswXTtcclxuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBhcHAubm9kZU1vZGVsLnNwZWNpZmljU3ViamVjdC50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgICAgYXBwLm5vZGVNb2RlbC5zcGVjaWZpY1N1YmplY3QuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCB7IGRyb3Bkb3ducyB9OyIsIlxyXG5pbXBvcnQgeyBub3RlSnNNb2RlbCB9IGZyb20gXCIuL21vZGVsL25vdGVKc01vZGVsXCJcclxuaW1wb3J0IHsgY29kZU1pcnJvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudFwiXHJcbmltcG9ydCB7IHNlbGVjdDIgfSBmcm9tIFwiLi9jb21wb25lbnRzL3NlbGVjdDJcIlxyXG5cclxuXHJcbndpbmRvdy5FbmFibGVBZGROb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBhcHAgPSBuZXcgVnVlKHtcclxuICAgIGVsOiAnI2FuYXBwJyxcclxuICAgIC8vIHRlbXBsYXRlOiAnI2RlbW8tdGVtcGxhdGUnLFxyXG4gICAgZGF0YToge1xyXG4gICAgICBzZWxlY3RlZFByb2plY3Q6IFwiXCIsXHJcbiAgICAgIHNlbGVjdGVkU3BlY2lmaWNTdWJqZWN0OiBcIlwiLFxyXG4gICAgICBzZWxlY3RlZEdlbmVyYWxTdWJqZWN0OiBcIlwiLFxyXG4gICAgICBzZWxlY3RlZE5vdGVUeXBlOiBcIlwiLFxyXG4gICAgICBtZXNzYWdlOiAnQ3JlYXRlIGEgTm90ZScsXHJcbiAgICAgIG5vZGVNb2RlbDoge1xyXG4gICAgICAgIGJvb2tNYXJrOiBmYWxzZSxcclxuICAgICAgICB0aXRsZTogXCJcIixcclxuICAgICAgICBwcm9qZWN0VHlwZToge30sXHJcbiAgICAgICAgdGVjaG5vbG9neVR5cGU6IHt9LFxyXG4gICAgICAgIHNwZWNpZmljU3ViamVjdDoge30sXHJcbiAgICAgICAgbm90ZVR5cGU6IHt9LFxyXG4gICAgICAgIG1vZGVsOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgICAgICBkZXNjOiBcIlwiLFxyXG4gICAgICAgICAgICBsYW5nOiBcImh0bWxtaXhlZFwiXHJcbiAgICAgICAgICB9XVxyXG4gICAgICB9LFxyXG4gICAgICBjb21wb25lbnRLZXk6IDEsXHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50czoge1xyXG4gICAgICBjb2RlTWlycm9yQ29tcG9uZW50LFxyXG4gICAgICBzZWxlY3QyXHJcbiAgICB9LFxyXG4gICAgdXBkYXRlZDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgIHN1Ym1pdCgpIHtcclxuXHJcbiAgICAgICAgLy8gdmFyIG5vZGVNb2RlbCA9IGNvbnNvbGUubG9nKHRoaXMubm9kZU1vZGVsLm1vZGVsKTtcclxuICAgICAgICBheGlvcy5wb3N0KCcvUG9zdEFkZE5vdGUnLCB7IG1vZGVsOiB0aGlzLm5vZGVNb2RlbCB9KVxyXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZU1vZGVsID0ge1xyXG4gICAgICAgICAgICAgIGJvb2tNYXJrOiBmYWxzZSxcclxuICAgICAgICAgICAgICB0aXRsZTogXCJcIixcclxuICAgICAgICAgICAgICBwcm9qZWN0VHlwZToge30sXHJcbiAgICAgICAgICAgICAgdGVjaG5vbG9neVR5cGU6IHt9LFxyXG4gICAgICAgICAgICAgIHNwZWNpZmljU3ViamVjdDoge30sXHJcbiAgICAgICAgICAgICAgbm90ZVR5cGU6IHt9LFxyXG4gICAgICAgICAgICAgIG1vZGVsOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIG1haW5ib2R5OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICBkZXNjOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICBsYW5nOiBcImh0bWxtaXhlZFwiXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICBjb21wb25lbnRLZXk6IDEsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2plY3Q9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWROb3RlVHlwZT0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNwZWNpZmljU3ViamVjdD0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdlbmVyYWxTdWJqZWN0PSBcIlwiO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgYWxlcnQoZXJyb3IpXHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgfSxcclxuICAgICAgZ2V0Tm90ZVR5cGVTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlTW9kZWwubm90ZVR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICB0aGlzLm5vZGVNb2RlbC5ub3RlVHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE5vdGVUeXBlID0gZGF0YS50ZXh0O1xyXG5cclxuICAgICAgfSxcclxuICAgICAgZ2V0UHJvamVjdFNlbGVjdFZhbHVlKGRhdGEpIHtcclxuICAgICAgICBhcHAubm9kZU1vZGVsLnByb2plY3RUeXBlLnRleHQgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgYXBwLm5vZGVNb2RlbC5wcm9qZWN0VHlwZS5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFByb2plY3Q9IGRhdGEudGV4dDtcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEdlbmVyYWxTdWJqZWN0U2VsZWN0VmFsdWUoZGF0YSkge1xyXG4gICAgICAgIGFwcC5ub2RlTW9kZWwudGVjaG5vbG9neVR5cGUudGV4dCA9IGRhdGEudGV4dDtcclxuICAgICAgICBhcHAubm9kZU1vZGVsLnRlY2hub2xvZ3lUeXBlLmlkID0gZGF0YS5pZDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkR2VuZXJhbFN1YmplY3Q9IGRhdGEudGV4dDtcclxuXHJcbiAgICAgIH0sICAgICAgXHJcbiAgICAgIGdldFNwZWNpZmljU3ViamVjdFNlbGVjdFZhbHVlKGRhdGEpIHtcclxuICAgICAgICBhcHAubm9kZU1vZGVsLnNwZWNpZmljU3ViamVjdC50ZXh0ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgIGFwcC5ub2RlTW9kZWwuc3BlY2lmaWNTdWJqZWN0LmlkID0gZGF0YS5pZDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU3BlY2lmaWNTdWJqZWN0PSBkYXRhLnRleHQ7XHJcblxyXG4gICAgICB9LFxyXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgdXBkYXRlVHlwZSh2YXJpYWJsZSkge1xyXG5cclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlVGVjaG5vbG9neSh2YXJpYWJsZSkge1xyXG5cclxuICAgICAgfSxcclxuICAgICAgdXBkYXRlUHJvamVjdFR5cGUodmFyaWFibGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh2YXJpYWJsZSlcclxuICAgICAgICB0aGlzLm5vZGVNb2RlbC5wcm9qZWN0VHlwZSA9IHZhcmlhYmxlO1xyXG4gICAgICB9LFxyXG4gICAgICB1cGRhdGVDb2RlTWlycm9yVGV4dChpdGVtKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coaXRlbSlcclxuICAgICAgICB0aGlzLm5vZGVNb2RlbC5tb2RlbFtpdGVtLmluZGV4XS5tYWluYm9keSA9IGl0ZW0udmFsdWVcclxuICAgICAgfSxcclxuICAgICAgYWRkKCkge1xyXG4gICAgICAgIHRoaXMubm9kZU1vZGVsLm1vZGVsLnB1c2goe1xyXG4gICAgICAgICAgbWFpbmJvZHk6IFwiXCIsXHJcbiAgICAgICAgICBkZXNjOiBcIlwiLFxyXG4gICAgICAgICAgbGFuZzogXCJcIlxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgYmVmb3JlQ3JlYXRlKCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTm90aGluZyBnZXRzIGNhbGxlZCBiZWZvcmUgbWUhJylcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkKCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnY3JlYXRlZCAnKVxyXG4gICAgfSxcclxuICAgIG1vdW50ZWQoKSB7XHJcbiAgICAgLy8gJChcIi5jYXJkSGVpZ3RoXCIpLmJsdXIoKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG4gXHJcbn0iLCJpbXBvcnQgeyBub3RlSnNNb2RlbCB9IGZyb20gXCIuL21vZGVsL25vdGVKc01vZGVsXCJcclxuaW1wb3J0IHsgY29kZU1pcnJvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29kZU1pcnJvckNvbXBvbmVudFwiXHJcbmltcG9ydCB7IHV0aWxpdHkgfSBmcm9tIFwiLi9jb21tb24vdXRpbGl0eUpzXCJcclxuaW1wb3J0IHsgZHJvcGRvd25zIH0gZnJvbSBcIi4vY29tbW9uL2Ryb3Bkb3duc0pzXCI7XHJcbmltcG9ydCB7IHNlbGVjdDIgfSBmcm9tIFwiLi9jb21wb25lbnRzL3NlbGVjdDJcIlxyXG5cclxuXHJcbndpbmRvdy5FbmFibGVWdXNKcyA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zb2xlLmxvZyhub3RlSnNNb2RlbC50ZXN0Lm5hbWUpO1xyXG5cclxuICB2YXIgYWN0aW9uID0gJ2luYWN0aXZlJztcclxuICB2YXIgcGFnZSA9IDE7XHJcbiAgdmFyIGFwcCA9IG5ldyBWdWUoe1xyXG4gICAgZWw6ICcjYXBwJyxcclxuICAgIGRhdGE6IHtcclxuICAgICAgbm90ZVR5cGU6IHt9LFxyXG4gICAgICBtZXNzYWdlOiAnSGVsbG8gVnVlIScsXHJcbiAgICAgIHNlYXJjaE1vZGVsOiB7XHJcbiAgICAgICAgc2VhcmNoVGV4dEJveDogXCJcIixcclxuICAgICAgICBib29rTWFyazogZmFsc2UsXHJcbiAgICAgICAgbm90ZVR5cGU6IFwiXCIsXHJcbiAgICAgICAgcHJvamVjdE5hbWU6IFwiXCIsXHJcbiAgICAgICAgdGVjaG5vbG9neTogXCJcIixcclxuICAgICAgICBzcGVjaWZpY1N1YmplY3Q6IFwiXCIsXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBib3htb2RlbDogW10sXHJcbiAgICAgIGRlbGV0ZU1vZGFsTm90ZToge1xyXG4gICAgICAgIGlkOiAwLFxyXG4gICAgICAgIGluZGV4OiAwLFxyXG4gICAgICAgIHRleHQ6IFwiXCJcclxuICAgICAgfSxcclxuICAgICAgY29tcG9uZW50S2V5OiAwLFxyXG5cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgIGNvZGVNaXJyb3JDb21wb25lbnQsXHJcbiAgICAgIHNlbGVjdDJcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgZ2V0Tm90ZVR5cGVTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hNb2RlbC5ub3RlVHlwZSA9IGRhdGEudGV4dDtcclxuICAgICAgICB0aGlzLnNlYXJjaCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRQcm9qZWN0U2VsZWN0VmFsdWUoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuc2VhcmNoTW9kZWwucHJvamVjdE5hbWUgPSBkYXRhLnRleHQ7XHJcbiAgICAgICAgdGhpcy5zZWFyY2goKTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0R2VuZXJhbFN1YmplY3RTZWxlY3RWYWx1ZShkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hNb2RlbC50ZWNobm9sb2d5ID0gZGF0YS50ZXh0O1xyXG4gICAgICAgIHRoaXMuc2VhcmNoKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldFNwZWNpZmljU3ViamVjdFNlbGVjdFZhbHVlKGRhdGEpIHtcclxuICAgICAgICB0aGlzLnNlYXJjaE1vZGVsLnNwZWNpZmljU3ViamVjdCA9IGRhdGEudGV4dDtcclxuICAgICAgICB0aGlzLnNlYXJjaCgpO1xyXG4gICAgICB9LFxyXG4gICAgICBzZWFyY2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwYWdlID0gMTtcclxuICAgICAgICB0aGlzLmxvYWROb3RlKHBhZ2UsIHRydWUpO1xyXG4gICAgICB9LFxyXG4gICAgICBsb2FkTm90ZShwYWdlLCByZXNldCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTExMTExMTExMTExMTExMTE9PT0RERFwiKVxyXG4gICAgICAgIHZhciBwYXJhbSA9IHtcclxuICAgICAgICAgIHBhZ2U6IHBhZ2UsXHJcbiAgICAgICAgICBwZXJQYWdlOiA4LFxyXG4gICAgICAgICAgdGl0bGU6IFwiXCIsXHJcbiAgICAgICAgICBib29rTWFyazogXCJcIixcclxuICAgICAgICAgIG5vdGVUeXBlOiBcIlwiLFxyXG4gICAgICAgICAgcHJvamVjdE5hbWU6IFwiXCIsXHJcbiAgICAgICAgICB0ZWNobm9sb2d5OiBcIlwiLFxyXG4gICAgICAgICAgc3BlY2lmaWNTdWJqZWN0OiBcIlwiLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWFyY2hNb2RlbC5zZWFyY2hUZXh0Qm94KVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hNb2RlbC5zZWFyY2hUZXh0Qm94ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWFyY2hNb2RlbC5zZWFyY2hUZXh0Qm94ICE9IFwiXCIpXHJcbiAgICAgICAgICBwYXJhbS50aXRsZSA9IFwiJnRpdGxlPVwiICsgdGhpcy5zZWFyY2hNb2RlbC5zZWFyY2hUZXh0Qm94O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hNb2RlbC5ib29rTWFyayAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwuYm9va01hcmsgIT0gZmFsc2UpXHJcbiAgICAgICAgICBwYXJhbS5ib29rTWFyayA9IFwiJmJvb2tNYXJrPVwiICsgdGhpcy5zZWFyY2hNb2RlbC5ib29rTWFyaztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoTW9kZWwubm90ZVR5cGUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlYXJjaE1vZGVsLm5vdGVUeXBlICE9IGZhbHNlKVxyXG4gICAgICAgICAgcGFyYW0ubm90ZVR5cGUgPSBcIiZub3RlVHlwZT1cIiArIHRoaXMuc2VhcmNoTW9kZWwubm90ZVR5cGU7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaE1vZGVsLnByb2plY3ROYW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWFyY2hNb2RlbC5wcm9qZWN0TmFtZSAhPSBmYWxzZSlcclxuICAgICAgICAgIHBhcmFtLnByb2plY3ROYW1lID0gXCImcHJvamVjdE5hbWU9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLnByb2plY3ROYW1lO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZWFyY2hNb2RlbC50ZWNobm9sb2d5ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZWFyY2hNb2RlbC50ZWNobm9sb2d5ICE9IGZhbHNlKVxyXG4gICAgICAgICAgcGFyYW0udGVjaG5vbG9neSA9IFwiJnRlY2hub2xvZ3k9XCIgKyB0aGlzLnNlYXJjaE1vZGVsLnRlY2hub2xvZ3k7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaE1vZGVsLnNwZWNpZmljU3ViamVjdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2VhcmNoTW9kZWwuc3BlY2lmaWNTdWJqZWN0ICE9IGZhbHNlKVxyXG4gICAgICAgICAgcGFyYW0uc3BlY2lmaWNTdWJqZWN0ID0gXCImc3BlY2lmaWNTdWJqZWN0PVwiICsgdGhpcy5zZWFyY2hNb2RlbC5zcGVjaWZpY1N1YmplY3Q7XHJcblxyXG5cclxuICAgICAgICBub3RlSnNNb2RlbC5nZXROb3RlcyhwYXJhbSlcclxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5ib3htb2RlbCA9IFtdO1xyXG4gICAgICAgICAgICAgIHRoaXMuYm94bW9kZWwgPSByZXNwb25zZS5kYXRhLm1vZGVsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5tb2RlbC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ib3htb2RlbC5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFjdGlvbiA9ICdpbmFjdGl2ZSc7XHJcbiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAvLyBET00gaXMgbm93IHVwZGF0ZWRcclxuICAgICAgICAgICAgICAvLyBgdGhpc2AgaXMgYm91bmQgdG8gdGhlIGN1cnJlbnQgaW5zdGFuY2VcclxuICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudEtleSArPSAxO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIClcclxuICAgICAgfSxcclxuICAgICAgT3BlbkNsb3NlTm90ZShpZCkge1xyXG4gICAgICAgIHZhciBoZWlndGggPSBcIjEwMHB4XCI7XHJcbiAgICAgICAgZGVidWdnZXI7XHJcbiAgICAgICAgJChcIiNvYy1cIiArIGlkKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCQodGhpcykucGFyZW50KCkucGFyZW50KCkuY2hpbGRyZW4oXCIuY2FyZEhlaWd0aFwiKSlcclxuICAgICAgICB2YXIgc2VsY3RvciA9ICQoXCIjb2MtXCIgKyBpZCk7XHJcbiAgICAgICAgdmFyIHNlbGUgPSAkKHNlbGN0b3IpLnBhcmVudCgpLnBhcmVudCgpXHJcbiAgICAgICAgdmFyIGggPSAkKHNlbGN0b3IpLmNzcyhcImhlaWdodFwiKTtcclxuICAgICAgICBpZiAoaCA9PSBoZWlndGgpIHtcclxuICAgICAgICAgICQoc2VsY3RvcikuY3NzKCdoZWlnaHQnLCAnYXV0bycpO1xyXG4gICAgICAgICAgJChzZWxjdG9yKS5jc3MoJ292ZXJmbG93LXknLCAnaGlkZGVuJyk7XHJcbiAgICAgICAgICAkKHNlbGUpLnJlbW92ZUNsYXNzKFwiY29sLWxnLTZcIilcclxuICAgICAgICAgICQoc2VsZSkuYWRkQ2xhc3MoXCJjb2wtbGctMTJcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJChzZWxjdG9yKS5jc3MoJ2hlaWdodCcsIGhlaWd0aCk7XHJcbiAgICAgICAgICAkKHNlbGN0b3IpLmNzcygnb3ZlcmZsb3cteScsICdzY3JvbGwnKTtcclxuICAgICAgICAgICQoc2VsZSkucmVtb3ZlQ2xhc3MoXCJjb2wtbGctMTJcIilcclxuICAgICAgICAgICQoc2VsZSkuYWRkQ2xhc3MoXCJjb2wtbGctNlwiKVxyXG4gICAgICAgICAgLy8gJChzZWxjdG9yKS5hbmltYXRlKHtoZWlnaHQ6XCIxMDBweFwifSwgNDAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIC8vICAgICAvLyBBbmltYXRpb24gY29tcGxldGUuXHJcbiAgICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9wZW5EZWxldGVNb2RhbChpZCwgaW5kZXgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhpZClcclxuICAgICAgICB0aGlzLmRlbGV0ZU1vZGFsTm90ZS5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlTW9kYWxOb3RlLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgaW5kZXhcclxuICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAkKCcjZGVsZXRlTW9kYWwnKS5tb2RhbCgndG9nZ2xlJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfSxcclxuICAgICAgZGVsZXRlTm90ZShpZCwgaW5kZXgpIHtcclxuICAgICAgICAvLyBpZiAoY29uZmlybShcIldhbm5hIERlbGV0ZT9cIikpIHtcclxuICAgICAgICBub3RlSnNNb2RlbC5kZWxldGVOb3RlKGlkKVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgICAgdGhpcy4kZGVsZXRlKHRoaXMuYm94bW9kZWwsIGluZGV4KVxyXG4gICAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgJCgnI2RlbGV0ZU1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAvL1VwZGF0ZSBDb21wb25lbnRzIGFuZCBldmVyeVRoaW5nXHJcbiAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRLZXkgKz0gMTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIClcclxuICAgICAgICAvLyB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGFsZXJ0KFwiZHNkZnNcIilcclxuICAgIH0sXHJcbiAgICBtb3VudGVkKCkge1xyXG4gICAgICAvLyBkcm9wZG93bnMuZW5hYmxlTm90ZVR5cGUoYXBwKTtcclxuICAgICAgY29uc29sZS5sb2coXCIkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJFwiKVxyXG4gICAgICBjb25zb2xlLmxvZyhcInBhZ2U9PlwiKVxyXG4gICAgICBjb25zb2xlLmxvZyh1dGlsaXR5LmdldFVybFBhcmFtZXRlcihcInByb2plY3RcIikpXHJcbiAgICAgIHRoaXMubG9hZE5vdGUocGFnZSk7XHJcblxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgoJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpID4gJChkb2N1bWVudCkuaGVpZ2h0KCkgLSA1KSAmJiBhY3Rpb24gPT0gJ2luYWN0aXZlJykge1xyXG4gICAgICBhY3Rpb24gPSAnYWN0aXZlJztcclxuICAgICAgLy8gIHN0YXJ0ID0gc3RhcnQgKyBsaW1pdDtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcGFnZSA9IHBhZ2UgKyAxO1xyXG4gICAgICAgIGFwcC5sb2FkTm90ZShwYWdlKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH1cclxuICB9KTtcclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiI3NlYXJjaFR4dFwiKS5mb2N1cygpO1xyXG4gIH0pO1xyXG5cclxuXHJcbiAgJCgnYm9keScpLm9uKCdjbGljaycsICcuT3BlbkNsb3NlTm90ZScsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfSk7XHJcblxyXG59IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIEluaXRpYWxpemUgbmFtZXNwYWNlICd1dGlsaXRpZXMnIChvciB1c2UgZXhpc3Rpbmcgb25lIGlmIHByZXNlbnQpXHJcbiAgICB3aW5kb3cubm90ZVV0aWxpdHlKcyA9IHdpbmRvdy5ub3RlVXRpbGl0eUpzIHx8IHt9O1xyXG4gIFxyXG5cclxuICAgIHZhciBlZGl0QXJyID0gW107XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1pcnJvckNvZGVcIikubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGxhbmcgPSAkKCQoXCIubWlycm9yQ29kZVwiKVtpXSkuYXR0cihcImxhbmdcIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibGFuZyA9IFwiICsgbGFuZyk7XHJcbiAgICAgIHZhciBlZGl0b3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibWlycm9yQ29kZVwiKVtpXSwge1xyXG4gICAgICAgIG1vZGU6IGxhbmcsXHJcbiAgICAgICAgbGluZU51bWJlcnM6IHRydWUsXHJcbiAgICAgICAgc3R5bGVBY3RpdmVMaW5lOiB0cnVlLFxyXG4gICAgICAgIG1hdGNoQnJhY2tldHM6IHRydWUsXHJcbiAgICAgICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LFxyXG4gICAgICB9KTtcclxuICAgICAgZWRpdEFyci5wdXNoKGVkaXRvcilcclxuICAgIH1cclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBTZXR1cCAtIGFkZCBhIHRleHQgaW5wdXQgdG8gZWFjaCBmb290ZXIgY2VsbFxyXG4gICAgICAgICQoJyNleGFtcGxlIHRoZWFkIHRyJykuY2xvbmUodHJ1ZSkuYXBwZW5kVG8oICcjZXhhbXBsZSB0aGVhZCcgKTtcclxuICAgICAgICAkKCcjZXhhbXBsZSB0aGVhZCB0cjplcSgxKSB0aCcpLmVhY2goIGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgIHZhciB0aXRsZSA9ICQodGhpcykudGV4dCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmh0bWwoICc8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCAnK3RpdGxlKydcIiAvPicgKTtcclxuICAgICBcclxuICAgICAgICAgICAgJCggJ2lucHV0JywgdGhpcyApLm9uKCAna2V5dXAgY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCB0YWJsZS5jb2x1bW4oaSkuc2VhcmNoKCkgIT09IHRoaXMudmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbHVtbihpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VhcmNoKCB0aGlzLnZhbHVlIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSApO1xyXG4gICAgICAgIH0gKTtcclxuICAgICBcclxuICAgICAgICB2YXIgdGFibGUgPSAkKCcjZXhhbXBsZScpLkRhdGFUYWJsZSgge1xyXG4gICAgICAgICAgICBvcmRlckNlbGxzVG9wOiB0cnVlLFxyXG4gICAgICAgICAgICBmaXhlZEhlYWRlcjogdHJ1ZVxyXG4gICAgICAgIH0gKTtcclxuICAgIH0gKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7IC8vIFN0YXJ0IG9mIHVzZSBzdHJpY3RcbiAgdmFyIGlkYyA9IDE7XG4gICQoJ2JvZHknKS5vbignY2xpY2snLCAnI2FkZHByb2dyYW1taW5nbm90ZWJvZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gYWxlcnQoXCJzXCIpXG4gICAgZGVidWdnZXI7XG4gICAgbGV0IGlkID0gXCJjb2RlXCIgKyBpZGNcbiAgICBsZXQgaWRTZWxlY3QgPSBcImNvZGVcIiArIGlkY1xuXG4gICAgdmFyIHRleHRBcmVhQm9keSA9IGA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBub3RlLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPVwiYCsgaWQgKyBgXCIgcm93cz1cIjhcIiBuYW1lPSdjb2RlW2AgKyBpZGMgKyBgXVtib2R5XScgc3R5bGU9XCJtYXJnaW46IDEwcHg7IFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiXCIgY2xhc3M9XCJjb2RlIGZvcm0tY29udHJvbFwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXZgXG5cbiAgICB2YXIgcm93ID0gYDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1tZC05XCI+PGlucHV0IGlkPVwiZXhhbXBsZUlucHV0RW1haWwxXCIgXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiZW1haWxIZWxwXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUaXRsZVwiIG5hbWU9XCJjb2RlW2ArIGlkYyArIGBdW2Rlc2NdXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgYm94LWlkPVwiYCsgaWQgKyBgXCIgIGNsYXNzPVwiZm9ybS1ncm91cCBjb2wtbWQtMyBzZWxlY3RsYW5nXCI+XG4gICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbFwiIG5hbWU9XCJjb2RlW2ArIGlkYyArIGBdW2NvZGVsYW5nXVwiPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiaHRtbG1peGVkXCI+SHRtbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC9jc3NcIj4gQ1NTPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L2phdmFzY3JpcHRcIj4gSmF2YVNjcmlwdDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LXNxbFwiPiBTUWw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1jc2hhcnBcIj4gQyM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1weXRob25cIj4gUHl0aG9uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtamF2YVwiPiBKYXZhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0ZXh0L3gtcGhwXCI+IFBIUDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LWMrK3NyY1wiPiBDKys8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1jc3JjXCI+IEM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRleHQveC1nb1wiPiBHbzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidGV4dC94LXJzcmNcIj4gUjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYXBwbGljYXRpb24veC1wb3dlcnNoZWxsXCI+IFBvd2VyU2hlbGw8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmBcblxuICAgICQoXCIubm90ZS1ib2R5XCIpLmxhc3QoKS5hZnRlcihyb3cgKyB0ZXh0QXJlYUJvZHkpO1xuXG4gICAgdmFyIGVkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSwge1xuICAgICAgbGluZU51bWJlcnM6IHRydWUsXG4gICAgICBzdHlsZUFjdGl2ZUxpbmU6IHRydWUsXG4gICAgICBtYXRjaEJyYWNrZXRzOiB0cnVlLFxuICAgICAgdmlld3BvcnRNYXJnaW46IEluZmluaXR5LFxuICAgICAgLy8gbW9kZTogXCJodG1sbWl4ZWRcIlxuICAgIH0pO1xuICAgIC8vIGVkaXRBcnIucHVzaChlZGl0b3IpXG4gICAgaWRjID0gaWRjICsgMTtcbiAgfSk7XG5cbiAgJCgnYm9keScpLm9uKCdjaGFuZ2UnLCAnLnNlbGVjdGxhbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHMgPSAkKHRoaXMpLmF0dHIoXCJib3gtaWRcIilcbiAgICB2YXIgdiA9ICQodGhpcykudmFsKClcbiAgICAvLyBhbGVydChzK3YpO1xuICB9KTtcblxuICAkKFwiI3NlYXJjaEJveEJ0blwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlc3VsdCA9ICQoXCIjc2VhcmNoQm94XCIpLnZhbCgpO1xuICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9Ob3Rlcz90aXRsZT1cIityZXN1bHQ7XG4gIH0pO1xuXG5cblxuICBmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkge1xuICAgICQoXCJib2R5XCIpLnRvZ2dsZUNsYXNzKFwic2lkZWJhci10b2dnbGVkXCIpO1xuICAgICQoXCIuc2lkZWJhclwiKS50b2dnbGVDbGFzcyhcInRvZ2dsZWRcIik7XG4gICAgaWYgKCQoXCIuc2lkZWJhclwiKS5oYXNDbGFzcyhcInRvZ2dsZWRcIikpIHtcbiAgICAgICQoJy5zaWRlYmFyIC5jb2xsYXBzZScpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgfTtcbiAgfVxuICB0b2dnbGVTaWRlYmFyKCk7XG4gIC8vIFRvZ2dsZSB0aGUgc2lkZSBuYXZpZ2F0aW9uXG4gICQoXCIjc2lkZWJhclRvZ2dsZSwgI3NpZGViYXJUb2dnbGVUb3BcIikub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICB0b2dnbGVTaWRlYmFyKCk7XG4gICAgLy8gJChcImJvZHlcIikudG9nZ2xlQ2xhc3MoXCJzaWRlYmFyLXRvZ2dsZWRcIik7XG4gICAgLy8gJChcIi5zaWRlYmFyXCIpLnRvZ2dsZUNsYXNzKFwidG9nZ2xlZFwiKTtcbiAgICAvLyBpZiAoJChcIi5zaWRlYmFyXCIpLmhhc0NsYXNzKFwidG9nZ2xlZFwiKSkge1xuICAgIC8vICAgJCgnLnNpZGViYXIgLmNvbGxhcHNlJykuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICAvLyB9O1xuICB9KTtcblxuICAvLyBDbG9zZSBhbnkgb3BlbiBtZW51IGFjY29yZGlvbnMgd2hlbiB3aW5kb3cgaXMgcmVzaXplZCBiZWxvdyA3NjhweFxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICQoJy5zaWRlYmFyIC5jb2xsYXBzZScpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gUHJldmVudCB0aGUgY29udGVudCB3cmFwcGVyIGZyb20gc2Nyb2xsaW5nIHdoZW4gdGhlIGZpeGVkIHNpZGUgbmF2aWdhdGlvbiBob3ZlcmVkIG92ZXJcbiAgJCgnYm9keS5maXhlZC1uYXYgLnNpZGViYXInKS5vbignbW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbCB3aGVlbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpID4gNzY4KSB7XG4gICAgICB2YXIgZTAgPSBlLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIGRlbHRhID0gZTAud2hlZWxEZWx0YSB8fCAtZTAuZGV0YWlsO1xuICAgICAgdGhpcy5zY3JvbGxUb3AgKz0gKGRlbHRhIDwgMCA/IDEgOiAtMSkgKiAzMDtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNjcm9sbCB0byB0b3AgYnV0dG9uIGFwcGVhclxuICAkKGRvY3VtZW50KS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxEaXN0YW5jZSA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG4gICAgaWYgKHNjcm9sbERpc3RhbmNlID4gMTAwKSB7XG4gICAgICAkKCcuc2Nyb2xsLXRvLXRvcCcpLmZhZGVJbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKCcuc2Nyb2xsLXRvLXRvcCcpLmZhZGVPdXQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNtb290aCBzY3JvbGxpbmcgdXNpbmcgalF1ZXJ5IGVhc2luZ1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnYS5zY3JvbGwtdG8tdG9wJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJGFuY2hvciA9ICQodGhpcyk7XG4gICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogKCQoJGFuY2hvci5hdHRyKCdocmVmJykpLm9mZnNldCgpLnRvcClcbiAgICB9LCAxMDAwLCAnZWFzZUluT3V0RXhwbycpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSk7XG5cbn0pKGpRdWVyeSk7IC8vIEVuZCBvZiB1c2Ugc3RyaWN0XG4iXSwic291cmNlUm9vdCI6IiJ9